/*@license For license information please refer to 3222.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3222],{33222:function(e,t,n){n.d(t,{EB:function(){return ud},Hb:function(){return xn},Rn:function(){return Nn},UG:function(){return Bn},UX:function(){return cm},Vn:function(){return $n},XU:function(){return Wp},Z0:function(){return J_},c4:function(){return gu},cY:function(){return g_},g9:function(){return Xn},tX:function(){return Pn}});var a=n(96540),r=n(16484),l=n(94220),i=n(14764),o=n(43857),c=n(82960),s=n(612),d=n(68174),u=n(77643),m=n(36360),p=n(2619),y=n(93149),_=n(94495),v=n(25466),S=n(75826),E=n(1023),g=n(67226),f=n(30313),h=n(34638),D=n(15144),T=n(47576),b=n(63134),C=n(71831),I=n(52431),A=n(77969),F=n(85625),O=n(48831),k=n(57732),G=n(90745),R=n(15430),L=n(24355),P=n(68098),M=n(49784),N=n(1192),x=n(8508),B=n(10159),w=n(61917),W=n(67045),U=n(68963),H=n(48979),V=n(13783),z=n(61837),Y=n(88427),q=n(88753),j=n(38209),$=n(18518),K=n(91214),J=n(69596),Q=n(46198),X=n(40051),Z=n(83885),ee=n(65618),te=n(43298),ne=n(77027),ae=n(27438),re=n(39938),le=n(44858),ie=n(67811),oe=n(15685),ce=n(56755),se=n(33055);function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ue(e,t,n,a,r,l,i){try{var o=e[l](i),c=o.value}catch(s){return void n(s)}o.done?t(c):Promise.resolve(c).then(a,r)}function me(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var l=e.apply(t,n);function i(e){ue(l,a,r,i,o,"next",e)}function o(e){ue(l,a,r,i,o,"throw",e)}i(void 0)}))}}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){pe(e,t,n[t])}))}return e}function _e(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);i=!0);}catch(c){o=!0,r=c}finally{try{i||null==n.return||n.return()}finally{if(o)throw r}}return l}}(e,t)||ge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ee(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){if(e){if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}function fe(e,t){var n,a,r,l,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function o(l){return function(o){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(o){l=[6,o],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}function he(){var e=Se(["\n  fragment SearchFormProductSelectorFragment on SearchFormProductSelector {\n    products {\n      ...SearchFormProductFragment\n    }\n  }\n\n  fragment SearchFormProductFragment on SearchFormProduct {\n    clickAnalytics {\n      linkName\n      referrerId\n    }\n    id\n    label\n    selected\n    type\n    targetURI\n  }\n"]);return he=function(){return e},e}function De(){var e=Se(["\n  query ProductSelectorQuery($context: ContextInput!) {\n    searchForm(context: $context) {\n      productSelector {\n        ...SearchFormProductSelectorFragment\n      }\n    }\n  }\n  ","\n"]);return De=function(){return e},e}function Te(){var e=Se(["\n  query SearchFormBackgroundImageQuery($context: ContextInput!, $uriContext: UriContextInput!, $contentTopic: String!, $experienceType: String!) {\n    travelExperienceManagerContent(context: $context, uriContext: $uriContext, contentTopic: $contentTopic, experienceType: $experienceType) {\n      editorialComponent {\n        content {\n          ... on EMMediaComponents {\n            items {\n              mediaType {\n                ... on Image {\n                  description\n                  src: url\n                  aspectRatio\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return Te=function(){return e},e}function be(){var e=Se(["\n  fragment EGDSButtonFragment on EGDSButton {\n    primary\n    disabled\n    accessibility\n    icon {\n      id\n      description\n      token\n      title\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n    action {\n      accessibility\n    }\n  }\n"]);return be=function(){return e},e}function Ce(){var e=Se(["\n  fragment EGDSSearchFormButtonFragment on EGDSSearchFormButton {\n    egdsElementId\n    ...EGDSButtonFragment\n    onClick {\n      ...EGDSSubmitSearchFormActionFragment\n    }\n  }\n\n  fragment EGDSSubmitSearchFormActionFragment on EGDSSubmitSearchFormAction {\n    analytics {\n      linkName\n      referrerId\n    }\n  }\n  ","\n"]);return Ce=function(){return e},e}function Ie(){var e=Se(["\n  fragment IconFragment on Icon {\n    id\n    title\n    token\n    description\n    size\n  }\n"]);return Ie=function(){return e},e}function Ae(){var e=Se(["\n  fragment EGDSSearchFormMoreInfoTriggerSheetFragment on EGDSSheet {\n    closeAccessibility\n    closeAnalytics {\n      referrerId\n      linkName\n    }\n    sheetTypes {\n      ... on EGDSSheetTypePerViewSize {\n        sheetType\n        viewSize\n      }\n    }\n  }\n"]);return Ae=function(){return e},e}function Fe(){var e=Se(["\n  fragment EGDSSearchFormMoreInfoTriggerFragment on EGDSMoreInfoTrigger {\n    text\n    icon {\n      ...IconFragment\n    }\n    triggerAction {\n      accessibility\n      text\n      analytics {\n        referrerId\n        linkName\n      }\n      sheet {\n        ...EGDSSearchFormMoreInfoTriggerSheetFragment\n      }\n    }\n  }\n  ","\n  ","\n"]);return Fe=function(){return e},e}function Oe(){var e=Se(["\n  fragment EGDSBasicPillFragment on EGDSBasicPill {\n    accessibility\n    disabled\n    name\n    primary\n    selected\n    selectedText\n    value\n    icon {\n      ...IconFragment\n    }\n    selectAnalytics {\n      ...AnalyticsFragment\n    }\n    deselectAnalytics {\n      ...AnalyticsFragment\n    }\n  }\n\n  fragment AnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n\n  ","\n"]);return Oe=function(){return e},e}function ke(){var e=Se(["\n  fragment EGDSDatePickerFlexibilityCalendarContentFragment on EGDSDatePickerFlexibilityCalendarContent {\n    __typename\n    flexibleDateOptions {\n      ...EGDSBasicPillFragment\n    }\n    formElementId\n    title {\n      text\n      accessibility\n    }\n  }\n  ","\n"]);return ke=function(){return e},e}function Ge(){var e=Se(["\n  fragment EGDSBasicTabsFragment on EGDSBasicTabs {\n    __typename\n    egdsElementId\n    selectedTabId\n    tabs {\n      ... on EGDSBasicTab {\n        __typename\n        accessibility\n        clickAnalytics {\n          linkName\n          referrerId\n        }\n        label\n        tabId\n      }\n    }\n  }\n"]);return Ge=function(){return e},e}function Re(){var e=Se(["\n  fragment EGDSStandardBadgeFragment on EGDSStandardBadge {\n    __typename\n    text\n    theme\n    size\n    accessibility\n  }\n"]);return Re=function(){return e},e}function Le(){var e=Se(["\n  fragment EGDSBadgeFragment on EGDSBadge {\n    __typename\n\n    ...EGDSStandardBadgeFragment\n  }\n\n  ","\n"]);return Le=function(){return e},e}function Pe(){var e=Se(["\n  fragment EGDSToggleButtonFragment on EGDSToggleButton {\n    __typename\n    egdsElementId\n    primary\n    subText\n    name\n    selectedAnalytics {\n      linkName\n      referrerId\n    }\n    unselectedAnalytics {\n      linkName\n      referrerId\n    }\n    icon {\n      ... on Icon {\n        id\n        size\n      }\n    }\n    selected\n    disabled\n  }\n"]);return Pe=function(){return e},e}function Me(){var e=Se(["\n  fragment EGDSToggleButtonGroupFragment on EGDSToggleButtonGroup {\n    __typename\n    options {\n      ...EGDSToggleButtonFragment\n    }\n  }\n\n  ","\n"]);return Me=function(){return e},e}function Ne(){var e=Se(["\n  fragment EGDSDatePickerFlexibleMonthsFragment on EGDSDatePickerFlexibleMonths {\n    heading\n    subHeading\n    options {\n      ...EGDSToggleButtonGroupFragment\n    }\n  }\n  ","\n"]);return Ne=function(){return e},e}function xe(){var e=Se(["\n  fragment EGDSBasicCheckBoxFragment on EGDSBasicCheckBox {\n    egdsElementId\n    description\n    enabled\n    checkedAnalytics {\n      linkName\n      referrerId\n    }\n    uncheckedAnalytics {\n      linkName\n      referrerId\n    }\n    label {\n      text\n    }\n    name\n    required\n    state\n  }\n"]);return xe=function(){return e},e}function Be(){var e=Se(["\n  fragment EGDSCheckBoxFragment on EGDSCheckBox {\n    __typename\n\n    ...EGDSBasicCheckBoxFragment\n  }\n\n  ","\n"]);return Be=function(){return e},e}function we(){var e=Se(["\n  fragment EGDSBasicRemovablePillFragment on EGDSBasicRemovablePill {\n    primary\n    name\n    accessibility\n    id\n    removeAnalytics {\n      referrerId\n      linkName\n    }\n    value\n  }\n"]);return we=function(){return e},e}function We(){var e=Se(["\n  fragment EGDSBasicTriggerPillFragment on EGDSBasicTriggerPill {\n    id\n    disabled\n    primary\n    selected\n    icon {\n      ...IconFragment\n    }\n    selectAnalytics {\n      ...AnalyticsFragment\n    }\n    deselectAnalytics {\n      ...AnalyticsFragment\n    }\n    accessibility\n  }\n\n  fragment AnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n\n  ","\n"]);return We=function(){return e},e}function Ue(){var e=Se(["\n  fragment EGDSPillFragment on EGDSPill {\n    __typename\n\n    ...EGDSBasicPillFragment\n    ...EGDSBasicTriggerPillFragment\n    ...EGDSBasicRemovablePillFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return Ue=function(){return e},e}function He(){var e=Se(["\n  fragment EGDSDatePickerFlexibleNightsFragment on EGDSDatePickerFlexibleNights {\n    heading\n    includeWeekend {\n      ...EGDSCheckBoxFragment\n    }\n    options {\n      ...EGDSPillFragment\n    }\n  }\n  ","\n  ","\n"]);return He=function(){return e},e}function Ve(){var e=Se(["\n  fragment EGDSDatePickerFlexibilityDatesContentFragment on EGDSDatePickerFlexibilityDatesContent {\n    __typename\n    nightsSelection {\n      ...EGDSDatePickerFlexibleNightsFragment\n    }\n    monthsSelection {\n      ...EGDSDatePickerFlexibleMonthsFragment\n    }\n  }\n  ","\n  ","\n"]);return Ve=function(){return e},e}function ze(){var e=Se(["\n  fragment EGDSDatePickerFlexibilityContentFragment on EGDSDatePickerFlexibilityContent {\n    __typename\n    calendarContent {\n      ...EGDSDatePickerFlexibilityCalendarContentFragment\n    }\n    contentSelector {\n      ...EGDSBasicTabsFragment\n    }\n    flexibleDatesContent {\n      ...EGDSDatePickerFlexibilityDatesContentFragment\n    }\n    flexibilityLabel {\n      templates {\n        template\n        category\n      }\n      models {\n        key\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return ze=function(){return e},e}function Ye(){var e=Se(["\n  fragment SearchFormFlexibleDatesPriceInsightsMonthlyFragment on SearchFormPriceInsightsMonthlyResponse {\n    options {\n      ... on SearchFormPriceInsightsMonthlyOption {\n        __typename\n        button {\n          ...EGDSToggleButtonFragment\n        }\n        price {\n          ...EGDSBadgeFragment\n        }\n      }\n    }\n    explainabilityText {\n      ...EGDSSearchFormMoreInfoTriggerFragment\n    }\n  }\n  ","\n  ","\n  ","\n"]);return Ye=function(){return e},e}function qe(){var e=Se(["\n  query SearchFormPriceInsights($context: ContextInput!, $gaiaId: String!) {\n    searchFormPriceInsights(context: $context) {\n      flexibleDatesMonthly(gaiaId: $gaiaId) {\n        __typename\n        ...SearchFormFlexibleDatesPriceInsightsMonthlyFragment\n      }\n    }\n  }\n\n  ","\n"]);return qe=function(){return e},e}function je(){var e=Se(["\n  fragment SearchFormFlexibleDatesPriceInsightsDailyFragment on SearchFormPriceInsightsDailyResponse {\n    days {\n      ...SearchFormPriceInsightsDayFragment\n    }\n    explainabilityText {\n      ...EGDSSearchFormMoreInfoTriggerFragment\n    }\n    analytics {\n      presentationAnalytics\n      rangeAnalytics\n      startDateAnalytics\n      errorAnalytics\n    }\n  }\n\n  fragment SearchFormPriceInsightsDayFragment on SearchFormPriceInsightsDay {\n    date {\n      day\n      month\n      year\n    }\n    theme\n    accessibilityText\n  }\n  ","\n"]);return je=function(){return e},e}function $e(){var e=Se(["\n  query SearchFormPriceInsightsDaily($context: ContextInput!, $criteria: SearchFormPriceInsightsDailyInput!) {\n    searchFormPriceInsights(context: $context) {\n      dailyPrice(criteria: $criteria) {\n        __typename\n        ...SearchFormFlexibleDatesPriceInsightsDailyFragment\n      }\n    }\n  }\n\n  ","\n"]);return $e=function(){return e},e}function Ke(){var e=Se(["\n  fragment EGDSDateRangePickerFragment on EGDSDateRangePicker {\n    buttonText\n    buttonTextTemplate {\n      ... on EGDSCardinalLocalizedText {\n        text\n        models {\n          key\n          source\n          __typename\n        }\n        templates {\n          category\n          template\n          __typename\n        }\n        __typename\n      }\n    }\n    clearButtonText\n    firstDayOfWeek\n    maxNumberOfDaysSelected\n    sameDaySelectionAllowed\n    selectedStartDate {\n      ...DateFragment\n    }\n    startDatePlaceholderText\n    selectedEndDate {\n      ...DateFragment\n    }\n    endDatePlaceholderText\n    validDaysLowerBoundInclusive {\n      ...DateFragment\n    }\n    validDaysUpperBoundInclusive {\n      ...DateFragment\n    }\n    submitButtonAnalytics {\n      linkName\n      referrerId\n    }\n    nextButtonAnalytics {\n      linkName\n      referrerId\n    }\n    previousButtonAnalytics {\n      linkName\n      referrerId\n    }\n    startDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    endDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    clearDatesButtonAnalytics {\n      linkName\n      referrerId\n    }\n    showClearDatesButton\n\n    flexibleDateContent {\n      ...EGDSDatePickerFlexibilityContentFragment\n    }\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n\n  ","\n"]);return Ke=function(){return e},e}function Je(){var e=Se(["\n  fragment EGDSSingleDatePickerFragment on EGDSSingleDatePicker {\n    buttonText\n    selectedStartDate {\n      ...DateFragment\n    }\n    validDaysLowerBoundInclusive {\n      ...DateFragment\n    }\n    validDaysUpperBoundInclusive {\n      ...DateFragment\n    }\n    submitButtonAnalytics {\n      linkName\n      referrerId\n    }\n    startDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    firstDayOfWeek\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n"]);return Je=function(){return e},e}function Qe(){var e=Se(["\n  fragment EGDSSearchFormDatePickerFieldFragment on EGDSSearchFormDatePickerField {\n    egdsElementId\n    label\n    placeholder\n    errorMessage\n    validations {\n      ... on EGDSMaxLengthInputValidation {\n        errorMessage\n      }\n    }\n    action {\n      ...EGDSOpenDatePickerActionFragment\n    }\n  }\n\n  fragment EGDSOpenDatePickerActionFragment on EGDSOpenDatePickerAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    datePicker {\n      ...EGDSDateRangePickerFragment\n      ...EGDSSingleDatePickerFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Qe=function(){return e},e}function Xe(){var e=Se(["\n  fragment EGDSPrimaryButtonFragment on UIPrimaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return Xe=function(){return e},e}function Ze(){var e=Se(["\n  fragment EGDSTertiaryButtonFragment on UITertiaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return Ze=function(){return e},e}function et(){var e=Se(["\n  fragment EGDSErrorSummaryFragment on EGDSErrorSummary {\n    egdsElementId\n    goToErrorLinkText\n    goToFirstErrorLinkText\n    heading\n    body {\n      text\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n    impressionAnalytics {\n      linkName\n      referrerId\n    }\n    headingTemplate {\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n  }\n"]);return et=function(){return e},e}function tt(){var e=Se(["\n  fragment EGDSBasicOptionFragment on EGDSBasicOption {\n    label\n    value\n    egdsElementId\n    changeAnalytics {\n      linkName\n      referrerId\n    }\n    __typename\n  }\n"]);return tt=function(){return e},e}function nt(){var e=Se(["\n  fragment EGDSTravelerChildAgeSelectFragment on EGDSTravelerChildAgeSelect {\n    labelTemplate {\n      ... on EGDSBasicLocalizedText {\n        models {\n          key\n          source\n        }\n        template\n      }\n    }\n    options {\n      ...EGDSBasicOptionFragment\n    }\n    egdsElementId\n    value\n  }\n\n  ","\n"]);return nt=function(){return e},e}function at(){var e=Se(["\n  fragment TemplateModelFragment on TemplateModel {\n    key\n    source\n  }\n"]);return at=function(){return e},e}function rt(){var e=Se(["\n  fragment EGDSBasicLocalizedTextFragment on EGDSBasicLocalizedText {\n    template\n    models {\n      ...TemplateModelFragment\n    }\n  }\n\n  ","\n"]);return rt=function(){return e},e}function lt(){var e=Se(["\n  fragment EGDSCardinalLocalizedTextFragment on EGDSCardinalLocalizedText {\n    egdsElementId\n    text\n    models {\n      ...TemplateModelFragment\n    }\n    templates {\n      ...CardinalTemplateFragment\n    }\n  }\n\n  fragment CardinalTemplateFragment on CardinalTemplate {\n    template\n    category\n  }\n\n  ","\n"]);return lt=function(){return e},e}function it(){var e=Se(["\n  fragment EGDSCompositeLocalizedTextFragment on EGDSCompositeLocalizedText {\n    egdsElementId\n    text\n    template\n    models {\n      ...CompositeLocalizedTextModelFragment\n    }\n  }\n\n  fragment CompositeLocalizedTextModelFragment on CompositeLocalizedTextModel {\n    key\n    models {\n      ...EGDSTemplateModelsFragment\n    }\n  }\n\n  fragment EGDSTemplateModelsFragment on EGDSTemplateModels {\n    models {\n      ...TemplateModelFragment\n    }\n  }\n\n  ","\n"]);return it=function(){return e},e}function ot(){var e=Se(["\n  fragment EGDSLocalizedTextFragment on EGDSLocalizedText {\n    ...EGDSBasicLocalizedTextFragment\n    ...EGDSCardinalLocalizedTextFragment\n    ...EGDSCompositeLocalizedTextFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return ot=function(){return e},e}function ct(){var e=Se(["\n  fragment EGDSTravelerStepInputFragment on EGDSStepInput {\n    ... on EGDSTravelerStepInput {\n      decreaseAnalytics {\n        linkName\n        referrerId\n      }\n      increaseAnalytics {\n        linkName\n        referrerId\n      }\n      decreaseText\n      decreaseTextTemplate {\n        ...EGDSBasicLocalizedTextFragment\n      }\n      increaseText\n      increaseTextTemplate {\n        ...EGDSBasicLocalizedTextFragment\n      }\n      egdsElementId\n    }\n    label\n    max\n    min\n    step\n    subLabel\n    value\n  }\n\n  ","\n"]);return ct=function(){return e},e}function st(){var e=Se(["\n  fragment EGDSTravelerChildrenFragment on EGDSTraveler {\n    count {\n      ...EGDSTravelerStepInputFragment\n    }\n    ... on EGDSBasicTraveler {\n      type\n    }\n    ... on EGDSTravelerChildren {\n      ages {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n      ageTemplate {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n    }\n    ... on EGDSTravelerInfant {\n      ages {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n      ageTemplate {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return st=function(){return e},e}function dt(){var e=Se(["\n  fragment EGDSTravelersFragment on EGDSTravelers {\n    adults {\n      ...EGDSTravelerStepInputFragment\n    }\n    children {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsInSeat {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsOnLap {\n      ...EGDSTravelerChildrenFragment\n    }\n    pets {\n      ...EGDSBasicCheckBoxFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return dt=function(){return e},e}function ut(){var e=Se(["\n  fragment EGDSBasicTravelerSelectorFragment on EGDSBasicTravelerSelector {\n    closeButton {\n      ...EGDSPrimaryButtonFragment\n      ...EGDSTertiaryButtonFragment\n    }\n    doneButton {\n      ...EGDSPrimaryButtonFragment\n    }\n    title\n    travelers {\n      ...EGDSTravelersFragment\n    }\n    validations {\n      ... on EGDSTravelersInputValidation {\n        errorMessage\n        maxCount\n        type\n        infantsInSeatPerAdult\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return ut=function(){return e},e}function mt(){var e=Se(["\n  fragment EGDSStandardLinkFragment on EGDSStandardLink {\n    text\n    egdsElementId\n    action {\n      accessibility\n      target\n      resource {\n        value\n      }\n      analytics {\n        linkName\n        referrerId\n      }\n    }\n    icon {\n      id\n    }\n    iconPosition\n  }\n"]);return mt=function(){return e},e}function pt(){var e=Se(["\n  fragment EGDSTravelerInfantSeatSelectFragment on EGDSTravelerInfantSeatSelection {\n    airlineAgeRule {\n      ...EGDSStandardLinkFragment\n    }\n    groupName\n    labelTemplate {\n      ... on EGDSCardinalLocalizedText {\n        text\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n    options {\n      label\n      value\n    }\n    selected\n  }\n  ","\n"]);return pt=function(){return e},e}function yt(){var e=Se(["\n  fragment EGDSTravelerSelectorRoomFragment on EGDSTravelerSelectorRoom {\n    label {\n      ... on EGDSBasicLocalizedText {\n        models {\n          key\n          source\n        }\n        template\n      }\n    }\n    adults {\n      ...EGDSTravelerStepInputFragment\n    }\n    children {\n      ...EGDSTravelerChildrenFragment\n    }\n    infants {\n      ...EGDSTravelerChildrenFragment\n    }\n    removeRoomButton {\n      ...EGDSTertiaryButtonFragment\n    }\n    removeRoomAnnouncement\n  }\n\n  ","\n  ","\n  ","\n"]);return yt=function(){return e},e}function _t(){var e=Se(["\n  fragment EGDSRoomsTravelerSelectorFragment on EGDSRoomsTravelerSelector {\n    addAnotherRoomButton {\n      ...EGDSTertiaryButtonFragment\n    }\n    closeButton {\n      ...EGDSPrimaryButtonFragment\n      ...EGDSTertiaryButtonFragment\n    }\n    doneButton {\n      ...EGDSPrimaryButtonFragment\n    }\n    infantSeatSelection {\n      ...EGDSTravelerInfantSeatSelectFragment\n    }\n    maxRoomCount\n    rooms {\n      ...EGDSTravelerSelectorRoomFragment\n    }\n    title\n    validations {\n      ... on EGDSTravelersInputValidation {\n        errorMessage\n        maxCount\n        type\n        infantsInSeatPerAdult\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return _t=function(){return e},e}function vt(){var e=Se(["\n  fragment EGDSSearchFormTravelersFieldFragment on EGDSSearchFormTravelersField {\n    action {\n      ... on EGDSOpenTravelerSelectorAction {\n        analytics {\n          linkName\n          referrerId\n        }\n        travelerSelector {\n          ...EGDSBasicTravelerSelectorFragment\n          ...EGDSRoomsTravelerSelectorFragment\n        }\n        accessibility\n      }\n    }\n    label\n    labelTemplate {\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n        secondaryTemplates {\n          category\n          template\n        }\n        text\n      }\n      ... on EGDSCompositeLocalizedText {\n        models {\n          key\n          models {\n            ... on EGDSCardinalLocalizedText {\n              models {\n                key\n                source\n              }\n              templates {\n                category\n                template\n              }\n            }\n          }\n        }\n        template\n        text\n      }\n    }\n    leftIcon {\n      id\n    }\n    readOnly\n  }\n\n  ","\n  ","\n"]);return vt=function(){return e},e}function St(){var e=Se(["\n  fragment AllInclusiveVacationsSelectInputFragment on EGDSBasicSelect {\n    egdsElementId\n    icon {\n      id\n    }\n    options {\n      label\n      selected\n      value\n    }\n    label\n    disabled\n    errorMessage\n    readOnly\n  }\n"]);return St=function(){return e},e}function Et(){var e=Se(["\n  fragment AllInclusiveVacationsSearchFormContentsFragment on AllInclusiveVacationsSearchFormContents {\n    results {\n      ... on AllInclusiveVacationsSearchFormOptionsSeparator {\n        id\n      }\n      ... on EGDSBasicOption {\n        label\n        value\n        selected\n      }\n    }\n  }\n"]);return Et=function(){return e},e}function gt(){var e=Se(["\n  fragment AllInclusiveVacationsSearchFormDestinationFragment on AllInclusiveVacationsSearchFormDestination {\n    location {\n      ...AllInclusiveVacationsSelectInputFragment\n    }\n  }\n  ","\n"]);return gt=function(){return e},e}function ft(){var e=Se(["\n  query AllInclusiveVacationsDestinationFieldQuery($context: ContextInput!, $departureCityCode: String!) {\n    allInclusiveVacationsSearchForm(context: $context) {\n      ... on AllInclusiveVacationsSearchFormResults {\n        destinations(departureCityCode: $departureCityCode) {\n          ...AllInclusiveVacationsSearchFormContentsFragment\n        }\n      }\n    }\n  }\n  ","\n"]);return ft=function(){return e},e}function ht(){var e=Se(["\n  fragment AllInclusiveVacationsSearchFormOriginFragment on AllInclusiveVacationsSearchFormOrigin {\n    location {\n      ...AllInclusiveVacationsSelectInputFragment\n    }\n    departureCities {\n      ...AllInclusiveVacationsSearchFormContentsFragment\n    }\n  }\n  ","\n  ","\n"]);return ht=function(){return e},e}function Dt(){var e=Se(["\n  fragment AllInclusiveVacationsSearchFormFragment on AllInclusiveVacationsSearchForm {\n    __typename\n    actionURL\n    egdsElementId\n    origin {\n      ...AllInclusiveVacationsSearchFormOriginFragment\n    }\n    destination {\n      ...AllInclusiveVacationsSearchFormDestinationFragment\n    }\n    date {\n      ...EGDSSearchFormDatePickerFieldFragment\n    }\n    duration {\n      ...AllInclusiveVacationsSelectInputFragment\n    }\n    travelers {\n      ...EGDSSearchFormTravelersFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Dt=function(){return e},e}function Tt(){var e=Se(["\n  query AllInclusiveVacationsFormQuery($context: ContextInput!) {\n    searchForm(context: $context) {\n      allInclusiveVacations {\n        __typename\n        ...AllInclusiveVacationsSearchFormFragment\n      }\n    }\n  }\n\n  ","\n"]);return Tt=function(){return e},e}function bt(){var e=Se(["\n  fragment EGDSBasicSelectFragment on EGDSBasicSelect {\n    egdsElementId\n    clickAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    icon {\n      id\n    }\n    label\n    options {\n      label\n      selected\n      value\n    }\n    disabled\n    errorMessage\n    readOnly\n    value\n  }\n\n  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n"]);return bt=function(){return e},e}function Ct(){var e=Se(["\n  fragment EGDSSelectFragment on EGDSSelect {\n    __typename\n\n    ...EGDSBasicSelectFragment\n  }\n\n  ","\n"]);return Ct=function(){return e},e}function It(){var e=Se(["\n  fragment SearchLocationQueryAttributionFragment on SearchLocationResults {\n    poweredBy\n  }\n"]);return It=function(){return e},e}function At(){var e=Se(["\n  fragment SearchLocationButtonFragment on SearchLocationButton {\n    __typename\n    text\n    accessibilityText\n    icon {\n      ...IconFragment\n    }\n  }\n\n  ","\n"]);return At=function(){return e},e}function Ft(){var e=Se(["\n  fragment ImageFragment on Image {\n    url\n    description\n    aspectRatio\n  }\n"]);return Ft=function(){return e},e}function Ot(){var e=Se(["\n  fragment SearchLocationGraphicFragment on SearchLocationGraphic {\n    ...IconFragment\n    ...ImageFragment\n  }\n  ","\n  ","\n"]);return Ot=function(){return e},e}function kt(){var e=Se(["\n  fragment SearchLocationBasicItemFragment on SearchLocationBasicItem {\n    __typename\n    airportCode\n    coordinates {\n      latitude\n      longitude\n    }\n    geoType\n    graphic {\n      ...SearchLocationGraphicFragment\n    }\n    itemAccessibilityText\n    analyticsInfo {\n      category\n      relation\n      sourceName\n    }\n    impressionAnalytics {\n      referrerId\n      linkName\n    }\n    primaryText\n    propertyId\n    regionId\n    locationFullName\n    secondaryText\n    remove {\n      ...SearchLocationButtonFragment\n    }\n  }\n\n  ","\n  ","\n"]);return kt=function(){return e},e}function Gt(){var e=Se(["\n  fragment SearchLocationItemWithSubItemsFragment on SearchLocationItemWithSubItems {\n    item {\n      ...SearchLocationBasicItemFragment\n    }\n\n    subItems {\n      ...SearchLocationBasicItemFragment\n    }\n  }\n\n  ","\n"]);return Gt=function(){return e},e}function Rt(){var e=Se(["\n  mutation SearchLocationDeleteRecentSearch($context: ContextInput!, $lob: String!, $gaiaIds: [String!]!, $isDestination: Boolean) {\n    searchLocationDeleteRecentSearch(context: $context, lob: $lob, gaiaIds: $gaiaIds, isDestination: $isDestination) {\n      status\n    }\n  }\n"]);return Rt=function(){return e},e}function Lt(){var e=Se(["\n  fragment SearchLocationRecentSearchFragment on SearchLocationRecentSearch {\n    __typename\n    dateRange {\n      __typename\n      start {\n        ...DateFragment\n      }\n      end {\n        ...DateFragment\n      }\n    }\n    item {\n      ...SearchLocationBasicItemFragment\n    }\n    travelers {\n      ... on SearchLocationBasicTravelers {\n        ...SearchLocationBasicTravelersFragment\n      }\n      ... on SearchLocationTravelersByRoom {\n        ...SearchLocationTravelersByRoomFragment\n      }\n    }\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n\n  fragment SearchLocationTravelersByRoomFragment on SearchLocationTravelersByRoom {\n    rooms {\n      ...SearchLocationBasicTravelersFragment\n    }\n  }\n\n  fragment SearchLocationBasicTravelersFragment on SearchLocationBasicTravelers {\n    adults\n    childrenAges\n    pets\n  }\n\n  ","\n"]);return Lt=function(){return e},e}function Pt(){var e=Se(["\n  fragment SearchLocationItemFragment on SearchLocationItem {\n    ...SearchLocationBasicItemFragment\n    ...SearchLocationItemWithSubItemsFragment\n    ...SearchLocationRecentSearchFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return Pt=function(){return e},e}function Mt(){var e=Se(["\n  fragment SearchLocationGroupFragment on SearchLocationGroup {\n    title\n    items {\n      ...SearchLocationItemFragment\n    }\n  }\n  ","\n"]);return Mt=function(){return e},e}function Nt(){var e=Se(["\n  query SearchLocationSuggestions($context: ContextInput!, $searchLocationCriteria: SearchLocationCriteriaInput!) {\n    searchLocation(context: $context, searchLocationCriteria: $searchLocationCriteria) {\n      __typename\n      analyticsInfo {\n        recommendationId\n        resultId\n      }\n      ...SearchLocationQueryAttributionFragment\n      itemsGroups {\n        ...SearchLocationGroupFragment\n      }\n    }\n  }\n  ","\n  ","\n"]);return Nt=function(){return e},e}function xt(){var e=Se(["\n  fragment SearchLocationFragment on SearchLocation {\n    __typename\n    analytics {\n      open\n      close\n      itemSelected\n      recommendationsPresented\n      recommendationSelected\n    }\n    content {\n      clearInput {\n        accessibility\n      }\n      close {\n        accessibility\n      }\n      poweredByGoogleLogoAltText\n      resultsAvailableAccessibility {\n        ...EGDSLocalizedTextFragment\n      }\n      multiSelection {\n        showingResults {\n          ...EGDSLocalizedTextFragment\n        }\n      }\n      itemSelectedAccessibility {\n        ...EGDSBasicLocalizedTextFragment\n      }\n    }\n  }\n\n  ","\n"]);return xt=function(){return e},e}function Bt(){var e=Se(["\n  fragment EGDSSearchFormLocationFieldFragment on EGDSSearchFormLocationField {\n    __typename\n    egdsElementId\n    label\n    placeholder\n    value\n    errorMessage\n    regionId\n    regionType\n    required\n    leftIcon {\n      title\n    }\n    action {\n      ...OpenTypeaheadActionFragment\n    }\n    closeAnalytics {\n      linkName\n      referrerId\n    }\n    changeAnalytics {\n      linkName\n      referrerId\n    }\n    multiLocations {\n      text\n      value\n    }\n    validations {\n      ... on EGDSInputValidation {\n        errorMessage\n        __typename\n      }\n    }\n    debounceRate\n    coordinates {\n      latitude\n      longitude\n    }\n    airportCode\n  }\n\n  fragment OpenTypeaheadActionFragment on OpenTypeaheadAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    info {\n      ...TypeaheadInfoFragment\n    }\n    emptyResultsPlaceholder\n    categorize\n    allowExactMatch\n    listTitle\n    selectedItemHeading\n    clearAllText\n    dismissButtonText\n  }\n\n  fragment TypeaheadInfoFragment on TypeaheadInfo {\n    client\n    drivable\n    isDestination\n    lineOfBusiness\n    maxNumberOfResults\n    packageType\n    personalize\n    regionType\n    typeaheadFeatures\n    isMultiLocation\n    domain\n    regionId\n    showCurrentLocation\n    subLob\n    expUserId\n    trending\n  }\n"]);return Bt=function(){return e},e}function wt(){var e=Se(["\n  fragment EGDSSearchPlaybackFragment on EGDSSearchPlayback {\n    primary {\n      text\n    }\n    primaryTemplate {\n      ... on EGDSBasicLocalizedText {\n        text\n      }\n    }\n    secondaries {\n      ... on EGDSPlainText {\n        text\n        accessibility\n      }\n      ... on EGDSBasicLocalizedText {\n        text\n        template\n        accessibilityTemplate\n        models {\n          key\n          source\n        }\n        egdsElementId\n      }\n      ... on EGDSCardinalLocalizedText {\n        text\n        accessibilityText\n        egdsElementId\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n    showAction {\n      ... on EGDSShowSearchFormAction {\n        accessibility\n        analytics {\n          linkName\n          referrerId\n        }\n        icon {\n          id\n          size\n        }\n        resource {\n          value\n        }\n      }\n    }\n    closeButton {\n      ...EGDSTertiaryButtonFragment\n    }\n  }\n\n  ","\n"]);return wt=function(){return e},e}function Wt(){var e=Se(["\n  fragment GroundTransportationSearchFormSelectionFragment on GroundTransportationSearchFormSelection {\n    airportToHotel {\n      ...EGDSPillFragment\n      __typename\n    }\n    hotelToAirport {\n      ...EGDSPillFragment\n      __typename\n    }\n    roundTrip {\n      ...EGDSPillFragment\n      __typename\n    }\n  }\n  ","\n"]);return Wt=function(){return e},e}function Ut(){var e=Se(["\n  fragment GroundTransportationSearchFormFragment on GroundTransportationSearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n      __typename\n    }\n    elements {\n      __typename\n    }\n    dates {\n      ...EGDSSearchFormDatePickerFieldFragment\n      __typename\n    }\n    travelers {\n      ...EGDSSearchFormTravelersFieldFragment\n      __typename\n    }\n    airportLocation {\n      ...EGDSSearchFormLocationFieldFragment\n      __typename\n    }\n    hotelLocation {\n      ...EGDSSearchFormLocationFieldFragment\n      __typename\n    }\n    pickupTime {\n      ...EGDSSelectFragment\n      __typename\n    }\n    dropoffTime {\n      ...EGDSSelectFragment\n      __typename\n    }\n    groundTransportationSelection {\n      ...GroundTransportationSearchFormSelectionFragment\n      __typename\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n      __typename\n    }\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n      __typename\n    }\n    searchLocation {\n      ...SearchLocationFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ut=function(){return e},e}function Ht(){var e=Se(["\n  query GroundTransportationSearchFormQuery(\n    $context: ContextInput!\n    $pageLocation: PageLocation\n    $groundTransportationSearchCriteria: ProductShoppingCriteriaInput\n    $includePlayback: Boolean = false\n  ) {\n    searchForm(context: $context, pageLocation: $pageLocation) {\n      groundTransportation(groundTransportationSearchCriteria: $groundTransportationSearchCriteria) {\n        __typename\n        ...GroundTransportationSearchFormFragment\n      }\n    }\n  }\n  ","\n"]);return Ht=function(){return e},e}function Vt(){var e=Se(["\n  fragment EGDSTextInputFieldFragment on EGDSTextInputField {\n    egdsElementId\n    errorMessage\n    instructions\n    label\n    placeholder\n    readOnly\n    required\n    validations {\n      ... on EGDSRequiredInputValidation {\n        errorMessage\n      }\n    }\n    value\n  }\n"]);return Vt=function(){return e},e}function zt(){var e=Se(["\n  fragment CarSearchFormSpecialOrAdvertisedOptionFragment on CarSearchFormSpecialOrAdvertisedOption {\n    __typename\n    addAnotherDiscountCode {\n      ...EGDSTertiaryButtonFragment\n    }\n    discountCodeType {\n      label\n    }\n    discountCodeOptions {\n      discountCodeInput {\n        ...EGDSTextInputFieldFragment\n      }\n      discountCodeTypeOption\n    }\n    maxDiscountCode\n    optionLabel\n  }\n  ","\n  ","\n"]);return zt=function(){return e},e}function Yt(){var e=Se(["\n  fragment CarSearchFormDiscountTypeOptionFragment on CarSearchFormDiscountTypeOption {\n    __typename\n    corporateOrContractedOption {\n      discountCode {\n        ...EGDSTextInputFieldFragment\n      }\n      optionLabel\n    }\n    preferredBrand\n    specialOrAdvertisedOption {\n      ...CarSearchFormSpecialOrAdvertisedOptionFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Yt=function(){return e},e}function qt(){var e=Se(["\n  fragment CarSearchFormDiscountCodeFragment on CarSearchFormDiscountCode {\n    __typename\n    discountCode {\n      ...EGDSPillFragment\n    }\n    action {\n      discountType {\n        ...EGDSSelectFragment\n      }\n      discountTypeOptions {\n        ...CarSearchFormDiscountTypeOptionFragment\n      }\n      preferredBrand {\n        ...EGDSSelectFragment\n      }\n      errorSummary {\n        ...EGDSErrorSummaryFragment\n      }\n      toolbar {\n        primary\n        actions {\n          primary {\n            ...EGDSTertiaryButtonFragment\n          }\n          secondaries {\n            icon {\n              description\n            }\n          }\n        }\n      }\n      done {\n        ...EGDSPrimaryButtonFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return qt=function(){return e},e}function jt(){var e=Se(["\n  fragment EGDSNumberInputFieldFragment on EGDSNumberInputField {\n    egdsElementId\n    errorMessage\n    instructions\n    label\n    max\n    min\n    placeholder\n    step\n    readOnly\n    required\n    validations {\n      ... on EGDSInputValidation {\n        errorMessage\n      }\n      ... on EGDSRangeInputValidation {\n        errorMessage\n        min\n        max\n      }\n    }\n    value\n  }\n"]);return jt=function(){return e},e}function $t(){var e=Se(["\n  fragment CarSearchFormDriverAgeCheckFragment on CarSearchFormDriverAgeCheck {\n    __typename\n    label\n    driverAge {\n      ...EGDSNumberInputFieldFragment\n    }\n    driverAgeRequired {\n      ...EGDSCheckBoxFragment\n    }\n  }\n  ","\n  ","\n"]);return $t=function(){return e},e}function Kt(){var e=Se(["\n  fragment RentalTypesSelectorFrament on EGDSBasicTabs {\n    __typename\n    ...EGDSBasicTabsFragment\n  }\n  ","\n"]);return Kt=function(){return e},e}function Jt(){var e=Se(["\n  fragment CarsSearchFormFragment on CarSearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    pickUpLocation {\n      ...EGDSSearchFormLocationFieldFragment\n      validations {\n        __typename\n      }\n    }\n    dropOffLocation {\n      ...EGDSSearchFormLocationFieldFragment\n      validations {\n        __typename\n      }\n    }\n    alternativeDropOffLocationLabel\n    dates {\n      ...EGDSSearchFormDatePickerFieldFragment\n    }\n    pickUpTime {\n      ...EGDSSelectFragment\n    }\n    dropOffTime {\n      ...EGDSSelectFragment\n    }\n    driverAgeCheck {\n      ...CarSearchFormDriverAgeCheckFragment\n    }\n    specialRates {\n      label\n      discountCode {\n        ...CarSearchFormDiscountCodeFragment\n      }\n      showAarpRate {\n        ...EGDSPillFragment\n      }\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n    localDateFormat\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n    rentalTypes {\n      ...RentalTypesSelectorFrament\n    }\n    searchLocation {\n      ...SearchLocationFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Jt=function(){return e},e}function Qt(){var e=Se(["\n  query CarSearchFormQuery(\n    $context: ContextInput!\n    $pageLocation: PageLocation\n    $carSearchCriteria: CarSearchCriteriaInput\n    $includePlayback: Boolean = false\n  ) {\n    searchForm(context: $context, pageLocation: $pageLocation) {\n      car(carSearchCriteria: $carSearchCriteria) {\n        __typename\n        ...CarsSearchFormFragment\n      }\n    }\n  }\n  ","\n"]);return Qt=function(){return e},e}function Xt(){var e=Se(["\n  fragment EGDSPlainTextFragment on EGDSPlainText {\n    text\n  }\n"]);return Xt=function(){return e},e}function Zt(){var e=Se(["\n  fragment EGDSSpannableTextInlineContentFragment on EGDSSpannableTextItem {\n    ...EGDSPlainTextFragment\n    ...EGDSStandardLinkFragment\n  }\n\n  ","\n  ","\n"]);return Zt=function(){return e},e}function en(){var e=Se(["\n  fragment EGDSSpannableTextFragment on EGDSSpannableText {\n    text\n    inlineContent {\n      ...EGDSPlainTextFragment\n      ...EGDSStandardLinkFragment\n    }\n    __typename\n  }\n  ","\n  ","\n"]);return en=function(){return e},e}function tn(){var e=Se(["\n  fragment ActivitySearchFormFragment on ActivitySearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    elements {\n      __typename\n      ...EGDSSearchFormLocationFieldFragment\n      ...EGDSSearchFormDatePickerFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n    subTitle {\n      ...EGDSSpannableTextFragment\n    }\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n    searchLocation {\n      ...SearchLocationFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return tn=function(){return e},e}function nn(){var e=Se(["\n  query ActivitySearchFormQuery(\n    $context: ContextInput!\n    $pageLocation: PageLocation\n    $activitySearchCriteria: ActivitiySearchCriteriaInput\n    $includePlayback: Boolean = false\n  ) {\n    searchForm(context: $context, pageLocation: $pageLocation) {\n      activity(activitySearchCriteria: $activitySearchCriteria) {\n        __typename\n        ...ActivitySearchFormFragment\n      }\n    }\n  }\n\n  ","\n"]);return nn=function(){return e},e}function an(){var e=Se(["\n  fragment DurationSpanSelectorFragment on DurationSpanSelector {\n    egdsElementId\n    title\n    doneButton {\n      __typename\n      ...EGDSPrimaryButtonFragment\n    }\n    closeButton {\n      __typename\n      ...EGDSTertiaryButtonFragment\n    }\n    minDurationSpanLimit {\n      __typename\n      ...DurationSpanLimitFragment\n    }\n    maxDurationSpanLimit {\n      __typename\n      ...DurationSpanLimitFragment\n    }\n    validations {\n      __typename\n      errorMessage\n      ... on DurationSpanInputValidation {\n        errorMessage\n        type\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  fragment DurationSpanLimitFragment on EGDSNumberInputField {\n    egdsElementId\n    label\n    value\n    placeholder\n    errorMessage\n    step\n    min\n    max\n  }\n\n  ","\n  ","\n  ","\n"]);return an=function(){return e},e}function rn(){var e=Se(["\n  fragment SearchFormDurationSpanFieldFragment on SearchFormDurationSpanField {\n    __typename\n    egdsElementId\n    label\n    labelTemplate {\n      ...TemplateEGDSBasicLocalizedTextFragment\n    }\n    leftIcon {\n      id\n    }\n    action {\n      __typename\n      ...OpenDurationSpanActionFragment\n    }\n  }\n\n  fragment TemplateEGDSBasicLocalizedTextFragment on EGDSBasicLocalizedText {\n    __typename\n    egdsElementId\n    models {\n      key\n      source\n    }\n    template\n    text\n  }\n\n  fragment OpenDurationSpanActionFragment on OpenDurationSpanAction {\n    __typename\n    analytics {\n      __typename\n      linkName\n      referrerId\n    }\n    durationSpan {\n      __typename\n      ...DurationSpanSelectorFragment\n    }\n    accessibility\n  }\n\n  ","\n"]);return rn=function(){return e},e}function ln(){var e=Se(["\n  fragment CruiseSearchFormFragment on CruiseSearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    elements {\n      __typename\n      ...EGDSSearchFormLocationFieldFragment\n      ...EGDSSearchFormDatePickerFieldFragment\n      ...SearchFormDurationSpanFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n    searchLocation {\n      ...SearchLocationFragment\n    }\n    expertAdviceInfo @skip(if: $skipExpertAdviceInfo)\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ln=function(){return e},e}function on(){var e=Se(["\n  query CruiseSearchFormQuery(\n    $context: ContextInput!\n    $pageLocation: PageLocation\n    $cruiseSearchCriteriaInput: CruiseSearchCriteriaInput\n    $includePlayback: Boolean = false\n    $skipExpertAdviceInfo: Boolean = false\n  ) {\n    searchForm(context: $context, pageLocation: $pageLocation) {\n      cruise(cruiseSearchCriteria: $cruiseSearchCriteriaInput) {\n        __typename\n        ...CruiseSearchFormFragment\n      }\n    }\n  }\n\n  ","\n"]);return on=function(){return e},e}function cn(){var e=Se(["\n  fragment EGDSSearchFormSelectActionFragment on EGDSSearchFormSelectAction {\n    analytics {\n      linkName\n      referrerId\n    }\n\n    options {\n      ...SearchFormSelectorOptionFragment\n    }\n  }\n\n  fragment SearchFormSelectorOptionFragment on EGDSBasicOption {\n    changeAnalytics {\n      linkName\n      referrerId\n    }\n    selected\n    value\n    label\n  }\n"]);return cn=function(){return e},e}function sn(){var e=Se(["\n  fragment EGDSSearchFormInputFieldFragment on EGDSSearchFormInputField {\n    egdsElementId\n    value\n    label\n    placeholder\n    leftIcon {\n      ...IconFragment\n    }\n    action {\n      ...EGDSSearchFormSelectActionFragment\n    }\n  }\n  ","\n  ","\n"]);return sn=function(){return e},e}function dn(){var e=Se(["\n  fragment PackagesSearchFormSelectionFragment on PackagesSearchFormSelection {\n    car {\n      ...EGDSPillFragment\n    }\n    flight {\n      ...EGDSPillFragment\n    }\n    stay {\n      ...EGDSPillFragment\n    }\n  }\n\n  ","\n"]);return dn=function(){return e},e}function un(){var e=Se(["\n  query PackagesOptionsQuery(\n    $context: ContextInput!\n    $packageSearchCriteria: PackageSearchCriteriaInput\n    $packageShoppingCriteria: ProductShoppingCriteriaInput\n    $packageType: PackageType\n    $includePackageType: Boolean = false\n  ) {\n    searchForm(context: $context) {\n      packages(packageSearchCriteria: $packageSearchCriteria, packageShoppingCriteria: $packageShoppingCriteria, packageType: $packageType) {\n        __typename\n        ... on PackagesSearchForm {\n          packageSelection @include(if: $includePackageType) {\n            ...PackagesSearchFormSelectionFragment\n          }\n          directFlightsOnly {\n            ...EGDSPillFragment\n          }\n        }\n        elements {\n          ...EGDSSearchFormInputFieldFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return un=function(){return e},e}function mn(){var e=Se(["\n  fragment EGDSSecondaryButtonFragment on UISecondaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return mn=function(){return e},e}function pn(){var e=Se(["\n  fragment EGDSSearchFormLocationsFieldFragment on EGDSSearchFormLocationsField {\n    egdsElementId\n    origin {\n      ...EGDSSearchFormLocationFieldFragment\n    }\n    destination {\n      ...EGDSSearchFormLocationFieldFragment\n    }\n    horizontalSwapper {\n      ...EGDSSecondaryButtonFragment\n    }\n    verticalSwapper {\n      ...EGDSSecondaryButtonFragment\n    }\n    validations {\n      ... on EGDSInputValidation {\n        errorMessage\n      }\n    }\n  }\n  ","\n  ","\n"]);return pn=function(){return e},e}function yn(){var e=Se(["\n  fragment SearchFormPartialStayFragment on SearchFormPartialStay {\n    __typename\n    addPartialStay {\n      ...EGDSCheckBoxFragment\n      __typename\n    }\n    dates {\n      ...EGDSSearchFormDatePickerFieldFragment\n      __typename\n    }\n    errorMessage\n  }\n  ","\n  ","\n"]);return yn=function(){return e},e}function _n(){var e=Se(["\n  fragment MultiPackagesSearchFormFragment on PackagesSearchForm {\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    elements {\n      __typename\n      ...EGDSSearchFormLocationFieldFragment\n      ...EGDSSearchFormLocationsFieldFragment\n      ...EGDSSearchFormDatePickerFieldFragment\n      ...EGDSSearchFormTravelersFieldFragment\n      ...EGDSSearchFormInputFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n    directFlightsOnly {\n      ...EGDSPillFragment\n    }\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n    partialStay {\n      ...SearchFormPartialStayFragment\n    }\n    searchLocation {\n      ...SearchLocationFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return _n=function(){return e},e}function vn(){var e=Se(["\n  fragment NoSelectionMessageFragment on UIEmptyState {\n    body\n    heading\n    icon {\n      ...IconFragment\n    }\n  }\n  ","\n"]);return vn=function(){return e},e}function Sn(){var e=Se(["\n  fragment PrebundlesSearchFormFragment on PackagesSearchForm {\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    elements {\n      __typename\n      ...EGDSSearchFormLocationFieldFragment\n      ...EGDSSearchFormDatePickerFieldFragment\n      ...EGDSSearchFormTravelersFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Sn=function(){return e},e}function En(){var e=Se(["\n  query PackagesSearchFormQuery(\n    $context: ContextInput!\n    $pageLocation: PageLocation\n    $packageSearchCriteria: PackageSearchCriteriaInput\n    $packageShoppingCriteria: ProductShoppingCriteriaInput\n    $includePlayback: Boolean = false\n    $packageType: PackageType\n  ) {\n    searchForm(context: $context, pageLocation: $pageLocation) {\n      packages(packageSearchCriteria: $packageSearchCriteria, packageShoppingCriteria: $packageShoppingCriteria, packageType: $packageType) {\n        ...PrebundlesSearchFormFragment\n        ...MultiPackagesSearchFormFragment\n        ... on PackagesSearchForm {\n          packageSelection {\n            noSelectionMessage {\n              ...NoSelectionMessageFragment\n            }\n          }\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return En=function(){return e},e}function gn(){var e=Se(["\n  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n"]);return gn=function(){return e},e}function fn(){var e=Se(["\n  fragment SearchFormDirectFlightFragment on SearchFormDirectFlight {\n    accessibilityText\n    id\n    isApplied\n    label\n    selectAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    unselectAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n  }\n\n  ","\n"]);return fn=function(){return e},e}function hn(){var e=Se(["\n  fragment FlightTypeSelectorOptionsFragment on EGDSSearchFormSelectAction {\n    analytics {\n      linkName\n      referrerId\n    }\n    options {\n      ...FlightTypeSelectorOptionFragment\n    }\n    apply {\n      ...EGDSPrimaryButtonFragment\n    }\n  }\n\n  fragment FlightTypeSelectorOptionFragment on EGDSBasicOption {\n    changeAnalytics {\n      linkName\n      referrerId\n    }\n    value\n    label\n    selected\n  }\n\n  ","\n"]);return hn=function(){return e},e}function Dn(){var e=Se(["\n  query FlightOptionsQuery(\n    $context: ContextInput!\n    $pageLocation: PageLocation\n    $flightSearchCriteria: FlightSearchCriteriaInput\n    $includeFlightType: Boolean = false\n  ) {\n    searchForm(context: $context, pageLocation: $pageLocation) {\n      flight(flightSearchCriteria: $flightSearchCriteria) {\n        ...FlightsOptionsSearchFormFragment\n      }\n    }\n  }\n\n  fragment FlightsOptionsSearchFormFragment on FlightSearchForm {\n    flightTypeSelector @include(if: $includeFlightType) {\n      action {\n        ... on EGDSSearchFormSelectAction {\n          ...FlightTypeSelectorOptionsFragment\n        }\n      }\n    }\n\n    elements {\n      ...EGDSSearchFormInputFieldFragment\n    }\n\n    directFlight {\n      ...SearchFormDirectFlightFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return Dn=function(){return e},e}function Tn(){var e=Se(["\n  fragment SearchFormMessagingFragment on SearchFormMessaging {\n    primary\n    illustration {\n      url\n    }\n    moreInfoTrigger {\n      ...EGDSSearchFormMoreInfoTriggerFragment\n    }\n  }\n  ","\n"]);return Tn=function(){return e},e}function bn(){var e=Se(["\n  fragment SoftPackagesFragment on SoftPackages {\n    actionURL\n    addCar {\n      ...EGDSCheckBoxFragment\n    }\n    addFlight {\n      ...EGDSCheckBoxFragment\n    }\n    addHotel {\n      ...EGDSCheckBoxFragment\n    }\n    origin {\n      ...EGDSSearchFormLocationFieldFragment\n    }\n    datesForHotelStay {\n      ...EGDSSearchFormDatePickerFieldFragment\n    }\n    maxBookableTravelers\n    maxTravelersErrorMessage\n    validDaysUpperBoundInclusive {\n      day\n      month\n      year\n    }\n  }\n\n  ","\n  ","\n"]);return bn=function(){return e},e}function Cn(){var e=Se(["\n  fragment FlightSearchFormFragment on FlightSearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    elements {\n      ...EGDSSearchFormTravelersFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n    addLeg {\n      ...EGDSTertiaryButtonFragment\n    }\n    removeLeg {\n      ...EGDSTertiaryButtonFragment\n    }\n    legHeading {\n      ...EGDSBasicLocalizedTextFragment\n    }\n    legs {\n      id\n      locations {\n        ...EGDSSearchFormLocationsFieldFragment\n      }\n      date {\n        ...EGDSSearchFormDatePickerFieldFragment\n      }\n    }\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n    maxAllowedLegs\n    localDateFormat\n\n    softPackages {\n      ...SoftPackagesFragment\n    }\n    searchLocation {\n      ...SearchLocationFragment\n    }\n\n    valuePropMessage {\n      ...SearchFormMessagingFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Cn=function(){return e},e}function In(){var e=Se(["\n  query FlightSearchFormQuery(\n    $context: ContextInput!\n    $pageLocation: PageLocation\n    $flightSearchCriteria: FlightSearchCriteriaInput\n    $fixedTravelers: Boolean\n    $includePlayback: Boolean = false\n    $disabledCabins: [FlightsCabinClass!]\n    $features: [String!]\n  ) {\n    searchForm(context: $context, pageLocation: $pageLocation) {\n      flight(flightSearchCriteria: $flightSearchCriteria, fixedTravelers: $fixedTravelers, disabledCabins: $disabledCabins, features: $features) {\n        ...FlightSearchFormFragment\n      }\n    }\n  }\n\n  ","\n"]);return In=function(){return e},e}function An(){var e=Se(["\n  fragment EGUisMicroMessageFragment on EGUisMicroMessage {\n    schemaName\n    messageContent\n  }\n"]);return An=function(){return e},e}function Fn(){var e=Se(["\n  fragment AdaptexTrackingSuccessFragment on SearchFormAdaptExSuccessEvent {\n    __typename\n    datePrefill {\n      ...EGUisMicroMessageFragment\n    }\n  }\n\n  ","\n"]);return Fn=function(){return e},e}function On(){var e=Se(["\n  fragment LodgingSearchFormFragment on LodgingSearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    elements {\n      __typename\n      ...EGDSSearchFormLocationFieldFragment\n      ...EGDSSearchFormDatePickerFieldFragment\n      ...EGDSSearchFormTravelersFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n\n    softPackages {\n      ...SoftPackagesFragment\n    }\n\n    adaptExSuccessEvent {\n      ...AdaptexTrackingSuccessFragment\n    }\n\n    searchLocation {\n      ...SearchLocationFragment\n    }\n\n    hidePlayback\n\n    priceInsightsDailyConfig {\n      debounceRate\n      monthsToQuery\n      __typename\n    }\n\n    groupStaysLink {\n      ...EGDSStandardLinkFragment\n    }\n\n    searchFormAnalytics {\n      datePrefillImpression {\n        ...ClientSideAnalyticsFragment\n      }\n    }\n\n    valuePropMessage {\n      ...SearchFormMessagingFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return On=function(){return e},e}function kn(){var e=Se(["\n  query LodgingSearchFormQuery(\n    $context: ContextInput!\n    $pageLocation: PageLocation\n    $propertySearchCriteriaInput: PropertySearchCriteriaInput\n    $includePlayback: Boolean = false\n    $features: [String!]\n  ) {\n    searchForm(context: $context, pageLocation: $pageLocation) {\n      lodging(propertySearchCriteria: $propertySearchCriteriaInput, features: $features) {\n        __typename\n        ...LodgingSearchFormFragment\n      }\n    }\n  }\n\n  ","\n"]);return kn=function(){return e},e}var Gn=function(e){var t=ve(a.useState(!1),2),n=t[0],r=t[1],i=e.children;return a.createElement(o.E,{zIndex:500,onFixed:function(e){r(e)}},a.createElement(c.b,{elevation:n?"floating":"default",toolbarType:n?"standard":"transparent"},a.createElement(s.V,{layout:"fullwidth",canvasTheme:n?"primary":"none",paddedViewRow:!1},a.createElement(l.b,{padding:{block:"four",inline:n?"three":void 0}},a.createElement("div",{"data-stid":"sticky-search-form"},i)))),!n&&a.createElement(l.b,{padding:"six"},a.createElement("div",null)))},Rn=function(e){return e.LOWER="LOWER",e.UPPER="UPPER",e}(Rn||{}),Ln=function(e){return e.DAY="DAY",e.MONTH="MONTH",e.WEEK="WEEK",e.WEEKEND="WEEKEND",e}(Ln||{}),Pn=function(e){return e.MULTI_DESTINATION="MULTI_DESTINATION",e.ONE_WAY="ONE_WAY",e.ROUND_TRIP="ROUND_TRIP",e}(Pn||{}),Mn=function(e){return e.FROM_AIRPORT="FROM_AIRPORT",e.ROUNDTRIP="ROUNDTRIP",e.TO_AIRPORT="TO_AIRPORT",e}(Mn||{}),Nn=function(e){return e.FLIGHT_CAR="FLIGHT_CAR",e.FLIGHT_HOTEL="FLIGHT_HOTEL",e.FLIGHT_HOTEL_CAR="FLIGHT_HOTEL_CAR",e.HOTEL_ACTIVITY="HOTEL_ACTIVITY",e.HOTEL_CAR="HOTEL_CAR",e}(Nn||{}),xn=function(e){return e.CFAR_DETAILS="CFAR_DETAILS",e.CHECKOUT="CHECKOUT",e.CHECKOUT_ERROR="CHECKOUT_ERROR",e.CONFIRMATION="CONFIRMATION",e.DETAILS="DETAILS",e.ENTRY="ENTRY",e.FEATURES="FEATURES",e.INSURANCE_DETAILS="INSURANCE_DETAILS",e.ITINERARY="ITINERARY",e.PAYMENT_ERROR="PAYMENT_ERROR",e.POST_BOOKING="POST_BOOKING",e.SEARCH_RESULTS="SEARCH_RESULTS",e.SYSTEM="SYSTEM",e.USER="USER",e}(xn||{}),Bn=function(e){return e.ACTIVITIES="ACTIVITIES",e.ALL_INCLUSIVE="ALL_INCLUSIVE",e.CARS="CARS",e.CRUISES="CRUISES",e.EVENTS="EVENTS",e.FLIGHTS="FLIGHTS",e.LODGING="LODGING",e.PACKAGES="PACKAGES",e}(Bn||{}),wn=["localhost","wwwexpediacom","shared-ui.expedia.biz"],Wn=function(e){var t=e.children,n=wn.includes(window.location.hostname);return a.createElement(a.Fragment,null,n&&a.createElement(l.b,{margin:{blockend:"three"}},a.createElement(y.p,{theme:"warning",text:"Fallback is in use"},a.createElement(_.a,{size:_.E.MEDIUM,name:"warning"}))),t)};Wn.displayName="FallbackBadge";var Un=(0,u.J1)(he()),Hn=function(e){var t=e.data,n=e.initialSelectedProduct,r=e.onProductTypeSelection,l=t.products,i=(0,S.KY)(),o=l.findIndex((function(e){return e.type===n})),c=ve(a.useState(-1!==o?o:0),2),s=c[0],u=c[1],m={selectedTab:s,onTabSelect:function(e){var t=l[e],n=t.clickAnalytics,a=t.type,o=t.targetURI;if(n){var c=n.linkName,s=n.referrerId;i(s,c)}(null==o?void 0:o.startsWith("http"))?window.open(o,"_blank"):(u(e),r(a))},tabsType:v.c.NATURAL,targetURI:""},p=l.map((function(e,t){var n=e.id,r=e.label,l=e.targetURI;return a.createElement(v.E,{key:t,id:null!=n?n:void 0,name:r,targetURI:null!=l?l:""})}));return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(v.f,ye({},m),p)),a.createElement(d.rw,null,a.createElement(v.f,_e(ye({className:"uitk-card-roundcorner-top-left uitk-card-roundcorner-top-right"},m),{centerAlign:!0}),p)))};Hn.displayName="SearchFormProductSelector",Hn.fragment=Un;var Vn={SEARCH_TOOLS_PRODUCT_SELECTOR_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_PRODUCT_SELECTOR_QUERY_FAILURE"),SEARCH_TOOLS_PRODUCT_SELECTOR_SINGLE_PRODUCT_RENDER:new p.SystemEvent(p.SystemEventLevel.INFO,"SEARCH_TOOLS_PRODUCT_SELECTOR_SINGLE_PRODUCT_RENDER")},zn={__typename:"SearchFormProductSelector",products:[{clickAnalytics:{linkName:"Lodging search form selected",referrerId:"Web.SearchForm.Product.Selector.Lodging.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_lodging",label:"Stays",selected:!0,targetURI:"/Hotels",type:"LODGING",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"Flights search form selected",referrerId:"Web.SearchForm.Product.Selector.Flights.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_flights",label:"Flights",selected:!1,targetURI:"/Flights",type:"FLIGHTS",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"Cars search form selected",referrerId:"WebSearchForm.Product.Selector.Cars.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_cars",label:"Cars",selected:!1,targetURI:"/Cars",type:"CARS",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"Packages search form selected",referrerId:"Web.SearchForm.Product.Selector.Packages.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_packages",label:"Packages",selected:!1,targetURI:"/Vacation-Packages",type:"PACKAGES",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"Activities search form selected",referrerId:"Web.SearchForm.Product.Selector.Activities.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_activities",label:"Things to do",selected:!1,targetURI:"/Activities",type:"ACTIVITIES",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"Cruises search form selected",referrerId:"Web.SearchForm.Product.Selector.Cruises.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_cruises",label:"Cruises",selected:!1,targetURI:"/Cruises",type:"CRUISES",__typename:"SearchFormProduct"}]},Yn=(0,u.J1)(De(),Hn.fragment),qn=function(e){var t,n,r,l=e.inputs,i=e.skipSsr,o=e.skipQuery,c=e.batchKey,s=(0,m.R)().context,d=(0,p.useLoggerEvents)(Vn),u=_e(ye({},l),{context:s}),y=(0,E.I)(Yn,{context:{batchKey:c},variables:u,ssr:!i,skip:!!o}),_=y.data,v=y.error;if(y.loading)return null;if(v)return d.SEARCH_TOOLS_PRODUCT_SELECTOR_QUERY_FAILURE.log({name:v.name,error:new Error(v.message)}),a.createElement(Wn,null,a.createElement(Hn,_e(ye({},e),{data:zn})));var S=null!==(r=null==_||null===(n=_.searchForm)||void 0===n||null===(t=n.productSelector)||void 0===t?void 0:t.products)&&void 0!==r?r:[];return!_||S.length<=1?(1===S.length&&d.SEARCH_TOOLS_PRODUCT_SELECTOR_SINGLE_PRODUCT_RENDER.log({name:"A single product is rendered"}),null):a.createElement(Hn,_e(ye({},e),{data:_.searchForm.productSelector}))};qn.displayName="sharedui-ProductSelector";var jn,$n=function(e){var t,n,o,c,s,u,m,p,y=e.batchKey,_=e.initialSelectedProduct,v=e.onProductTypeSelection,S=e.searchFormOptionsByLob,E=e.sticky,g=ve(a.useState(_),2),f=g[0],h=g[1],D={batchKey:y,onFieldChange:function(){},redirectToSearchResultOnSubmit:!0},T=null==S||null===(t=S.lodging)||void 0===t?void 0:t.inputs,b=null==S||null===(n=S.flights)||void 0===n?void 0:n.inputs,C=null==S||null===(o=S.cars)||void 0===o?void 0:o.inputs,I=null==S||null===(c=S.activities)||void 0===c?void 0:c.inputs,A=null==S||null===(s=S.cruises)||void 0===s?void 0:s.inputs;S&&function(e){var t=ye({},e);for(var n in t)t[n]&&"enableReflection"in t[n]&&(t[n].enableReflection=!1)}(S);var F={LODGING:a.createElement(J_,_e(ye({},D,null==S?void 0:S.lodging),{inputs:null!=T?T:{}})),FLIGHTS:a.createElement(g_,_e(ye({},D,null==S?void 0:S.flights),{inputs:null!=b?b:{includeFlightType:!0,flightSearchCriteria:{primary:{journeyCriterias:[],travelers:[],tripType:"ROUND_TRIP"}},fixedTravelers:!1,disabledCabins:null}})),CARS:a.createElement(ud,_e(ye({},D,null==S?void 0:S.cars),{inputs:null!=C?C:{carSearchCriteria:null}})),PACKAGES:a.createElement(Wp,_e(ye({},D,null==S?void 0:S.packages),{inputs:{packageSearchCriteria:{primary:(null==S||null===(p=S.packages)||void 0===p||null===(m=p.inputs)||void 0===m||null===(u=m.packageSearchCriteria)||void 0===u?void 0:u.primary)||{}},packageType:"FLIGHT_HOTEL",includePackageType:!0}})),ACTIVITIES:a.createElement(gu,_e(ye({},D,null==S?void 0:S.activities),{inputs:null!=I?I:{activitySearchCriteria:null}})),CRUISES:a.createElement(cm,_e(ye({},D,null==S?void 0:S.cruises),{inputs:null!=A?A:{cruiseSearchCriteriaInput:null}}))},O=a.createElement("div",{id:"search_form_product_selector_".concat(f.toLowerCase())},F[f]),k=a.createElement(qn,{batchKey:y,inputs:{},onProductTypeSelection:function(e){h(e),null==v||v(e)},initialSelectedProduct:_}),G=a.createElement(r.i,{border:!0,overflow:!0},a.createElement("div",null,k,a.createElement(l.b,{padding:"six"},O))),R=a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(a.Fragment,null,k,a.createElement(l.b,{margin:{blockstart:"six"}},O))),a.createElement(d.rw,null,E?a.createElement(Gn,null,G):a.createElement("div",null,G)));return a.createElement("div",{"data-stid":"search-form-sticky"},a.createElement(i.tb,null,R))},Kn=(pe(jn={},"ONE_ONE",g.E.R1_1),pe(jn,"FOUR_THREE",g.E.R4_3),pe(jn,"SIXTEEN_NINE",g.E.R16_9),pe(jn,"THREE_TWO",g.E.R3_2),pe(jn,"THREE_FOUR",g.E.R3_4),pe(jn,"TWENTY_ONE_NINE",g.E.R21_9),pe(jn,"FOUR_ONE",g.E.R4_1),jn),Jn=function(e){var t=e.batchKey,n=e.initialSelectedProduct;return a.createElement(D.i,{direction:"column",alignItems:"center"},a.createElement(D.j,{minWidth:"full_width",maxWidth:"full_width"},a.createElement("div",null,a.createElement(l.b,{margin:{blockstart:"three",inline:"three"}},a.createElement("section",{"data-testid":"multi-product-search-form-with-background-image"},a.createElement(r.i,{border:!0},a.createElement(r.m,null,a.createElement($n,{batchKey:t,initialSelectedProduct:n}))))))))},Qn=(0,u.J1)(Te()),Xn=function(e){var t,n,r=e.batchKey,l=e.initialSelectedProduct,i=e.inputs,o=e.skipSsr,c=(0,m.R)().context,s=_e(ye({},i),{context:c}),u=(0,E.I)(Qn,{variables:s,ssr:!o}),p=u.data,y=u.error;if(u.loading||y||!p||!p.travelExperienceManagerContent.editorialComponent||!p.travelExperienceManagerContent.editorialComponent.content)return a.createElement("div",null,a.createElement(Jn,{batchKey:r,initialSelectedProduct:l}));var _=p.travelExperienceManagerContent.editorialComponent.content;if("EMMediaComponents"!==_.__typename||1!==(null===(t=_.items)||void 0===t?void 0:t.length)||"Image"!==(null===(n=_.items[0])||void 0===n?void 0:n.mediaType.__typename))return a.createElement("div",null,a.createElement(Jn,{batchKey:r,initialSelectedProduct:l}));var v=_.items[0].mediaType,S=v.aspectRatio,D=v.description,T=v.src;return a.createElement("div",null,a.createElement(f.E,null,a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Jn,{batchKey:r,initialSelectedProduct:l})),a.createElement(d.rw,null,a.createElement(h.d,{type:"relative"},a.createElement(g.a,{ratio:S?Kn[S]:g.E.R4_1},a.createElement(g.b,{placeholderImage:!0,alt:D,src:T})),a.createElement(h.d,{type:"absolute",position:{top:"center",right:"four",left:"four"}},a.createElement(Jn,{batchKey:r,initialSelectedProduct:l})))))))};Xn.displayName="sharedui-SearchFormWithBackgroundImage";var Zn=function(e){var t=e.rows;return a.createElement(a.Fragment,null,t.map((function(e,t){var n=e.type;return a.createElement(l.b,{key:t,padding:0===t?void 0:{blockstart:"three"}},a.createElement("div",null,a.createElement(T.b,{animation:!0,type:n})))})))},ea=(0,u.J1)(be()),ta=(0,u.J1)(Ce(),ea),na=function(e){var t=e.children,n=e.submitButtonProps,r=e.primary,l=e.isFullWidth,i=void 0!==l&&l;return a.createElement(C.E,_e(ye({},n),{size:I.E.LARGE,"aria-label":null!=r?r:"",isFullWidth:i}),t)},aa=function(e){var t,n,r=e.data,l=e.isFullWidth,i=void 0!==l&&l,o=(0,S.KY)(),c=r.egdsElementId,s=r.primary,u=r.disabled,m=r.onClick,p=r.icon,y={id:null!=c?c:"search_form_submit_button",disabled:u,onClick:a.useCallback((function(){if(m&&"EGDSSubmitSearchFormAction"===m.__typename){var e=m.analytics,t=e.referrerId,n=e.linkName;o(t,n)}}),[m,o]),type:"submit"};return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(na,{isFullWidth:!0,submitButtonProps:y,primary:s},s)),a.createElement(d.rw,null,p?a.createElement(na,{submitButtonProps:y,primary:s,isFullWidth:i},a.createElement(_.a,{name:null!==(t=null==p?void 0:p.token)&&void 0!==t?t:"search",title:null!==(n=null==p?void 0:p.title)&&void 0!==n?n:"",id:null==p?void 0:p.id})):a.createElement(na,{submitButtonProps:y,primary:s,isFullWidth:i},s)))};aa.displayName="EGDSSearchFormButton",aa.fragment=ta;var ra=0;var la=function(e){var t=a.useRef();if(!t.current){var n=ra+=1;t.current=e?"".concat(e,"-").concat(n):"dialog-".concat(n)}return t.current};function ia(e,t,n){return e.replace("${".concat(t,"}"),n)}var oa,ca=function(e){return e.includes("(")?e.split("(")[0].trim():e.trim()},sa=function(e){var t=e.textFragment,n=e.values,a=e.count,r=void 0===a?0:a,l=e.locale,i=void 0===l?"en-US":l;if(!t||"EGDSCardinalLocalizedText"!==t.__typename)return"";var o=t.templates,c=t.models,s=new Intl.PluralRules(i.replace("_","-")).select(r).toUpperCase(),d=o.find((function(e){return e.category===s}));return d&&c?function(e,t,n){return t.reduce((function(e,t,a){return ia(e,t.key,n[a])}),e)}(d.template,c,n):""},da=function(e){return e.BOTTOM="BOTTOM",e.CENTERED="CENTERED",e.FULLSCREEN="FULLSCREEN",e.POPOVER="POPOVER",e.SIDE="SIDE",e}(da||{}),ua=function(e){return 0===e?"ZERO":1===e?"ONE":2===e?"TWO":e>2&&e<5?"FEW":e>=5&&e<10?"MANY":"OTHER"},ma="yyyy-MM-dd",pa=function(e){var t=864e5*e;return new Date((new Date).getTime()+t)},ya=function(e){return Math.ceil(e/1e3/60/60/24)},_a=function(e){var t=e.year,n=e.month,a=e.day;return new Date(t,n-1,a)},va=/[٠-٩]/,Sa=function(e){if("string"==typeof e)return t=e,va.test(t)?t.replace(/[٠-٩]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-1632+48)})):t;var t,n=e.getDate().toString().padStart(2,"0"),a=(e.getMonth()+1).toString().padStart(2,"0");return"".concat(e.getFullYear(),"-").concat(a,"-").concat(n)},Ea=(pe(oa={},"SUN",L.j.SUN),pe(oa,"MON",L.j.MON),pe(oa,"TUE",L.j.TUE),pe(oa,"WED",L.j.WED),pe(oa,"THU",L.j.THU),pe(oa,"FRI",L.j.FRI),pe(oa,"SAT",L.j.SAT),oa),ga=function(e){var t;return!!(null==e||null===(t=e.value)||void 0===t?void 0:t.startsWith("0"))},fa=function(e,t,n){var a=new Date(e.year,e.month,e.day);return!e.isPast&&(t&&n?a>=t&&a<=n:t&&!n?a>=t:!(!t&&n)||a<=n)},ha=function(e){return new Date("".concat(e,"T00:00:00"))},Da=function(e,t,n,a,r){var l=a,i=r.formatDateString;if(e&&t){var o=new Date(e),c=new Date(t);if(o<c){o.setDate(o.getDate()+1);for(var s=o;s<=c;s.setDate(s.getDate()+1)){var d=i(s,{raw:ma});l[d]&&(l[d].isWithinDateRange=n)}}}return l},Ta=function(e,t,n,a,r,l,i,o,c){var s=e;return n&&s[n]&&(s[n].isSelected=!0,a&&s[a]&&(s[a].isSelected=!0)),r&&s[r]&&(!t||i&&r!==n)&&(s[r].isSelected=!1),c&&s[c]&&(s[c].isSelected=!0),l&&s[l]&&(s[l].isSelected=!0),l&&s[l]&&o&&r!==c&&l!==c&&(s[l].isSelected=!1),s},ba=function(e){return e.locale?e.locale.replace("_","-"):"en-US"},Ca=function(e){return String(e).padStart(2,"0")},Ia=function(e){return{positive:"positive",standard:"default"}[e.theme]||"default"},Aa=function(e){var t={defaults:null};return e.forEach((function(e){var n,a=(n=e.date,"".concat(n.year,"-").concat(Ca(n.month),"-").concat(Ca(n.day)));t[a]=function(e){var t;return{dateText:{textTheme:Ia(e),date:e.date},accessibilityText:null!==(t=e.accessibilityText)&&void 0!==t?t:null,isSelected:!1,isWithinDateRange:!1}}(e)})),t},Fa=function(e){return{day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}},Oa=function(e){return ye({__typename:"Date"},Fa(e))},ka=function(e,t,n){return"flights"===e&&(null==t?void 0:t.journeyCriteria)&&t.journeyCriteria.length>0?{journeyCriteria:t.journeyCriteria.map((function(e){return{origin:e.origin,destination:e.destination,departureDate:e.departureDate}})),flightsSearchContext:{tripType:n?"ROUND_TRIP":"ONE_WAY"}}:null};function Ga(e){return null!==e}var Ra=function(e){var t=e.day,n=e.dayData,r=t.day,l=t.isPast,i=t.isToday,o=n||{},c=o.dateText,s=o.isSelected,d=o.isWithinDateRange,u=o.validStartDate,m=o.validEndDate,p=!fa(t,u,m),y=(c||{}).textTheme,_=a.useMemo((function(){if(!s){if(l)return"muted";if("positive"===y&&s)return"default"}return"default"}),[s,i,l]);return a.createElement("div",{"data-stid":s?"selected":d?"in-range":"positive"===y||"negative"===y?i?"today-".concat(y):y:i?"today":"default"},a.createElement(R.Tm,{theme:!s&&!d&&!l&&y||"default",backgroundShape:"rounded"},a.createElement(k.d,{"aria-disabled":"true",theme:_,size:300,weight:"regular",disabled:p},"positive"!==y||s||d?r:a.createElement(G.c,{theme:"inverse"},r))))},La=function(e,t){return fa(t,e.validStartDate,e.validEndDate)};Ra.canClick=La,Ra.canSpan=La,Ra.getAriaLabel=function(e,t,n){var a=t.localeDateString,r=e.accessibilityText,l=r?ia(r,"date",a):a;return fa(t,e.validStartDate,e.validEndDate)?l:n.formatText("calendar.unavailable.a11yLabel",a)};var Pa=function(e,t,n){var a=t.formatDateString,r=ve(e.split(" - "),2),l=r[0],i=r[1];if(!l||!i)return"";var o=a(Sa(l),{skeleton:"MMMd"}),c=a(Sa(i),{skeleton:"MMMd"});return(null==n?void 0:n.start)&&(null==n?void 0:n.end)?"".concat(o,", ").concat(n.start," - ").concat(c,", ").concat(n.end):"".concat(o," - ").concat(c)},Ma=function(e,t,n,a){var r=a.formatDateString,l=ve(t.split(" - "),2),i=l[0],o=l[1],c=n?r(e,{skeleton:"MMMd"}):i,s=n?o:r(e,{skeleton:"MMMd"});return"Invalid date"===c||"Invalid date"===s?"":"".concat(c," - ").concat(s)},Na=function(e,t,n){var a=new CustomEvent("change"),r=document.createElement("input");n&&(r.type=n),r.value=e;var l=function(e){t(e)};r.addEventListener("change",l),r.dispatchEvent(a),r.removeEventListener("change",l)},xa=function(e){var t=e.day,n=e.dayData,r=void 0===n?{}:n,l=r.validStartDate,i=r.validEndDate,o=!fa(t,l,i),c=a.useMemo((function(){return t.isPast?"muted":t.isToday?"today":"default"}),[t.isPast,t.isToday]);return a.createElement(k.d,{theme:c,disabled:o},t.day)},Ba=function(e,t){return fa(t,e.validStartDate,e.validEndDate)};xa.canClick=Ba,xa.canSpan=Ba,xa.getAriaLabel=function(e,t,n){var a=t.localeDateString;return fa(t,e.validStartDate,e.validEndDate)?a:n.formatText("calendar.unavailable.a11yLabel",a)};var wa,Wa=(0,u.J1)(Ie()),Ua=(pe(wa={},"EXTRA_SMALL",_.E.EXTRA_SMALL),pe(wa,"SMALL",_.E.SMALL),pe(wa,"MEDIUM",_.E.MEDIUM),pe(wa,"MEDIUM_LARGE",_.E.MEDIUM),pe(wa,"LARGE",_.E.LARGE),pe(wa,"XLARGE",_.E.XLARGE),wa),Ha=function(e){var t=e.data,n=e.uniqueId,r=t.id,l=t.title,i=t.description,o=t.size,c=Math.random().toString(16).slice(2),s=n||r||c,d=Ua[null!=o?o:"LARGE"];return a.createElement(_.a,{id:s,name:r,title:null!=l?l:i,description:i,size:d})};Ha.displayName="Icon",Ha.fragment=Wa;var Va=(0,u.J1)(Ae()),za=function(e,t){var n,a=(pe(n={},"BOTTOM",{hasModal:!0,type:"bottom",triggerRef:null}),pe(n,"DEFAULT",{type:"popover",width:"LARGE"===t?360:void 0,applyBlockStartMargin:!0,position:"LARGE"===t?{inline:"leading",block:"trailing"}:{inline:"block"},showOverTrigger:!1}),n);return a[e]||a.DEFAULT},Ya=a.forwardRef((function(e,t){var n,r,l,i,o=e.data,c=e.isVisible,s=e.toggleVisibility,u=e.children,m=e.position,p=e.showOverTrigger,y=void 0!==p&&p,v=e.sheetTypesByView,E=(0,S.KY)(),g=o.closeAccessibility,f=o.sheetTypes,h=o.closeAnalytics,D=(null==v?void 0:v.mobile)||da[null!==(l=null==f||null===(n=f.find((function(e){return"SMALL"===e.viewSize})))||void 0===n?void 0:n.sheetType)&&void 0!==l?l:"BOTTOM"],T=(null==v?void 0:v.desktop)||da[null!==(i=null==f||null===(r=f.find((function(e){return"LARGE"===e.viewSize})))||void 0===r?void 0:r.sheetType)&&void 0!==i?i:"POPOVER"],b=za(D,"SMALL"),C=za(T,"LARGE"),I=function(){var e=h.linkName,t=h.referrerId;E(t,e),s&&s()},A={isVisible:c,triggerRef:null!=t?t:null,onDismiss:I,autoFocus:!0,returnFocusOnClose:!0},F=a.createElement(U.g,null,a.createElement(W.E,{type:"button",onClick:I},a.createElement(_.a,{name:"close",title:null!=g?g:"",id:"sheet-close-button"}))),O=a.createElement(U.f,{padded:!0},u);return a.createElement(U.h,{isVisible:c},a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement("div",{"data-testid":"".concat(b.type,"-sheet")},a.createElement(U.e,ye({},A,b),F,O))),a.createElement(d.rw,null,a.createElement(U.e,_e(ye({},A,C),{position:null!=m?m:null==C?void 0:C.position,showOverTrigger:null!=y?y:null==C?void 0:C.showOverTrigger}),F,O))))}));Ya.fragment=Va,Ya.displayName="EGDSSearchFormMoreInfoTriggerSheet";var qa=(0,u.J1)(Fe(),Ha.fragment,Ya.fragment),ja=a.forwardRef((function(e,t){var n,r=e.data,l=e.children,i=e.onHandleClick,o=e.textSize,c=r.icon,s=r.text,d=r.triggerAction.analytics,u=(0,S.KY)(),m=_e(ye({},c),{size:null!==(n=c.size)&&void 0!==n?n:"SMALL",description:""});return a.createElement(w.E,{theme:"default"},a.createElement("button",{type:"button",onClick:function(){if(d){var e=d.referrerId,t=d.linkName;u(e,t)}i&&i()},ref:t},null!=l?l:a.createElement(G.c,{size:null!=o?o:300},s),a.createElement(Ha,{data:m})))}));ja.fragment=qa,ja.displayName="EGDSSearchFormMoreInfoTrigger";var $a=function(e){var t=e.data,n=(e.isCalendarTab,(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL?"start":"center"),r=ve(a.useState(!1),2),i=r[0],o=r[1],c=ve((0,B.useDialog)("more-info-trigger-sheet","pwaDialogNested"),3),s=c[0],u=c[1],m=c[2],p=a.useRef(null),_=function(){s?u.closeDialog():u.openDialog()},v=function(){o((function(e){var t;e&&(null===(t=p.current)||void 0===t||t.focus());return!e}))};return a.createElement(l.b,{padding:{small:{blockend:"one"}},margin:{medium:{blockend:"four"},small:{inlinestart:"two",blockend:"four"}}},a.createElement(D.i,{alignItems:"start",space:"two",justifyContent:n},a.createElement(D.j,{alignSelf:"center"},a.createElement(l.b,null,a.createElement(y.p,{size:"small",theme:"positive"}))),a.createElement(D.j,null,a.createElement(D.i,{justifyContent:"center"},a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(D.i,{justifyContent:"center"},a.createElement(ja,{ref:p,data:t,onHandleClick:_,textSize:200}),a.createElement(m,null,a.createElement(Ya,{toggleVisibility:_,isVisible:s,data:t.triggerAction.sheet},a.createElement(G.a,{size:2},t.triggerAction.text))))),a.createElement(d.rw,null,a.createElement(a.Fragment,null,a.createElement(ja,{ref:p,data:t,onHandleClick:v,textSize:200}),a.createElement(Ya,{toggleVisibility:v,isVisible:i,data:t.triggerAction.sheet,ref:p,position:{inline:"leading",block:"leading"},showOverTrigger:!0},a.createElement(G.a,{size:2},t.triggerAction.text)))))))))},Ka="EGDSBasicPill",Ja=(0,u.J1)(Oe(),Ha.fragment),Qa=function(e){var t=e.data,n=e.onChange,r=e.triggerPill,l=e.onClick,i=e.active,o=t.accessibility,c=t.name,s=t.primary,d=t.selected,u=t.value,m=t.disabled,p=t.icon,y=t.selectAnalytics,_=t.deselectAnalytics,v=t.selectedText,E=(0,S.KY)(),g=null!=c?c:"egds-basic-pill",f=ve(a.useState(d),2),h=f[0],D=f[1],T=(0,a.useRef)(!1),C=v||s,I=(0,b.u)(g,(function(e){var t=e.currentTarget.checked;if(D(t),T.current||(T.current=!0),n&&n(e),y&&t){var a=y.linkName,r=y.referrerId;return E(r,a),e}if(_&&!t){var l=_.linkName,i=_.referrerId;E(i,l)}return e}));return a.useEffect((function(){T.current&&(0,z.liveAnnounce)(null!=o?o:void 0,z.Level.POLITE)}),[o]),a.useEffect((function(){D(d)}),[d]),a.createElement(V.E,{checked:h,active:i,disabled:m,icon:"Icon"===(null==p?void 0:p.__typename)?p.token:"",id:g,name:"".concat(Ka,"-").concat(c),onChange:I,value:null!=u?u:"",altText:null!=o?o:"",triggerPill:r,onClick:function(){l&&l()}},h?C:s)};Qa.displayName="EGDSBasicPill",Qa.fragment=_e(ye({},Ja),{__typename:"EGDSBasicPill"});var Xa=(0,u.J1)(ke(),Qa.fragment),Za="EGDSDatePickerFlexibilityCalendarContent",er="".concat(Za,"-SelectedOption"),tr=function(e){var t,n,r=e.data,i=e.onSelect,o=e.currentlySelectedPillValue,c=e.className,s=null!==(n=null==r||null===(t=r.flexibleDateOptions)||void 0===t?void 0:t.map((function(e){var t,n,a,r;return{selected:e.value===o,checked:e.value===o,text:null!==(t=e.primary)&&void 0!==t?t:"",disabled:e.disabled,value:null!==(n=e.value)&&void 0!==n?n:"",id:null!==(a=e.value)&&void 0!==a?a:"",altText:null!==(r=e.accessibility)&&void 0!==r?r:void 0}})))&&void 0!==n?n:[];return a.createElement(l.b,{margin:{medium:{inlinestart:"two",blockend:"three",blockstart:"one"},small:{inlinestart:"two",blockend:"three",blockstart:"one"}}},a.createElement("div",{className:c},a.createElement(H.S,{data:s,handleSelectedPill:function(e){i(e)}})))};tr.displayName=Za,tr.fragment=Xa;var nr=function(e){var t=e.flexibleCalendarProps,n=e.dailyPriceExplainabilityTextProps,r=null==t?void 0:t.data,l=null==t?void 0:t.includeFlexibleCalendarContent,i=null==n?void 0:n.isCalendarTab;return a.createElement(a.Fragment,null,n&&i&&a.createElement($a,ye({},n)),l&&t&&r&&a.createElement(tr,_e(ye({},t),{data:r})))},ar=(0,u.J1)(Ge()),rr=function(e){var t=e.data,n=e.onTabSelected,r=e.backgroundColor,l=e.tabsType,i=t.tabs,o=t.selectedTabId,c=(0,S.KY)(),s=o?i.findIndex((function(e){return"EGDSBasicTab"===e.__typename?e.tabId===o:0})):0,u=ve((0,a.useState)(s),2),m=u[0],p=u[1],y=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL,_=y?v.c.EQUAL_WIDTH:v.c.NATURAL,E={selectedTab:-1!==m?m:0,onTabSelect:function(e){p(e);var t=i[e];if("EGDSBasicTab"===t.__typename){var a=t.clickAnalytics,r=t.tabId;!function(e){if(e&&"ClientSideAnalytics"===(null==e?void 0:e.__typename)){var t=e.linkName,n=e.referrerId;c(n,t)}}(a),n&&n(r)}},tabsType:null!=l?l:_,backgroundColor:null!=r?r:v.d.PRIMARY};return a.createElement(v.f,_e(ye({},E),{withBorder:!0}),i.map((function(e){var t="EGDSBasicTab"===e.__typename?e.tabId:"",n="EGDSBasicTab"===e.__typename?e.label:"";return a.createElement(v.E,{id:t,key:t,name:n,targetURI:"#EGDSBasicTabSearchForm_".concat(t)})})))};rr.fragment=ar,rr.displayName="EGDSBasicTabs";var lr=(0,u.J1)(Re()),ir=function(e){var t,n=e.data,r=n.text,l=n.theme,i=n.size,o=n.accessibility,c={text:null!=r?r:"",theme:null!=l?l:"standard",size:null!=i?i:"large",a11yText:null!==(t=null!=o?o:r)&&void 0!==t?t:""};return r?a.createElement(y.p,ye({},c)):null};ir.displayName="EGDSStandardBadge",ir.fragment=lr;var or=(0,u.J1)(Le(),ir.fragment),cr=function(e){var t=e.data;return"EGDSStandardBadge"===t.__typename?a.createElement(ir,{data:t}):null};cr.displayName="SearchToolsEGDSBadge",cr.fragment=or;var sr=(0,u.J1)(Pe()),dr=function(e){var t=e.data,n=e.onChange,r=e.children,l=e.ariaLabel,i=t.primary,o=t.subText,c=t.disabled,s=t.selected,d=t.name,u=t.selectedAnalytics,m=t.unselectedAnalytics,p=(0,S.KY)();return a.createElement(R.tr,{id:null!=d?d:"",disabled:c,name:null!=d?d:"",checked:s,onChange:function(e){n&&n(e),function(e){var t=e?u:m;if("ClientSideAnalytics"===(null==t?void 0:t.__typename)){var n=t.linkName,a=t.referrerId;p(a,n)}}(!s)},"aria-label":null!=l?l:"".concat(i," ").concat(o)},r)};dr.displayName="EGDSToggleButton",dr.fragment=sr;var ur=(0,u.J1)(Me(),dr.fragment),mr=function(e){var t=e.data.options,n=ve(a.useState(t),2),r=n[0],l=n[1],i=function(e){l((function(t){return t.map((function(t){return t.name===e.target.name?_e(ye({},t),{selected:!t.selected}):t}))}))};return a.createElement(q.b,{wrapButtons:!0},r.map((function(e,t){return a.createElement(dr,{key:t,data:e,onChange:i})})))};mr.displayName="EGDSToggleButtonGroup",mr.fragment=ur;var pr=(0,u.J1)(Ne(),mr.fragment),yr="EGDSDatePickerFlexibleMonths",_r="".concat(yr,"-Options"),vr=function(e){var t=e.monthSelectionButton,n=e.onMonthSelectionToggle,r=e.badge,i=e.isBadgeLoading,o=t.icon,c=t.primary,s=t.subText;return a.createElement(dr,{data:t,onChange:n,ariaLabel:"".concat(c," ").concat(s)},a.createElement(D.i,{direction:"column",alignItems:"center",blockSize:"full_size",justifyContent:"center"},o&&a.createElement(_.a,{name:"Icon"===(null==o?void 0:o.__typename)?o.id:""}),c&&a.createElement(G.c,{size:100,weight:"bold",spacing:"one"},null!=c?c:""),s&&a.createElement(l.b,{padding:{blockend:r||i?"one":"unset"}},a.createElement("div",null,a.createElement(G.c,{size:100},null!=s?s:""))),r&&!i&&a.createElement(cr,{data:r}),i&&a.createElement(T.b,{animation:!0,type:"secondary"})))},Sr=function(e){var t=e.data,n=e.monthsSelectionToggleButtons,r=e.onMonthSelectionToggle,i=e.priceInsightsPrices,o=e.isPriceInsightsDataLoading,c=e.priceInsightsExplainabilityText,s=e.hasMobileExplainabilityTextBeenClicked,u=t.heading,m=t.subHeading,p=(0,d.eg)({viewSizes:d.pf}),y=p<=d.pf.MEDIUM,_=p<=d.pf.SMALL,v={grow:1,maxWidth:_||y?void 0:"twenty_four",minWidth:_||y?"quarter_width":void 0},S=ve(a.useState(!1),2),E=S[0],g=S[1],h=ve(a.useState(!1),2),b=h[0],C=h[1],I=a.useRef(null);a.useEffect((function(){C(!0)}),[s]),a.useEffect((function(){C(!1)}),[]);var A=function(){g((function(e){var t;e&&(null===(t=I.current)||void 0===t||t.focus());return!e}))};return a.createElement("div",null,a.createElement(D.i,{alignItems:"center",direction:"column",space:"three"},a.createElement(D.j,null,a.createElement("div",null,a.createElement(G.E,{size:6,align:"center"},u),a.createElement(G.b,null,m)))),n&&a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(a.Fragment,null,a.createElement(l.b,{padding:{blockstart:"four"}},a.createElement(D.i,{direction:"row",justifyContent:"space-around",wrap:"wrap",space:"three"},null==n?void 0:n.options.map((function(e,t){return a.createElement(D.j,_e(ye({},v),{key:t}),a.createElement("div",null,a.createElement(vr,{monthSelectionButton:e,onMonthSelectionToggle:r,badge:i?i[t]:null,isBadgeLoading:o})))})))),c&&a.createElement(Ya,{isVisible:b,data:c.triggerAction.sheet,toggleVisibility:function(){return C(!1)}},a.createElement(G.a,{size:2},c.triggerAction.text)))),a.createElement(d.zQ,null,a.createElement(a.Fragment,null,a.createElement(l.b,{padding:{blockstart:"four"}},a.createElement(f.E,{columns:6,space:"three"},null==n?void 0:n.options.map((function(e,t){return a.createElement(f.a,_e(ye({},v),{key:t}),a.createElement("div",null,a.createElement(vr,{monthSelectionButton:e,onMonthSelectionToggle:r,badge:i?i[t]:null,isBadgeLoading:o})))})))),a.createElement(l.b,{padding:{blockstart:"four"}},a.createElement(D.i,{justifyContent:"center"},a.createElement(a.Fragment,null,c&&!o&&a.createElement("div",null,a.createElement(ja,{ref:I,data:c,onHandleClick:A,textSize:200}),a.createElement(Ya,{toggleVisibility:A,isVisible:E,data:c.triggerAction.sheet,ref:I,position:{inline:"trailing",block:"leading"},showOverTrigger:!0},a.createElement(G.a,{size:2},c.triggerAction.text))),o&&a.createElement(T.b,{animation:!0}))))))))};Sr.displayName=yr,Sr.fragment=pr;var Er=(0,u.J1)(xe()),gr=function(e){var t=e.data,n=e.checked,r=e.onChange,l=t.egdsElementId,i=t.description,o=t.enabled,c=t.name,s=t.required,d=t.label,u=t.checkedAnalytics,m=t.uncheckedAnalytics,p=t.state,y=ve(a.useState(null!=n?n:"CHECKED"===p),2),_=y[0],v=y[1];a.useEffect((function(){v(null!=n?n:"CHECKED"===p)}),[n,p]);var E=(0,S.KY)(),g=a.useCallback((function(e){if(v(e.currentTarget.checked),u&&!_){var t=u.referrerId,n=u.linkName;E(t,n)}if(m&&_){var a=m.referrerId,l=m.linkName;E(a,l)}null==r||r(e)}),[u,_,r,E,m]);return a.createElement(j.E,{id:null!=l?l:"",checked:_,description:null!=i?i:void 0,disabled:!o,name:null!=c?c:void 0,onChange:g,required:s},null==d?void 0:d.text)};gr.displayName="EGDSBasicCheckBox",gr.fragment=_e(ye({},Er),{__typename:"EGDSBasicCheckBox"});var fr=(0,u.J1)(Be(),gr.fragment),hr=function(e){var t=e.data,n=e.onChange;return"EGDSBasicCheckBox"===(null==t?void 0:t.__typename)?a.createElement(gr,{onChange:n,data:t}):null};hr.displayName="EGDSCheckBox",hr.fragment=fr;var Dr=(0,u.J1)(we()),Tr=function(e){var t,n=e.data,r=e.onClick,l=n.id,i=n.primary,o=n.accessibility,c=n.removeAnalytics,s=n.name,d=n.value,u=null!==(t=null!=l?l:s)&&void 0!==t?t:"egds-basic-removable-pill",m=(0,S.KY)();return a.createElement("div",null,a.createElement(V.a,{id:u,onClick:function(e){if(r&&r({event:e,id:null!=l?l:""}),c){var t=c.referrerId,n=c.linkName;m(t,n)}},a11yRemoveText:o||""},i),a.createElement("input",{type:"hidden",name:null!=s?s:"",value:null!=d?d:""}))};Tr.displayName="EGDSBasicRemovablePill",Tr.fragment=Dr;var br=(0,u.J1)(We(),Ha.fragment),Cr=function(e){var t=e.data,n=e.onChange,r=e.triggerPill,l=e.onClick,i=e.domRef,o=e.active,c=t.id,s=t.primary,d=t.selected,u=t.disabled,m=t.icon,p=t.selectAnalytics,y=t.deselectAnalytics,_=t.accessibility,v=(0,S.KY)(),E=null!=c?c:"egds-basic-pill",g=ve(a.useState(o||d),2),f=g[0],h=g[1];a.useEffect((function(){h(null!=o&&o)}),[o]);var D=(0,b.u)(E,(function(e){if(h(!f),n&&n(e),l&&l(),p&&f){var t=p.linkName,a=p.referrerId;return v(a,t),e}if(y&&!f){var r=y.linkName,i=y.referrerId;v(i,r)}return e}));return a.createElement(V.E,{checked:f,active:f,selected:d,disabled:u,icon:"Icon"===(null==m?void 0:m.__typename)?m.token:"",id:E,name:"".concat("EGDSBasicTriggerPill","-").concat(E),triggerPill:r,onClick:D,altText:null!=_?_:"",domRef:i},s)};Cr.displayName="EGDSBasicTriggerPill",Cr.fragment=br;var Ir=(0,u.J1)(Ue(),Qa.fragment,Cr.fragment,Tr.fragment),Ar=function(e){var t=e.data;switch(t.__typename){case"EGDSBasicPill":return a.createElement(Qa,_e(ye({},e),{data:t}));case"EGDSBasicTriggerPill":return a.createElement(Cr,_e(ye({},e),{data:t}));case"EGDSBasicRemovablePill":return a.createElement(Tr,_e(ye({},e),{data:t}));default:return null}};Ar.displayName="SearchToolsEGDSPill",Ar.fragment=Ir;var Fr=(0,u.J1)(He(),Ar.fragment,hr.fragment),Or="EGDSDatePickerFlexibleNights",kr="".concat(Or,"-Options"),Gr="".concat(Or,"-Weekend"),Rr=function(e){var t=e.data,n=e.onNightSelectionPillChange,r=e.nightsSelectionPills,l=e.onIncludeWeekendCheck,i=e.includeWeekendCheckbox,o=t.heading;return a.createElement("div",null,a.createElement(D.i,{alignItems:"center",direction:"column",space:"three"},a.createElement(D.j,null,a.createElement(G.E,{size:6},o)),a.createElement(D.j,null,a.createElement(H.S,{data:r,handleSelectedPill:n,wrap:!0,align:"center"}),";"),i&&a.createElement(D.j,null,a.createElement(hr,{data:i,onChange:l}))))};Rr.displayName=Or,Rr.fragment=Fr;var Lr=(0,u.J1)(Ve(),Sr.fragment,Rr.fragment),Pr=function(e){var t=e.data,n=e.className,r=e.onNightSelectionPillChange,i=e.nightsSelectionPills,o=e.onIncludeWeekendCheck,c=e.includeWeekendCheckbox,s=e.monthsSelectionToggleButtons,d=e.onMonthSelectionToggle,u=e.priceInsightsPrices,m=e.isPriceInsightsDataLoading,p=e.priceInsightsExplainabilityText,y=e.hasMobileExplainabilityTextBeenClicked,_=t.nightsSelection,v=t.monthsSelection;return a.createElement(l.b,{padding:"four"},a.createElement("div",{className:n},_&&a.createElement(Rr,{data:_,onNightSelectionPillChange:r,nightsSelectionPills:i,onIncludeWeekendCheck:o,includeWeekendCheckbox:c}),a.createElement(l.c,{blockMargin:"six"}),v&&a.createElement(Sr,{data:v,isPriceInsightsDataLoading:m,priceInsightsPrices:u,monthsSelectionToggleButtons:s,onMonthSelectionToggle:d,priceInsightsExplainabilityText:p,hasMobileExplainabilityTextBeenClicked:y})))};Pr.displayName="EGDSDatePickerFlexibilityDatesContent",Pr.fragment=Lr;var Mr=(0,u.J1)(ze(),rr.fragment,tr.fragment,Pr.fragment),Nr=function(e){var t=e.data,n=e.children,r=e.className,l=e.onContentSelectorSelection,i=e.onNightSelectionPillChange,o=e.nightsSelectionPills,c=e.onIncludeWeekendCheck,s=e.includeWeekendCheckbox,u=e.monthsSelectionToggleButtons,m=e.onMonthSelectionToggle,p=e.contentSelector,y=e.priceInsightsPrices,_=e.isPriceInsightsDataLoading,S=e.priceInsightsExplainabilityText,E=e.hasMobileExplainabilityTextBeenClicked,g=t.flexibleDatesContent,f="EGDSBasicTabs"===(null==p?void 0:p.__typename)?p.selectedTabId:"",h={calendarTabId:"calendar-tab",flexibleTabId:"flexible-dates-tab"},D=function(){if("EGDSBasicTabs"===(null==p?void 0:p.__typename)){var e=p.tabs;return"EGDSBasicTab"===e[0].__typename&&"EGDSBasicTab"===e[1].__typename?{calendarTabId:e[0].tabId,flexibleTabId:e[1].tabId}:h}return h}(),T=D.calendarTabId,b=D.flexibleTabId,C=a.createElement("div",{className:r},"EGDSBasicTabs"===(null==p?void 0:p.__typename)&&a.createElement(rr,{data:p,onTabSelected:l,backgroundColor:v.d.SECONDARY,tabsType:v.c.EQUAL_WIDTH}),f===T&&a.createElement(a.Fragment,null,a.createElement("div",{id:T}),n),f===b&&g&&a.createElement("div",{id:b},a.createElement(Pr,{data:g,priceInsightsPrices:y,isPriceInsightsDataLoading:_,onNightSelectionPillChange:i,nightsSelectionPills:o,onIncludeWeekendCheck:c,includeWeekendCheckbox:s,monthsSelectionToggleButtons:u,onMonthSelectionToggle:m,priceInsightsExplainabilityText:S,hasMobileExplainabilityTextBeenClicked:E})));return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Y.E,{direction:"vertical"},C)),a.createElement(d.rw,null,C))};Nr.displayName="EGDSDatePickerFlexibilityContent",Nr.fragment=Mr;var xr=function(e){var t,n=null===(t=e.find((function(e){return e.selected})))||void 0===t?void 0:t.value;return!!n&&((null==n?void 0:n.includes("WEEK"))||(null==n?void 0:n.includes("6_DAY_LOWER,7_DAY_UPPER"))||(null==n?void 0:n.includes("MONTH")))},Br={INCLUDE_WEEKEND_UPDATE:function(e,t){var n=t.checked,a=t.enabled,r=void 0===a||a;return e.includeWeekendCheckbox.data?_e(ye({},e),{includeWeekendCheckbox:_e(ye({},e.includeWeekendCheckbox),{data:_e(ye({},e.includeWeekendCheckbox.data),{state:n,enabled:r})})}):ye({},e)},INCLUDE_WEEKEND_NIGHTS_STATE_UPDATE:function(e,t){var n=t.checked;return e.includeWeekendCheckbox.data?_e(ye({},e),{includeWeekendCheckbox:_e(ye({},e.includeWeekendCheckbox),{checkboxNightsState:n})}):ye({},e)},INCLUDE_WEEKEND_RESET:function(e){var t;return e.includeWeekendCheckbox.data?_e(ye({},e),{includeWeekendCheckbox:_e(ye({},e.includeWeekendCheckbox),{data:null!==(t=e.includeWeekendCheckbox.prevIncludeWeekendState)&&void 0!==t?t:e.includeWeekendCheckbox.data})}):ye({},e)},INCLUDE_WEEKEND_PREV_STATE_UPDATE:function(e,t){var n=t.prevIncludeWeekendState;return e.includeWeekendCheckbox.data?_e(ye({},e),{includeWeekendCheckbox:_e(ye({},e.includeWeekendCheckbox),{prevIncludeWeekendState:n})}):ye({},e)}},wr=function(e){if(e){var t=null==e?void 0:e.options.map((function(e,t){return 0===t||1===t?_e(ye({},e),{selected:!e.selected}):e}));return _e(ye({},e),{options:Ee(t)})}return null},Wr={MONTHS_SELECTION_UPDATE:function(e,t){var n=t.selectedMonth;if(e.monthsOptions.data&&n){var a=e.monthsOptions.data.options.map((function(e){return e.name===n?_e(ye({},e),{selected:!e.selected}):e}));return _e(ye({},e),{monthsOptions:_e(ye({},e.monthsOptions),{data:_e(ye({},e.monthsOptions.data),{options:Ee(a)})})})}return ye({},e)},MONTHS_SELECTION_RESET:function(e){var t;return e.monthsOptions.data?_e(ye({},e),{monthsOptions:_e(ye({},e.monthsOptions),{data:null!==(t=e.monthsOptions.prevMonthsOptionsSelected)&&void 0!==t?t:e.monthsOptions.data})}):ye({},e)},MONTHS_SELECTION_PREV_STATE_UPDATE:function(e,t){var n=t.prevMonthsOptions;return _e(ye({},e),{monthsOptions:_e(ye({},e.monthsOptions),{prevMonthsOptionsSelected:n})})},MONTHS_SELECTION_DEFAULT_UPDATE:function(e){var t;return e.monthsOptions.data?_e(ye({},e),{monthsOptions:_e(ye({},e.monthsOptions),{data:ye({},null!==(t=wr(e.monthsOptions.data))&&void 0!==t?t:e.monthsOptions.data)})}):ye({},e)},MONTHS_SELECTION_OPTIONS_UPDATE:function(e,t){var n=t.monthsSelectionOptions;return e.monthsOptions.data?_e(ye({},e),{monthsOptions:_e(ye({},e.monthsOptions),{data:_e(ye({},e.monthsOptions.data.options),{__typename:"EGDSToggleButtonGroup",options:n})})}):ye({},e)}},Ur={NIGHTS_OPTIONS_CHANGED:function(e,t){var n=t.nightsRangeSelected;if(e.nightsSelection.data){var a=e.nightsSelection.data.map((function(e){return e.value===n?_e(ye({},e),{selected:!0}):_e(ye({},e),{selected:!1})}));return _e(ye({},e),{nightsSelection:_e(ye({},e.nightsSelection),{data:Ee(a)})})}return ye({},e)},NIGHTS_OPTIONS_PREV_STATE_UPDATE:function(e,t){var n=t.prevNightsOptions;return _e(ye({},e),{nightsSelection:_e(ye({},e.nightsSelection),{prevNightsRangeSelected:n})})},NIGHTS_OPTIONS_RESET:function(e){var t;return e.nightsSelection.data?_e(ye({},e),{nightsSelection:_e(ye({},e.nightsSelection),{data:null!==(t=e.nightsSelection.prevNightsRangeSelected)&&void 0!==t?t:e.nightsSelection.data})}):ye({},e)}},Hr={CONTENT_SELECTOR_CHANGED:function(e,t){var n=t.tabSelected;return e.contentSelector.data?_e(ye({},e),{contentSelector:_e(ye({},e.contentSelector),{data:_e(ye({},e.contentSelector.data),{selectedTabId:null!=n?n:""})})}):ye({},e)},CONTENT_SELECTOR_RESET:function(e){if(e.contentSelector.data){var t=e.contentSelector,n=t.prevTabSelected,a=t.data.selectedTabId;return _e(ye({},e),{contentSelector:_e(ye({},e.contentSelector),{data:_e(ye({},e.contentSelector.data),{selectedTabId:null!=n?n:a})})})}return ye({},e)},CONTENT_SELECTOR_PREV_STATE_UPDATE:function(e,t){var n=t.prevTab;return _e(ye({},e),{contentSelector:_e(ye({},e.contentSelector),{prevTabSelected:null!=n?n:e.contentSelector.prevTabSelected})})}},Vr=ye({},Hr,Ur,Br,Wr),zr=function(e,t){var n=Vr[t.type];return n?n(e,t):e},Yr=function(e){var t=e.data,n=e.isPriceInsightsLoading,r=e.onHandleClick;return a.createElement(l.b,{padding:{blockend:"three",inline:"two"}},a.createElement("div",null,n&&a.createElement(T.b,{animation:!0}),t&&!n&&a.createElement(ja,{onHandleClick:r,data:t,textSize:200})))},qr=(0,u.J1)(Ye(),ja.fragment,dr.fragment,cr.fragment),jr=(0,u.J1)(qe(),qr),$r=(0,u.J1)(je(),ja.fragment),Kr=(0,u.J1)($e(),$r),Jr="on_submit",Qr="on_close",Xr="on_checkin_date_change",Zr=function(e){var t,n,r,l,i,o,c,s,u,p,y,_,v,E,g,f,h,D,T,C,I,O,k=e.autoOpen,G=e.startDate,R=e.endDate,L=e.enableSameDayDateRange,B=e.buttonText,w=e.clearButtonText,W=e.inputLabel1,U=e.inputLabel2,H=e.allowClearDates,V=e.validDaysLowerBoundInclusive,z=e.validDaysUpperBoundInclusive,Y=e.skipQuery,q=e.typename,j=e.errorMessage,$=e.buttonTextTemplate,K=e.onClearDates,J=e.onSelectEndDate,Q=e.onSelectStartDate,X=e.onChangeEndDate,Z=e.onChangeStartDate,ee=e.onClose,te=e.onOpen,ne=e.setFieldRefByTypename,ae=e.onNextCalendarClick,re=e.onPreviousCalendarClick,le=e.flexibleDateContent,ie=e.flexibleContentConfig,oe=e.dialogId,ce=e.startDateString,se=e.endDateString,de=e.showCalendar,ue=e.toggleCalendar,me=e.showStartDateEndDateHiddenInputs,pe=e.input1Stid,Se=e.popoverWidth,ge=e.gaiaId,fe=e.onFlexibleTabSelection,he=e.dailyPriceInsightsConfig,De=e.priceInsightsDayData,Te=e.dayTemplateComponent,be=e.handleCalendarScroll,Ce=e.dailyPriceAnalytics,Ie=e.dailyPriceInsightsExplainabilityText,Ae=(0,m.R)().context,Fe=(0,S.iQ)(),Oe=ba(Ae),ke=(0,S.KY)(),Ge=(0,N.useLocalization)(),Re=a.useRef(null),Le=ve(a.useState(null),2),Pe=Le[0],Me=Le[1],Ne=ve(a.useState(),2),xe=Ne[0],Be=Ne[1],we=ve(a.useState(null),2),We=we[0],Ue=we[1],He=(0,F.useExperiment)("Monthly_Price_Insights_in_Flex_Search"),Ve=He.exposure,ze=He.logExperiment,Ye=ve((0,A._)(jr,{onCompleted:function(e){if(e.searchFormPriceInsights.flexibleDatesMonthly.options){var t=e.searchFormPriceInsights.flexibleDatesMonthly.options.map((function(e){return e.button})).filter(Ga),n=e.searchFormPriceInsights.flexibleDatesMonthly.options.map((function(e){return e.price})).filter(Ga);1===Ve.bucket&&(Pe||Me(t),Be(n),Ue(e.searchFormPriceInsights.flexibleDatesMonthly.explainabilityText))}}}),2),qe=Ye[0],je=Ye[1].loading,$e=(0,F.useExperiment)("Monthly_Price_Insights_api_call_gate_web"),Ke=$e.exposure,Je=$e.logExperiment,Qe=(0,F.useExperiment)("Auto_close_date_selector_after_end_date_selection"),Xe=Qe.exposure,Ze=Qe.logExperiment,et=function(e,t){var n=null!=e?e:t?_a(t):"";return n?Sa(n):null};k&&te&&te();var tt=et(ce,G),nt=et(se,R),at=ve(a.useState(tt),2),rt=at[0],lt=at[1],it=ve(a.useState(nt),2),ot=it[0],ct=it[1],st=ve(a.useState(tt),2),dt=st[0],ut=st[1],mt=ve(a.useState(nt),2),pt=mt[0],yt=mt[1],_t=ve(a.useState(500),2),vt=_t[0],St=_t[1],Et=ve(a.useState(!1),2),gt=Et[0],ft=Et[1],ht="boolean"==typeof de&&ue,Dt=ve(a.useState(ht?de:null!=k&&k),2),Tt=Dt[0],bt=Dt[1],Ct=ve(a.useState(Tt),2),It=Ct[0],At=Ct[1],Ft=ve(a.useState(!1),2),Ot=Ft[0],kt=Ft[1],Gt=a.useMemo((function(){return z?_a(z):pa(vt)}),[vt,z]),Rt=a.useMemo((function(){return V?_a(V):void 0}),[V]),Lt=ve(a.useState({defaults:{validStartDate:Rt,validEndDate:Gt}}),2),Pt=Lt[0],Mt=Lt[1];a.useEffect((function(){if(De&&(null==he?void 0:he.dailyPriceInsightsEnabled)){var e=Ta(De,G,tt,nt,dt,pt,!1,!1,R),t=Da(dt,pt,!0,e,Ge);Mt((function(e){return _e(ye({},e,t),{defaults:_e(ye({},e.defaults),{dateText:{textTheme:null}})})}))}else Mt({defaults:{validStartDate:Rt,validEndDate:Gt}})}),[Gt,Rt,!!De,ge]);var Nt,xt,Bt,wt,Wt,Ut,Ht,Vt,zt,Yt,qt,jt=ve(a.useState("EGDSCardinalLocalizedText"===(null==$?void 0:$.__typename)?$.text:B),2),$t=jt[0],Kt=jt[1],Jt=null==le||null===(t=le.calendarContent)||void 0===t?void 0:t.flexibleDateOptions,Qt=null!==(Nt=null==Jt?void 0:Jt.find((function(e){return dt&&pt?e.selected:ga(e)})))&&void 0!==Nt?Nt:null,Xt=(null==Qt?void 0:Qt.primary)?"(".concat(Qt.primary,")"):void 0,Zt={value:null==Qt?void 0:Qt.value,hasValueChanged:!1,trailingText:Qt&&ga(Qt)?"":Xt},en=ve(a.useState(Zt),2),tn=en[0],nn=en[1],an=(0,d.eg)({viewSizes:d.pf})>=d.pf.LARGE,rn=!(!(null==le?void 0:le.contentSelector)||!(null==ie?void 0:ie.includeFlexibleDatesContent)),ln=null==le?void 0:le.contentSelector,on=(Bt=null!==(xt=null==le||null===(n=le.flexibleDatesContent)||void 0===n?void 0:n.nightsSelection)&&void 0!==xt?xt:null,null!==(wt=null==Bt?void 0:Bt.options.map((function(e){var t,n,a,r;return{selected:e.selected,checked:!1,text:null!==(t=e.primary)&&void 0!==t?t:"",disabled:e.disabled,value:null!==(n=e.value)&&void 0!==n?n:"",id:null!==(a=e.name)&&void 0!==a?a:"",altText:null!==(r=e.accessibility)&&void 0!==r?r:""}})))&&void 0!==wt?wt:[]),cn=null!==(Wt=null==le||null===(l=le.flexibleDatesContent)||void 0===l||null===(r=l.nightsSelection)||void 0===r?void 0:r.includeWeekend)&&void 0!==Wt?Wt:null,sn=null!==(Ut=null==le||null===(o=le.flexibleDatesContent)||void 0===o||null===(i=o.monthsSelection)||void 0===i?void 0:i.options)&&void 0!==Ut?Ut:null,dn={contentSelector:{data:null!=ln?ln:null},nightsSelection:{data:on},includeWeekendCheckbox:{data:cn,checkboxNightsState:xr(on)?"UNCHECKED":null!==(Ht=null==cn?void 0:cn.state)&&void 0!==Ht?Ht:"UNCHECKED"},monthsOptions:{data:sn}},un=ve((Vt=dn,[(zt=ve((0,a.useReducer)(zr,Vt),2))[0],zt[1]]),2),mn=un[0],pn=un[1],yn=mn.contentSelector,_n=mn.nightsSelection,vn=mn.includeWeekendCheckbox,Sn=mn.monthsOptions,En="EGDSBasicTab"===(null===(s=yn.data)||void 0===s||null===(c=s.tabs[0])||void 0===c?void 0:c.__typename)?null===(p=yn.data)||void 0===p||null===(u=p.tabs[0])||void 0===u?void 0:u.tabId:"date_form_nested_flexible_tab_calendar",gn="EGDSBasicTab"!==(null===(_=yn.data)||void 0===_||null===(y=_.tabs[0])||void 0===y?void 0:y.__typename)||yn.data.selectedTabId===En,fn=null!==(Yt=(null==ie?void 0:ie.includeFlexibleDatesContent)&&!gn)&&void 0!==Yt&&Yt,hn=ve(a.useState(),2),Dn=hn[0],Tn=hn[1],bn=(0,b.u)((qt=gn&&(null==ie?void 0:ie.includeFlexibleCalendarContent)&&tn.trailingText,fn||qt?"".concat(q,"-Flexible"):q),(function(e){return e})),Cn=ve(a.useState(),2),In=Cn[0],An=Cn[1];a.useEffect((function(){!(null==In?void 0:In.includes(Qr))||(null==In?void 0:In.includes(Jr))||an?An(null):(rn&&(pn({type:"CONTENT_SELECTOR_RESET"}),Sn.prevMonthsOptionsSelected&&pn({type:"MONTHS_SELECTION_RESET"}),_n.prevNightsRangeSelected&&pn({type:"NIGHTS_OPTIONS_RESET"}),vn.prevIncludeWeekendState&&pn({type:"INCLUDE_WEEKEND_RESET"})),ut(rt),yt(ot))}),[In]),a.useEffect((function(){var e,t;pn({type:"NIGHTS_OPTIONS_PREV_STATE_UPDATE",prevNightsOptions:on}),pn({type:"INCLUDE_WEEKEND_PREV_STATE_UPDATE",prevIncludeWeekendState:cn}),pn({type:"CONTENT_SELECTOR_PREV_STATE_UPDATE",prevTab:null!==(t=null===(e=yn.data)||void 0===e?void 0:e.selectedTabId)&&void 0!==t?t:En}),pn({type:"MONTHS_SELECTION_PREV_STATE_UPDATE",prevMonthsOptions:sn})}),[]);a.useEffect((function(){if(gt){ft(!1);var e="";dt&&pt&&(t="".concat(dt," - ").concat(pt),n=Pa(t,Ge),e=(a=tn.trailingText)&&gn&&(null==ie?void 0:ie.includeFlexibleCalendarContent)?"".concat(n," ").concat(a):t),Na(gn?e:null!=Dn?Dn:"",bn)}var t,n,a}),[gt]),a.useEffect((function(){if(tt&&(ut(tt),lt(tt)),nt&&(yt(nt),ct(nt)),tt||nt||(ut(""),yt("")),z){var e=_a(z).getTime()-(new Date).getTime();St(ya(e))}}),[nt,tt,Y,V,z]),a.useEffect((function(){Y||(null==Qt?void 0:Qt.value)===tn.value||nn(Zt)}),[Qt,Y]),a.useEffect((function(){ne("EGDSSearchFormDatePickerField",Re)}),[]);var Fn=a.useCallback((function(){var e,t;Tt&&(null!==(t=null==Re||null===(e=Re.current)||void 0===e?void 0:e.getBoundingClientRect().top)&&void 0!==t?t:20)<=20&&(bt(!1),document.body.click())}),[Tt]);a.useEffect((function(){if(Tt)return window.addEventListener("scroll",Fn),function(){return window.removeEventListener("scroll",Fn)}}),[Tt,Fn]),a.useEffect((function(){var e;ht&&(de&&!It?null===(e=Re.current)||void 0===e||e.click():!de&&It&&document.body.click())}),[de,ue]),(0,M._H)(x.Jm,x.ht,{onSuccess:function(){var e;null===(e=Re.current)||void 0===e||e.click()}});var On,kn,Gn,Rn,Ln,Pn,Mn,Nn,xn,Bn,wn,Wn=function(e,t){if("EGDSCardinalLocalizedText"===(null==$?void 0:$.__typename)&&e&&t){var n=Number(new Date(e)),a=Number(new Date(null!=t?t:"")),r=ya(a-n);Kt((i=r,(o=(l=$).templates.find((function(e){return e.category===ua(i)})))?ia(o.template,l.models[0].key,i.toString()):""))}var l,i,o},Un=function(e,t){var n,a,r=pt!==e,l=R&&r;(ft(!1),kt(!0),null===e&&null!==dt||ut(e),e)&&(Z(e),dt!==e&&Q(),De&&"positive"===(null===(a=De[e])||void 0===a||null===(n=a.dateText)||void 0===n?void 0:n.textTheme)&&(null==Ce?void 0:Ce.startDateAnalytics)&&Fe({clientPayload:JSON.parse(null==Ce?void 0:Ce.startDateAnalytics)}));e||(ut(""),Z(""),Q());var i,o=function(e){var t,n;return null==e||null===(n=e.toISOString())||void 0===n||null===(t=n.match(/[0-9]{4}-[0-9]{2}-[0-9]{2}/gi))||void 0===t?void 0:t[0]}(e&&(null==(i=new Date(e))||i.setDate(i.getDate()+1),i)),c=t||o||null;t&&Ze(Xe),c?(yt(c),pt!==c&&J(),X(c),Wn(e,c)):e?ut(e):e||(yt(""),X(""),J()),function(e,t,n,a){var r=a.formatDateString;if(e&&t){var l=new Date(e),i=new Date(t);if(l<i){l.setDate(l.getDate()+1);for(var o=l;o<=i;o.setDate(o.getDate()+1)){var c,s;if("positive"===(null===(s=n[r(o,{raw:ma})])||void 0===s||null===(c=s.dateText)||void 0===c?void 0:c.textTheme))return!0}}}return!1}(e,c,Pt,Ge)&&(null==Ce?void 0:Ce.rangeAnalytics)&&Fe({clientPayload:JSON.parse(Ce.rangeAnalytics)}),De&&(null==he?void 0:he.dailyPriceInsightsEnabled)&&(Mt(Ta(Pt,G,e,c,dt,pt,r,l,t)),Mt(Da(dt,pt,!1,Pt,Ge)),Mt(Da(e,t,!0,Pt,Ge)))},Hn=function(){var e,t=null!==(e=null==Jt?void 0:Jt.find((function(e){return"0_day"===e.value})))&&void 0!==e?e:null;if(t){var n=t.value;nn({value:n,trailingText:"",hasValueChanged:!0})}},Vn=fn?(xn=null===(On=_n.data)||void 0===On?void 0:On.find((function(e){return!0===e.selected})),Bn=(null===(kn=Sn.data)||void 0===kn?void 0:kn.options)?[null==Sn||null===(Gn=Sn.data)||void 0===Gn?void 0:Gn.options[0],null==Sn||null===(Rn=Sn.data)||void 0===Rn?void 0:Rn.options[1]]:[],wn=null!==(Mn=null===(Pn=Sn.data)||void 0===Pn||null===(Ln=Pn.options)||void 0===Ln?void 0:Ln.filter((function(e){return e.selected})))&&void 0!==Mn?Mn:[],{selectedFlexibleDatesNights:xn,selectedFlexibleDatesMonths:null==(Nn=wn&&(null==wn?void 0:wn.length)>0?wn:Bn)?void 0:Nn.map((function(e){var t,n,a=null===(t=e.name)||void 0===t?void 0:t.split("_"),r=null!==(n=null==a?void 0:a.splice(a.length-2,a.length).join("_"))&&void 0!==n?n:"";return{shortMonthName:a?a[a.length-1]:"",monthsDate:r}})).filter((function(e){return!!e.monthsDate&&!!e.shortMonthName}))}):{selectedFlexibleDatesNights:void 0,selectedFlexibleDatesMonths:[]},zn=Vn.selectedFlexibleDatesNights,Yn=Vn.selectedFlexibleDatesMonths,qn=function(){var e,t=null==le||null===(e=le.flexibilityLabel)||void 0===e?void 0:e.templates,n=null==zn?void 0:zn.text,a=null==Yn?void 0:Yn.map((function(e){return e.shortMonthName})),r=sn&&a.length>0,l=r&&a.length>6?5:a.length-1,i=r&&t?t[l].template:"",o=r?[n].concat(Ee(a)):[],c=i;return o.forEach((function(e,t){var n,a,r=null==le||null===(a=le.flexibilityLabel)||void 0===a||null===(n=a.models[t])||void 0===n?void 0:n.key;c=ia(c,null!=r?r:"",null!=e?e:"")})),c};a.useEffect((function(){fn&&Tn(qn)}),[]);var jn=function(){if(fn){var e,t,n=qn();Tn(n);var a=null!==(t=null===(e=Sn.data)||void 0===e?void 0:e.options.some((function(e){return e.selected})))&&void 0!==t&&t;a||pn({type:"MONTHS_SELECTION_DEFAULT_UPDATE"});var r=_n.prevNightsRangeSelected!==_n.data||(null==vn?void 0:vn.prevIncludeWeekendState)!==(null==vn?void 0:vn.data)||(null==Sn?void 0:Sn.prevMonthsOptionsSelected)!==Sn.data;pn({type:"MONTHS_SELECTION_PREV_STATE_UPDATE",prevMonthsOptions:a?Sn.data:wr(Sn.data)}),pn({type:"INCLUDE_WEEKEND_PREV_STATE_UPDATE",prevIncludeWeekendState:null==vn?void 0:vn.data}),pn({type:"NIGHTS_OPTIONS_PREV_STATE_UPDATE",prevNightsOptions:_n.data}),ft(r)}if(rn){var l,i,o="EGDSBasicTabs"===(null==yn||null===(l=yn.data)||void 0===l?void 0:l.__typename)?null===(i=yn.data)||void 0===i?void 0:i.selectedTabId:"";pn({type:"CONTENT_SELECTOR_PREV_STATE_UPDATE",prevTab:o}),yn.prevTabSelected!==o&&ft(!0)}},$n=function(e,t){if(!an&&rn&&(An([Jr]),jn()),!G&&!R&&e&&t)return lt(e),ct(t),void ft(!0);e||t||Hn(),(null!=tt?tt:"")===e&&(null!=nt?nt:"")===t||(lt(e),ct(t),ft(!0))};(0,M._H)(x.z,x.vZ,{onSuccess:function(e){var t=e.payload,n=Sa(t.startDate),a=Sa(t.endDate);Un(n,a),$n(n,a)}});a.useEffect((function(){Pe&&pn({type:"MONTHS_SELECTION_OPTIONS_UPDATE",monthsSelectionOptions:Pe})}),[Pe]);var Kn,Jn,Qn,Xn,Zn,ea=ve(a.useState(!1),2),ta=ea[0],na=ea[1],aa={data:le,onNightSelectionPillChange:function(e){pn({type:"NIGHTS_OPTIONS_CHANGED",nightsRangeSelected:e}),function(e){var t,n,a,r=_n.data.findIndex((function(t){return t.value===e})),l=null==le||null===(a=le.flexibleDatesContent)||void 0===a||null===(n=a.nightsSelection)||void 0===n||null===(t=n.options[r])||void 0===t?void 0:t.selectAnalytics;(null==l?void 0:l.linkName)&&(null==l?void 0:l.referrerId)&&ke(l.referrerId,l.linkName)}(e);var t=e.includes("WEEK")||e.includes("6_DAY_LOWER,7_DAY_UPPER")||e.includes("MONTH"),n=e.includes("DAY"),a=xr(_n.data);t&&pn({type:"INCLUDE_WEEKEND_UPDATE",checked:"CHECKED",enabled:!1}),n&&a&&pn({type:"INCLUDE_WEEKEND_UPDATE",checked:vn.checkboxNightsState,enabled:!0})},nightsSelectionPills:_n.data,includeWeekendCheckbox:vn.data,onIncludeWeekendCheck:function(e){var t=e.target.checked?"CHECKED":"UNCHECKED";pn({type:"INCLUDE_WEEKEND_NIGHTS_STATE_UPDATE",checked:t}),pn({type:"INCLUDE_WEEKEND_UPDATE",checked:t})},onMonthSelectionToggle:function(e){pn({type:"MONTHS_SELECTION_UPDATE",selectedMonth:e.target.name})},monthsSelectionToggleButtons:Sn.data,onContentSelectorSelection:function(e){var t;me("EGDSBasicTabs"===(null===(t=yn.data)||void 0===t?void 0:t.__typename)&&e===En),pn({type:"CONTENT_SELECTOR_CHANGED",tabSelected:e}),e!==En&&(null==fe||fe(),ze(Ve))},contentSelector:yn.data,priceInsightsPrices:xe,isPriceInsightsDataLoading:je,priceInsightsExplainabilityText:We,hasMobileExplainabilityTextBeenClicked:ta},ra=rn?{component:Nr,props:aa}:void 0,la=an||gn?nr:Yr,oa=null==ie?void 0:ie.includeFlexibleCalendarContent,ca="EGDSBasicTabs"===(null===(v=yn.data)||void 0===v?void 0:v.__typename)&&gn?"":"is-visually-hidden is-hidden",sa={data:null!==(Kn=null==le?void 0:le.calendarContent)&&void 0!==Kn?Kn:{},onSelect:function(e){if(null==Jt?void 0:Jt.length){var t=Jt.find((function(t){return t.value===e}));if(t){var n=t.selectAnalytics,a=t.value,r=t.primary,l=ga(t)?"":"(".concat(r,")");nn((function(e){var t,n,r=null!==(n=null===(t=Jt.find((function(t){return t.value===e.value})))||void 0===t?void 0:t.deselectAnalytics)&&void 0!==n?n:null;return r&&ke(r.referrerId,r.linkName),{value:a,trailingText:l,prevValue:e.value,hasValueChanged:!0}})),n&&ke(n.referrerId,n.linkName)}}},currentlySelectedPillValue:null!==(Jn=tn.value)&&void 0!==Jn?Jn:"",className:rn?ca:"",includeFlexibleCalendarContent:!(!(null==ie?void 0:ie.includeFlexibleCalendarContent)||!(null==le?void 0:le.calendarContent))},da=an||!We||gn?{flexibleCalendarProps:sa,dailyPriceExplainabilityTextProps:Ie?{data:Ie,isCalendarTab:gn}:void 0}:{data:We,onHandleClick:function(){return na((function(e){return!e}))},isPriceInsightsLoading:je},va={inputName1:"EGDSDateRange-date-selector-trigger",input1Stid:null!=pe?pe:"default",autoCloseOnSelection:1===Xe.bucket,allowClearDates:null!==(Qn=H&&gn)&&void 0!==Qn&&Qn,clearButtonLabel:w,dateFormatOptions:{month:"short",day:"numeric"},dayNameLength:"narrow",dayTemplateComponent:null!=Te?Te:xa,dayData:Pt,endDate:pt,enableSameDayDateRange:L,inputLabel1:W,inputLabel2:U,locale:Oe,maxDate:Gt,minDate:Rt,onDateRangeChange:Un,onDateRangeClear:function(){ut(null),yt(null),Hn(),K()},onClose:function(){ht&&ue(!1);var e=rt!==dt;an?jn():An((function(t){var n=e?[Qr,Xr]:[Qr];return t?Ee(t).concat(Ee(n)):Ee(n)})),tn.hasValueChanged&&""!==dt&&""!==pt&&(ft(!0),nn((function(e){return _e(ye({},e),{hasValueChanged:!1})}))),Ot&&(ft(!0),kt(!1)),ee(),At(!1)},onSubmit:$n,onOpen:function(){(null==Ce?void 0:Ce.presentationAnalytics)&&De?Fe({clientPayload:JSON.parse(null==Ce?void 0:Ce.presentationAnalytics)}):(null==Ce?void 0:Ce.errorAnalytics)&&!De&&Fe({clientPayload:JSON.parse(null==Ce?void 0:Ce.errorAnalytics)}),ht&&ue(!0),(null==le?void 0:le.contentSelector)&&(null==ie?void 0:ie.includeFlexibleDatesContent)&&(ge?(Je(Ke),1===Ke.bucket&&qe({variables:{context:Ae,gaiaId:null!=ge?ge:""}}),gn||ze(Ve)):xe&&(null==xe?void 0:xe.length)>0&&Be(null)),te(),At(!0),gn||null==fe||fe()},invalidInput1:j,startDate:dt,submitButtonLabel:$t,useSingleTrigger:!0,initialOpenState:Tt,startDateRef:Re,onNextClicked:ae,onPrevClicked:re,onScrollHandler:be,handleShape:"circle",alertTemplateComponent:la,alertTemplateData:da,calendarWrapper:ra,trailingText1:oa&&!fn?null!==(Xn=tn.trailingText)&&void 0!==Xn?Xn:"":void 0,dialogId:oe,inputValue1:fn?Dn:void 0,popoverWidth:Se};return a.createElement(a.Fragment,null,a.createElement(P.E,ye({},va)),(null==le||null===(g=le.flexibleDatesContent)||void 0===g||null===(E=g.nightsSelection)||void 0===E?void 0:E.includeWeekend)&&"CHECKED"===(null==vn||null===(f=vn.data)||void 0===f?void 0:f.state)&&rn&&!gn&&a.createElement("input",{type:"hidden","data-stid":Gr,name:"".concat(Gr,"-").concat(null===(h=le.flexibleDatesContent.nightsSelection)||void 0===h?void 0:h.includeWeekend.name),value:"INCLUDE_WEEKEND"}),(null==le||null===(T=le.flexibleDatesContent)||void 0===T||null===(D=T.nightsSelection)||void 0===D?void 0:D.options)&&zn&&rn&&!gn&&a.createElement("input",{type:"hidden","data-stid":kr,name:"".concat(kr,"-").concat(zn.id),value:zn.value}),(null==le||null===(I=le.flexibleDatesContent)||void 0===I||null===(C=I.monthsSelection)||void 0===C?void 0:C.options)&&rn&&!gn&&a.createElement("input",{type:"hidden","data-stid":_r,name:_r,value:Yn.map((function(e){return e.monthsDate})).join("/")}),(null==le?void 0:le.calendarContent)&&oa&&gn&&a.createElement("input",{type:"hidden","data-stid":er,name:"".concat(er,"-").concat(null===(O=le.calendarContent)||void 0===O?void 0:O.formElementId),value:null!==(Zn=tn.value)&&void 0!==Zn?Zn:""}))},el=(0,u.J1)(Ke(),Nr.fragment),tl="EGDSDatePickerFlexibleNights",nl="EGDSDateRangePicker",al={START_DATE_NAME_PREFIX:"".concat(nl,"-StartDate"),END_DATE_NAME_PREFIX:"".concat(nl,"-EndDate"),PARTIAL_STAY_START_DATE_NAME_PREFIX:"EGDSDateRangePartialStay-StartDate",PARTIAL_STAY_END_DATE_NAME_PREFIX:"EGDSDateRangePartialStay-EndDate",SOFT_PACKAGES_START_DATE_NAME_PREFIX:"EGDSDateRangePickerSoftPackages-StartDate",SOFT_PACKAGES_END_DATE_NAME_PREFIX:"EGDSDateRangePickerSoftPackages-EndDate",FLEXIBILITY_PREFIX:"EGDSDatePickerFlexibilityCalendarContent-SelectedOption",FLEXIBILITY_NIGHTS_PREFIX:"".concat(tl,"-Options"),FLEXIBILITY_WEEKEND_PREFIX:"".concat(tl,"-Weekend"),FLEXIBILITY_MONTHS_PREFIX:"EGDSDatePickerFlexibleMonths-Options"},rl=function(e){var t,n,r,l,o=(0,S.KY)(),c=e.data,s=e.analytics,u=e.egdsElementId,p=e.label,y=e.validDaysUpperBoundInclusive,_=e.skipReflection,v=e.onOpenDatesField,E=e.updatePlaybackDates,g=e.lobName,f=e.enablePriceCalendar,h=e.priceCalendarInputs,D=e.dialogId,T=e.popoverWidth,b=e.gaiaId,C=e.dailyPriceInsightsConfig,I=e.onLocationChange,k=e.isPartialDates,G=c.__typename,R=c.selectedStartDate,L=c.selectedEndDate,P=c.validDaysUpperBoundInclusive,M=c.sameDaySelectionAllowed,N=c.clearButtonText,x=c.showClearDatesButton,B=c.startDatePlaceholderText,w=c.endDatePlaceholderText,W=c.clearDatesButtonAnalytics,U=c.endDateButtonAnalytics,H=c.startDateButtonAnalytics,V=c.submitButtonAnalytics,z=c.nextButtonAnalytics,Y=c.previousButtonAnalytics,q=c.flexibleDateContent,j=c.buttonText,$=(0,m.R)().context,K=(0,i.kW)(),J=K.state,Q=K.dispatch,X=null!==(r=J.dates)&&void 0!==r?r:{},Z=X.start,ee=X.end,te=null!==(l=J.partialStaysDates)&&void 0!==l?l:{},ne=te.start,ae=te.end,re=k&&ne?Oa(ha(null!=ne?ne:"")):R,le=k&&ae?Oa(ha(ae)):L,ie=re?Sa(_a(re)):"",oe=le?Sa(_a(le)):"",ce=ve(a.useState({startDate:ie,endDate:oe}),2),se=ce[0],de=ce[1],ue="EGDSBasicTabs"===(null==q||null===(t=q.contentSelector)||void 0===t?void 0:t.__typename)?null==q?void 0:q.contentSelector.tabs:null,me=ue&&"EGDSBasicTab"===ue[0].__typename?ue[0].tabId:"calendar-tab",pe=ve(a.useState("EGDSBasicTabs"!==(null==q||null===(n=q.contentSelector)||void 0===n?void 0:n.__typename)||(null==q?void 0:q.contentSelector.selectedTabId)===me),2),Se=pe[0],Ee=pe[1],ge=(0,F.useExperiment)("Daily_Price_Insight_AA_test"),fe=ge.exposure,he=ge.logExperiment,De=(0,F.useExperiment)("Price_Insight_Calendar_in_Search_Form"),Te=De.exposure,be=De.logExperiment,Ce=(null!=C?C:{}).dailyPriceDebounce,Ie=function(e){return"partial-stay-date-range-select"===u?al["PARTIAL_STAY_".concat(e,"_DATE_NAME_PREFIX")]:"soft_packages_date_form_field"===u?al["SOFT_PACKAGES_".concat(e,"_DATE_NAME_PREFIX")]:al["".concat(e,"_DATE_NAME_PREFIX")]},Ae=function(e){var t,n,a=null!==(t=null==e?void 0:e.referrerId)&&void 0!==t?t:"",r=null!==(n=null==e?void 0:e.linkName)&&void 0!==n?n:"";a&&r&&o(a,r)},Fe=function(){return Ae(V)},Oe=function(){var e;if(f&&I&&(null==h||null===(e=h.journeyCriteria)||void 0===e?void 0:e[0])){var t=h.journeyCriteria[0];I({name:"origin_select",value:t.origin}),I({name:"destination_select",value:t.destination})}be&&Te&&be(Te),null==v||v(),Ae(s)},ke=ve(a.useState(void 0),2),Ge=ke[0],Re=ke[1],Le=ve(a.useState(void 0),2),Pe=Le[0],Me=Le[1],Ne=ve((0,A._)(Kr,{onCompleted:function(e){var t,n,a,r=null!==(a=null==e||null===(n=e.searchFormPriceInsights)||void 0===n||null===(t=n.dailyPrice)||void 0===t?void 0:t.days)&&void 0!==a?a:[];if(1===(null==Te?void 0:Te.bucket)){var l,i,o,c,s,d,u,m=r.length>0?Aa(r):void 0;Re({days:m,explainabilityText:(null==e||null===(i=e.searchFormPriceInsights)||void 0===i||null===(l=i.dailyPrice)||void 0===l?void 0:l.explainabilityText)&&r.length>0?null==e||null===(c=e.searchFormPriceInsights)||void 0===c||null===(o=c.dailyPrice)||void 0===o?void 0:o.explainabilityText:void 0,analytics:null!==(u=null==e||null===(d=e.searchFormPriceInsights)||void 0===d||null===(s=d.dailyPrice)||void 0===s?void 0:s.analytics)&&void 0!==u?u:void 0})}}}),1)[0];a.useEffect((function(){Me(null==Ge?void 0:Ge.days)}),[Ge]);var xe=function(e){Ne({variables:e})},Be=1===(null==Te?void 0:Te.bucket)&&Pe?Ra:void 0,we=ve(a.useState(!1),2),We=we[0],Ue=we[1],He=!!b&&!!xe&&We;a.useEffect((function(){b?(Me(void 0),Ue(!0)):b||Re(void 0)}),[b]),a.useEffect((function(){if(He){var e=Fa(new Date),t=Fa(new Date((new Date).getFullYear(),(new Date).getMonth()+3));if(e&&t&&1===(null==fe?void 0:fe.bucket))xe({context:$,criteria:{checkInDate:e,checkOutDate:t,gaiaId:b}});he&&fe&&Ce&&he(fe),Ue(!1)}}),[We]);var Ve=ye({onClearDates:function(){return Ae(W)},onSelectEndDate:function(){return Ae(U)},onSelectStartDate:function(){return Ae(H)},onClose:Fe,onOpen:Oe,onChangeStartDate:function(e){de((function(t){return _e(ye({},t),{startDate:null!=e?e:t.startDate})})),E&&E(e,!0)},onChangeEndDate:function(e){de((function(t){return _||Q({type:"UPDATE_DATES",end:e,start:t.startDate}),E&&E(e,!1),_e(ye({},t),{endDate:null!=e?e:t.endDate})}))},onNextCalendarClick:function(){Ae(z)},onPreviousCalendarClick:function(){Ae(Y)}},_?{}:{startDateString:Z,endDateString:ee}),ze=_e(ye({},e,c,Ve),{typename:G,startDate:re,endDate:le,validDaysUpperBoundInclusive:null!=y?y:P,enableSameDayDateRange:M,clearButtonText:null!=N?N:"",inputLabel1:null!=p?p:B,inputLabel2:null!=p?p:w,allowClearDates:null!=x&&x,dayTemplateComponent:Be,priceInsightsDayData:Pe,dailyPriceInsightsConfig:_e(ye({},C),{dailyPriceInsightsEnabled:1===Te.bucket}),dailyPriceAnalytics:null==Ge?void 0:Ge.analytics,showStartDateEndDateHiddenInputs:function(e){return Ee(e)},dailyPriceInsightsExplainabilityText:null==Ge?void 0:Ge.explainabilityText});a.useEffect((function(){_||k||de((function(e){return ye({},e,Z?{startDate:Z}:{},ee?{endDate:ee}:{})}))}),[de,Z,ee,_]),a.useEffect((function(){k&&de((function(e){return ye({},e,ne?{startDate:ne}:{},ae?{endDate:ae}:{})}))}),[ne,ae,k]);var Ye,qe,je=a.useCallback((function(){return ka(g,h,!0)}),[g,h])(),$e={submitButtonLabel:j,initialStartDate:ie,initialEndDate:oe,dateLabel:null!=p?p:B,dialogId:D,onOpen:Oe,onClose:Fe,onDateChange:function(e,t){de({startDate:e,endDate:t})}};return a.createElement(a.Fragment,null,f&&g&&je?a.createElement(O.D,{lobName:g,queryInputs:je,priceCalendarPassthroughProps:$e}):a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Zr,_e(ye({},ze),{autoOpen:!1}))),a.createElement(d.rw,null,a.createElement(Zr,_e(ye({},ze),{popoverWidth:T})))),Se&&a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden","data-stid":Ie("START"),name:"".concat(Ie("START"),"-").concat(u),value:null!==(Ye=se.startDate)&&void 0!==Ye?Ye:""}),a.createElement("input",{type:"hidden","data-stid":Ie("END"),name:"".concat(Ie("END"),"-").concat(u),value:null!==(qe=se.endDate)&&void 0!==qe?qe:""})))};rl.displayName=nl,rl.fragment=el;var ll="EGDSSingleDatePicker",il="".concat(ll,"-Date"),ol=(0,u.J1)(Je()),cl=function(e){var t,n=e.analytics,r=e.data,l=e.egdsElementId,o=e.label,c=e.setFieldRefByTypename,s=e.errorMessage,d=e.index,u=(e.showCalendar,e.toggleCalendar,e.autoOpen),p=e.dialogId,y=e.skipReflection,_=e.updatePlaybackDates,v=e.totalLegs,E=e.input1Stid,g=e.lobName,f=e.enablePriceCalendar,h=e.priceCalendarInputs,D=e.onLocationChange,T=(0,S.KY)(),C=r.__typename,I=r.buttonText,A=r.selectedStartDate,F=r.validDaysLowerBoundInclusive,k=r.validDaysUpperBoundInclusive,G=r.startDateButtonAnalytics,R=r.submitButtonAnalytics,L=(0,i.kW)(),N=L.state,B=(L.dispatch,null!==(t=N.dates)&&void 0!==t?t:{}),w=B.start,W=(B.end,ve(a.useState(null!=u&&u),1)[0]),U=new Date;(new Date).setDate(U.getDate()+1);var H=ve(a.useState(function(){if(A)return Sa(_a(A));if(f&&"flights"===g){var e=new Date;return e.setDate(e.getDate()+14),Sa(e)}return""}()),2),V=H[0],z=H[1],Y=ve(a.useState(Sa(U)),2),q=(Y[0],Y[1]),j=ve(a.useState(330),2),$=j[0],K=j[1],J=(0,b.u)("".concat(C),(function(e){return e})),Q=ve(a.useState(!1),2),X=Q[0],Z=Q[1],ee=ve(a.useState(!1),2),te=ee[0],ne=ee[1];a.useEffect((function(){if(!y&&w?z(w):A&&z(Sa(_a(A))),F&&q(Sa(_a(F))),k){var e=_a(k).getTime()-(new Date).getTime();K(ya(e))}}),[Sa,A,F,k,w]),a.useEffect((function(){if(X){Z(!1);var e=V?"".concat(V):"";Na(e,J)}}),[X]);var ae="".concat(l).concat(Number.isInteger(d)?"-".concat(d):""),re=(0,m.R)().context,le=a.useRef(null),ie=function(e){var t,n,a=null!==(t=null==e?void 0:e.referrerId)&&void 0!==t?t:"",r=null!==(n=null==e?void 0:e.linkName)&&void 0!==n?n:"";a&&r&&T(a,r)};a.useEffect((function(){c("EGDSSearchFormDatePickerField",le)}),[]);var oe=function(e){Z(!1),ne(!0),z(e),_&&v&&(0===d||d===v-1)&&_(e,0===d),ie(G)},ce=a.useCallback((function(){return ka(g,h,!1)}),[g,h]),se=function(){var e;if(f&&D&&(null==h||null===(e=h.journeyCriteria)||void 0===e?void 0:e[0])){var t=h.journeyCriteria[0];D({name:"origin_select",value:t.origin}),D({name:"destination_select",value:t.destination})}ie(n)},de=function(){ie(R),te&&(Z(!0),ne(!1))};(0,M._H)(x.Jm,x.ht,{onSuccess:function(){var e;null===(e=le.current)||void 0===e||e.click()}});var ue={isSingleDateSelection:!0,input1Stid:null!=E?E:"default",startDate:V,submitButtonLabel:I,inputLabel1:null!=o?o:void 0,maxDate:pa($),autoCloseOnSelection:!1,allowClearDates:!1,dateFormatOptions:{month:"short",day:"numeric"},dayNameLength:"narrow",initialOpenState:W,locale:ba(re),handleShape:"circle",invalidInput1:s,dialogId:p,startDateRef:le,onDateRangeChange:oe,onOpen:se,onClose:de,endDate:null},me=ce(),pe={submitButtonLabel:I,initialStartDate:V,dateLabel:null!=o?o:void 0,dialogId:p,onOpen:se,onClose:de,onDateChange:oe};return a.createElement(a.Fragment,null,f&&g&&me?a.createElement(O.D,{lobName:g,queryInputs:me,priceCalendarPassthroughProps:pe}):a.createElement(P.E,ye({},ue)),a.createElement("input",{type:"hidden","data-stid":il,name:"".concat(il,"-").concat(ae),value:V}))};cl.displayName=ll,cl.fragment=ol;var sl=(0,u.J1)(Qe(),rl.fragment,cl.fragment),dl=function(e){var t=e.setFieldRefByTypename,n=e.fieldError,r=e.data,l=e.dialogId,i=e.validDaysUpperBoundInclusive,o=e.overrideErrorMessage,c=e.priceCalendarProps,s=e.popoverWidth,d=r.action,u=r.errorMessage,m=r.validations,p=null!=c?c:{},y=p.lobName,_=p.enablePriceCalendar,v=p.priceCalendarInputs,S=p.onLocationChange,E=la();if("EGDSOpenDatePickerAction"!==(null==d?void 0:d.__typename))return null;var g=n?function(e){var t,n,a,r=e.validations;return(null==r?void 0:r.sameDate)||(null==r?void 0:r.endDateBeforeStartDate)||(null==r?void 0:r.dateOutsideTripRange)?null!==(n=null!=o?o:u)&&void 0!==n?n:"":(null==r?void 0:r.maxDate)&&m&&"EGDSMaxLengthInputValidation"===m[0].__typename?null!==(a=m[0].errorMessage)&&void 0!==a?a:"":(null==r?void 0:r.emptyDate)&&m&&"EGDSRequiredInputValidation"===(null===(t=m[1])||void 0===t?void 0:t.__typename)&&null!=u?u:""}(n):"",f=_e(ye({},e),{analytics:d.analytics,setFieldRefByTypename:t,errorMessage:g,dialogId:l||E});switch(d.datePicker.__typename){case"EGDSDateRangePicker":return a.createElement(rl,_e(ye({},r,f),{data:d.datePicker,validDaysUpperBoundInclusive:i,lobName:y,enablePriceCalendar:_,priceCalendarInputs:v,onLocationChange:S,popoverWidth:s}));case"EGDSSingleDatePicker":return a.createElement(cl,_e(ye({},r,f),{data:d.datePicker,lobName:y,enablePriceCalendar:_,priceCalendarInputs:v,onLocationChange:S}));default:return null}};dl.displayName="EGDSSearchFormDatePickerField",dl.fragment=sl;var ul=(0,u.J1)(Xe(),ea),ml=function(e){var t=e.data,n=e.onClick,r=e.size,l=e.isFullWidth,i=void 0===l||l,o=e.floating,c=void 0!==o&&o,s=t.egdsElementId,d=t.primary,u=t.analytics,m=null!=s?s:"search_form_primary_button",p=(0,S.KY)(),y={onClick:a.useCallback((function(){if(u){var e=u.referrerId,t=u.linkName;p(e,t)}n()}),[u,n,p]),id:m,isFullWidth:i,size:r||I.E.LARGE};return c?a.createElement(K.E,{type:"fade-button"},a.createElement($.E,ye({},y),d)):a.createElement(C.E,ye({},y),d)};ml.displayName="SearchToolsEGDSPrimaryButton",ml.fragment=ul;var pl=(0,u.J1)(Ze(),ea),yl=function(e){var t=e.onClick,n=e.isFullWidth,r=e.size,l=e.data,i=e.isDisabled,o=e.domRef,c=e.id,s=l.egdsElementId,d=l.primary,u=l.disabled,m=l.accessibility,p=l.analytics,y=l.icon,v=c||(s||"search_form_tertiary_button"),E=(0,S.KY)(),g=i||u,f=a.useCallback((function(){if(p){var e=p.referrerId,n=p.linkName;E(e,n)}t()}),[p,t,E]);return a.createElement(W.E,{"aria-label":null!=m?m:"",id:v,"data-test-id":v,onClick:f,disabled:g,isFullWidth:n,size:r,domRef:o},y&&a.createElement(_.a,{name:y.id}),d)};yl.displayName="SearchToolsEGDSTertiaryButton",yl.fragment=pl;var _l=(0,u.J1)(et()),vl=function(e){var t=e.errorCount,n=void 0===t?0:t,r=e.inputErrorRef,l=e.data,i=(0,S.KY)(),o=l.body,c=l.goToErrorLinkText,s=l.goToFirstErrorLinkText,d=l.heading,u=l.analytics,m=l.impressionAnalytics,p=l.headingTemplate,y=0===n,_=1===n,v=a.createRef();if(a.useEffect((function(){var e;(0,z.liveAnnounce)(h,z.Level.ASSERTIVE),null===(e=v.current)||void 0===e||e.focus()}),[]),y)return null;var E,g,f=_?c:s,h=d.trim()?d:function(e){if("EGDSCardinalLocalizedText"===(null==p?void 0:p.__typename)){var t=p.templates.slice(1,3),n=_?"":p.models[0].key;return ia(_?t[0].template:t[1].template,n,e.toString())}return""}(n);return a.createElement(S.ee,{referrerId:null!==(E=null==m?void 0:m.referrerId)&&void 0!==E?E:"",linkName:null!==(g=null==m?void 0:m.linkName)&&void 0!==g?g:""},a.createElement(J.E,{theme:"error"},a.createElement(G.E,{size:7,"aria-level":3},h),o&&a.createElement(G.c,{size:300},o.text),f&&a.createElement(Q.E,{domRef:v},a.createElement("button",{type:"button",onClick:function(){var e;if(null==r||null===(e=r.current)||void 0===e||e.focus(),u){var t=u.referrerId,n=u.linkName,a="".concat(t,_?".One.Error":".Many.Errors");i(a,n)}}},f))))};vl.displayName="SearchToolsEGDSErrorSummary",vl.fragment=_l;var Sl=(0,u.J1)(tt()),El=function(e){var t=e.data,n=t.label,r=t.value,l=t.egdsElementId,i="".concat(l,"-").concat(r);return a.createElement("option",{key:i,value:r},n)};El.displayName="EGDSBasicOption",El.fragment=Sl;var gl=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},fl=function(e,t,n){if("EGDSTravelerChildren"===n.children.__typename){var a=n.children,r=_e(ye({},a),{count:_e(ye({},a.count),{value:e}),ages:t.length?t.map((function(e){return _e(ye({},a.ageTemplate),{value:e})})):[]});return ye({},r)}return ye({},n.children)},hl=function(e,t,n,a){if(!n)return null;var r,l=t.reduce((function(e,t){var n,a;return e+t.adults.value+t.children.count.value+(null!==(a=null===(n=t.infants)||void 0===n?void 0:n.count.value)&&void 0!==a?a:0)}),0),i="lap"===a?t.reduce((function(e,t){var n,a;return e+(null!==(a=null===(n=t.infants)||void 0===n?void 0:n.count.value)&&void 0!==a?a:0)}),0):0,o="seat"===a?t.reduce((function(e,t){var n,a;return e+(null!==(a=null===(n=t.infants)||void 0===n?void 0:n.count.value)&&void 0!==a?a:0)}),0):0,c=t.reduce((function(e,t){var n;return e+(null!==(n=t.adults.value)&&void 0!==n?n:0)}),0),s=t.reduce((function(e,t){var n;return e+(null!==(n=("EGDSTravelerChildren"===t.children.__typename?t.children.ages:[]).filter((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12})).length)&&void 0!==n?n:0)}),0),d=function(e){return e.reduce((function(e,t){var n,a,r="EGDSTravelerChildren"===t.children.__typename?t.children.ages:[],l="EGDSTravelerInfant"===(null===(n=t.infants)||void 0===n?void 0:n.__typename)?t.infants.ages:[];return e+r.filter(gl).length+(null!==(a=l.filter(gl).length)&&void 0!==a?a:0)}),0)}(t),u=s+c<i,m=n.map((function(e){if("EGDSTravelersInputValidation"===e.__typename){var t,n,a=e.type,r=e.errorMessage,i=e.maxCount,m=e.errorSummary,p=e.infantsInSeatPerAdult;return null!==(n=(pe(t={},"MAX_TRAVELERS",i&&l>i?{message:r,type:a,displayConfirmation:!0,errorCount:1,errorSummary:_e(ye({},m),{heading:r})}:null),pe(t,"CHILD_AGE_REQUIRED",d>0?{message:r,type:a,displayConfirmation:!1,errorCount:d,errorSummary:m}:null),pe(t,"MANY_INFANT_ON_LAP",u?{message:r,type:a,displayConfirmation:!0,errorCount:1,errorSummary:m}:null),pe(t,"MANY_INFANT_IN_SEAT",p&&s+c<o/p?{message:r,type:a,displayConfirmation:!0,errorCount:1,errorSummary:m}:null),t)[a])&&void 0!==n?n:null}return null})).filter((function(e){return null!==e}));return m.find((function(t){return e&&e.type===t.type}))&&(null==e?void 0:e.displayConfirmation)?_e(ye({},e),{errorCount:"CHILD_AGE_REQUIRED"===e.type?d:1}):null!==(r=m[0])&&void 0!==r?r:null},Dl=function(e,t){switch(t.type){case"ADD_ROOM":var n=e.rooms[0],a=n.adults,r=n.label,l=n.removeRoomButton,i=n.removeRoomAnnouncement,o=n.children,c=n.infants;if("EGDSTravelerStepInput"===a.__typename&&"EGDSTravelerChildren"===o.__typename&&o.ages){var s,d,u=_e(ye({},o.count),{value:0}),m={__typename:"EGDSTravelerSelectorRoom",children:_e(ye({},o),{count:u,ages:[]}),adults:_e(ye({},a),{value:1}),label:r,removeRoomButton:l,removeRoomAnnouncement:i,infants:"EGDSTravelerInfant"===(null==c?void 0:c.__typename)?_e(ye({},c),{count:_e(ye({},c.count),{value:0}),ages:[]}):null},p=e.rooms.concat(m),y=hl(e.error?e.error:null,p,null!==(d=e.validations)&&void 0!==d?d:[],null===(s=e.infantSeatSelection)||void 0===s?void 0:s.value);return _e(ye({},e),{rooms:p,error:y})}return _e(ye({},e),{rooms:[]});case"REMOVE_ROOM":var _,v,S=t.roomIndex,E=e.rooms.filter((function(e,t){return t!==S})),g=hl(e.error?e.error:null,E,null!==(v=e.validations)&&void 0!==v?v:[],null===(_=e.infantSeatSelection)||void 0===_?void 0:_.value);return _e(ye({},e),{rooms:E,error:g});case"RESET_STATE":return t.state;case"RESET_ROOMS":return _e(ye({},e),{rooms:t.state.rooms});case"UPDATE_INFANT_SEAT_SELECTION":var f,h=t.value,D=hl(e.error?e.error:null,e.rooms,null!==(f=e.validations)&&void 0!==f?f:[],h);return _e(ye({},e),{infantSeatSelection:{value:t.value},error:D});case"UPDATE_TRAVELERS_COUNT":var T,b,C=t.roomIndex,I=t.count,A=t.travelersType,F=e.rooms.map((function(e,t){if(t===C)switch(A){case"adults":return _e(ye({},e),{adults:_e(ye({},e.adults),{value:I})});case"children":if("EGDSTravelerChildren"===e.children.__typename){var n,a,r=e.children,l=I>r.count.value,i="EGDSTravelerChildAgeSelect"===r.ageTemplate.__typename?_e(ye({},r.ageTemplate),{value:null}):null,o=l?null===(n=r.ages)||void 0===n?void 0:n.concat(null!=i?i:r.ageTemplate):null===(a=r.ages)||void 0===a?void 0:a.slice(0,-1),c=_e(ye({},r),{count:_e(ye({},r.count),{value:I}),ages:o});return _e(ye({},e),{children:c})}return e;case"infants":var s;if("EGDSTravelerInfant"===(null===(s=e.infants)||void 0===s?void 0:s.__typename)){var d=e.infants,u=I>d.count.value?d.ages.concat(d.ageTemplate):d.ages.slice(0,-1),m=_e(ye({},d),{count:_e(ye({},d.count),{value:I}),ages:u});return _e(ye({},e),{infants:m})}return e;default:return e}return e})),O=hl(e.error?e.error:null,F,null!==(b=e.validations)&&void 0!==b?b:[],null===(T=e.infantSeatSelection)||void 0===T?void 0:T.value);return _e(ye({},e),{rooms:F,error:O});case"UPDATE_CHILD_AGE":var k,G,R=t.roomIndex,L=t.childIndex,P=t.childAge,M=t.isInfant,N=e.rooms.map((function(e,t){var n;return t!==R||"EGDSTravelerChildren"!==e.children.__typename||M?t===R&&"EGDSTravelerInfant"===(null===(n=e.infants)||void 0===n?void 0:n.__typename)&&M?_e(ye({},e),{infants:_e(ye({},e.infants),{ages:e.infants.ages.map((function(e,t){return"EGDSTravelerChildAgeSelect"===e.__typename&&L===t?_e(ye({},e),{value:P}):ye({},e)}))})}):e:_e(ye({},e),{children:_e(ye({},e.children),{ages:e.children.ages.map((function(e,t){return"EGDSTravelerChildAgeSelect"===e.__typename&&L===t?_e(ye({},e),{value:P}):ye({},e)}))})})})),x=hl(e.error?e.error:null,N,null!==(G=e.validations)&&void 0!==G?G:[],null===(k=e.infantSeatSelection)||void 0===k?void 0:k.value);return _e(ye({},e),{rooms:N,error:x});case"SHOW_ERROR":if(e.error){var B=e.error,w={message:B.message,type:B.type,displayConfirmation:!0,errorCount:B.errorCount,errorSummary:B.errorSummary};return _e(ye({},e),{error:w})}return ye({},e);case"SET_VALIDATIONS":return _e(ye({},e),{validations:t.validations});case"UPDATE_TRAVELERS_BULK":var W=t.adultTravelerCounts,U=t.childTravelerCounts,H=t.childrenAges;if(null==W?void 0:W.length){var V=W.map((function(t,n){return _e(ye({},e.rooms[n]),{adults:_e(ye({},e.rooms[n].adults),{value:t}),children:(null==H?void 0:H.length)?fl((null==U?void 0:U.length)?U[n]:0,H[n],e.rooms[n]):_e(ye({},e.rooms[n].children),{count:_e(ye({},e.rooms[n].children.count),{value:0}),ages:[]})})}));return _e(ye({},e),{rooms:V})}return ye({},e);default:return e}},Tl=a.createContext({state:{}}),bl=function(e){var t=e.children,n=e.rooms,r=e.validations,l=e.skipQuery,i=e.infantSeatSelection,o=ve(a.useReducer(Dl,{rooms:n,validations:r,infantSeatSelection:i?{value:i.selected}:null}),2),c=o[0],s=o[1],d=ve(a.useState(c),2),u=d[0],m=d[1];a.useEffect((function(){l||s({type:"RESET_STATE",state:{rooms:n,validations:r,infantSeatSelection:i?{value:i.selected}:null}})}),[l,i,n]),a.useEffect((function(){c!==u&&m(c)}),[c,u]),a.useEffect((function(){s({type:"SET_VALIDATIONS",validations:r})}),[r]);var p={state:u,dispatch:s};return a.createElement(Tl.Provider,{value:p},t)},Cl=function(){return a.useContext(Tl)},Il=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},Al=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},Fl=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},Ol=function(e,t,n){var a,r,l,i,o,c;if(!n)return null;var s,d,u,m,p,y=null!==(c=null===(a=t.children)||void 0===a?void 0:a.count.value)&&void 0!==c?c:0,_=null!==(s=null===(r=t.infantsInSeat)||void 0===r?void 0:r.count.value)&&void 0!==s?s:0,v=null!==(d=null===(l=t.infantsOnLap)||void 0===l?void 0:l.count.value)&&void 0!==d?d:0,S=null!==(u=t.adults.value)&&void 0!==u?u:0,E=S+y+_+v,g="EGDSTravelerChildren"===(null==(m=t.children)?void 0:m.__typename)?m.ages.filter(Il).length:0,f=function(e){return"EGDSTravelerInfant"===(null==e?void 0:e.__typename)?null==e?void 0:e.ages.filter(Al).length:0}(t.infantsInSeat),h=g+f+("EGDSTravelerInfant"===(null==(p=t.infantsOnLap)?void 0:p.__typename)?null==p?void 0:p.ages.filter(Fl).length:0),D="EGDSTravelerChildren"===(null===(i=t.children)||void 0===i?void 0:i.__typename)?null===(o=t.children)||void 0===o?void 0:o.ages.filter((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12})).length:0,T=D+S<v,b=n.map((function(e){if("EGDSTravelersInputValidation"===e.__typename){var t,n=e.type,a=e.errorMessage,r=e.maxCount,l=e.errorSummary,i=e.infantsInSeatPerAdult;return(pe(t={},"MAX_TRAVELERS",r?E>r&&{message:a,type:n,displayConfirmation:!0,errorCount:1,errorSummary:l}:null),pe(t,"CHILD_AGE_REQUIRED",h>0?{message:a,type:n,displayConfirmation:!1,errorCount:h,errorSummary:l}:null),pe(t,"MANY_INFANT_ON_LAP",T?{message:a,type:n,displayConfirmation:!0,errorCount:1,errorSummary:l}:null),pe(t,"MANY_INFANT_IN_SEAT",i&&D+S<_/i?{message:a,type:n,displayConfirmation:!0,errorCount:1,errorSummary:l}:null),t)[n]}return null})).filter((function(e){return!!e}));return b.find((function(t){return e&&e.type===(null==t?void 0:t.type)}))&&(null==e?void 0:e.displayConfirmation)?_e(ye({},e),{errorCount:"CHILD_AGE_REQUIRED"===e.type?h:1}):b?b[0]:null},kl=function(e,t){switch(t.type){case"RESET_STATE":return t.state;case"UPDATE_TRAVELERS_COUNT":var n,a=function(e,t){switch(t.travelersType){case"adults":return _e(ye({},e),{adults:_e(ye({},e.adults),{value:t.count})});case"children":var n,a;if("EGDSTravelerChildren"===(null===(n=e.children)||void 0===n?void 0:n.__typename)){var r,l,i=e.children,o=t.count>i.count.value,c="EGDSTravelerChildAgeSelect"===i.ageTemplate.__typename?_e(ye({},i.ageTemplate),{value:null}):null,s=o?null===(r=i.ages)||void 0===r?void 0:r.concat(null!=c?c:i.ageTemplate):null===(l=i.ages)||void 0===l?void 0:l.slice(0,-1),d=_e(ye({},i),{count:_e(ye({},i.count),{value:t.count}),ages:s});return _e(ye({},e),{children:d})}if("EGDSBasicTraveler"===(null===(a=e.children)||void 0===a?void 0:a.__typename)){var u=e.children;return _e(ye({},e),{children:_e(ye({},u),{count:_e(ye({},u.count),{value:t.count})})})}return e;case"infants_in_seat":var m,p,y;if("EGDSTravelerInfant"===(null===(m=e.infantsInSeat)||void 0===m?void 0:m.__typename)&&"EGDSTravelerInfant"===(null===(p=e.infantsOnLap)||void 0===p?void 0:p.__typename)){var _,v,S=e.infantsInSeat,E=e.infantsOnLap,g=t.count>S.count.value?null===(_=S.ages)||void 0===_?void 0:_.concat(S.ageTemplate):null===(v=S.ages)||void 0===v?void 0:v.slice(0,-1),f=_e(ye({},S),{count:_e(ye({},S.count),{value:t.count}),ages:g}),h=f.count.value>0?0:f.count.max,D=_e(ye({},E),{count:_e(ye({},null==E?void 0:E.count),{max:h})});return _e(ye({},e),{infantsInSeat:f,infantsOnLap:D})}if("EGDSBasicTraveler"===(null===(y=e.infantsInSeat)||void 0===y?void 0:y.__typename)){var T=e.infantsInSeat;return _e(ye({},e),{infantsInSeat:_e(ye({},T),{count:_e(ye({},T.count),{value:t.count})})})}return e;case"infants_on_lap":var b,C,I;if("EGDSTravelerInfant"===(null===(b=e.infantsOnLap)||void 0===b?void 0:b.__typename)&&"EGDSTravelerInfant"===(null===(C=e.infantsInSeat)||void 0===C?void 0:C.__typename)){var A,F,O=e.infantsOnLap,k=e.infantsInSeat,G=t.count>O.count.value?null===(A=O.ages)||void 0===A?void 0:A.concat(O.ageTemplate):null===(F=O.ages)||void 0===F?void 0:F.slice(0,-1),R=_e(ye({},O),{count:_e(ye({},O.count),{value:t.count}),ages:G}),L=R.count.value>0?0:R.count.max,P=_e(ye({},k),{count:_e(ye({},null==k?void 0:k.count),{max:L})});return _e(ye({},e),{infantsOnLap:R,infantsInSeat:P})}if("EGDSBasicTraveler"===(null===(I=e.infantsOnLap)||void 0===I?void 0:I.__typename)){var M=e.infantsOnLap;return _e(ye({},e),{infantsOnLap:_e(ye({},M),{count:_e(ye({},M.count),{value:t.count})})})}return e;default:return e}}(e.travelers,t),r=Ol(e.error?e.error:null,a,null!==(n=e.validations)&&void 0!==n?n:[]);return _e(ye({},e),{travelers:a,error:r});case"UPDATE_CHILD_AGE":var l,i=function(e,t){var n,a,r;return"EGDSTravelerChildren"===(null===(n=e.children)||void 0===n?void 0:n.__typename)&&""===t.infantType?_e(ye({},e),{children:_e(ye({},e.children),{ages:e.children.ages.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&t.childIndex===n?_e(ye({},e),{value:t.childAge}):ye({},e)}))})}):"EGDSTravelerInfant"===(null===(a=e.infantsInSeat)||void 0===a?void 0:a.__typename)&&"infants_in_seat"===t.infantType?_e(ye({},e),{infantsInSeat:_e(ye({},e.infantsInSeat),{ages:e.infantsInSeat.ages.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&t.childIndex===n?_e(ye({},e),{value:t.childAge}):ye({},e)}))})}):"EGDSTravelerInfant"===(null===(r=e.infantsOnLap)||void 0===r?void 0:r.__typename)&&"infants_on_lap"===t.infantType?_e(ye({},e),{infantsOnLap:_e(ye({},e.infantsOnLap),{ages:e.infantsOnLap.ages.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&t.childIndex===n?_e(ye({},e),{value:t.childAge}):ye({},e)}))})}):e}(e.travelers,t),o=Ol(e.error?e.error:null,i,null!==(l=e.validations)&&void 0!==l?l:[]);return _e(ye({},e),{travelers:i,error:o});case"UPDATE_PETS_FILTER":var c,s=function(e,t){var n;if("EGDSBasicCheckBox"===(null===(n=e.pets)||void 0===n?void 0:n.__typename)){var a=t.checked?"CHECKED":"UNCHECKED";return _e(ye({},e),{pets:_e(ye({},e.pets),{state:a})})}return e}(e.travelers,t),d=Ol(e.error?e.error:null,s,null!==(c=e.validations)&&void 0!==c?c:[]);return _e(ye({},e),{travelers:s,error:d});case"SHOW_ERROR":if(e.error){var u=e.error,m={message:u.message,type:u.type,displayConfirmation:!0,errorCount:u.errorCount,errorSummary:u.errorSummary};return _e(ye({},e),{error:m})}return ye({},e);case"UPDATE_TRAVELERS_BULK":var p,y=t.adultTravelerCounts,_=t.childTravelerCounts,v=t.childrenAges,S=t.petCounts,E=function(e,t,n,a){var r;if("EGDSTravelerChildren"===(null===(r=a.children)||void 0===r?void 0:r.__typename)){var l=a.children;return _e(ye({},a),{adults:_e(ye({},a.adults),{value:e}),children:_e(ye({},a.children),{count:_e(ye({},a.children.count),{value:t}),ages:n.length?n.map((function(e){return _e(ye({},null==l?void 0:l.ageTemplate),{value:e})})):[]})})}return a}(y,_,v,e.travelers),g=function(e,t){var n;if("EGDSBasicCheckBox"===(null===(n=e.pets)||void 0===n?void 0:n.__typename)){var a=t>0?"CHECKED":"UNCHECKED";return _e(ye({},e),{pets:_e(ye({},e.pets),{state:a})})}return e}(E,S),f=Ol(e.error?e.error:null,E,null!==(p=e.validations)&&void 0!==p?p:[]);return _e(ye({},e),{travelers:g,error:f});default:return e}},Gl=a.createContext({state:{}}),Rl=function(e){var t=e.children,n=e.travelers,r=e.validations,l=e.skipQuery,i=ve(a.useReducer(kl,{travelers:n,validations:r}),2),o=i[0],c=i[1];a.useEffect((function(){l||c({type:"RESET_STATE",state:{travelers:n,validations:r}})}),[l]);var s=a.useMemo((function(){return{state:o,dispatch:c}}),[o,c]);return a.createElement(Gl.Provider,{value:s},t)},Ll=function(){return a.useContext(Gl)},Pl=(0,u.J1)(nt(),El.fragment),Ml=function(e){var t=e.childIndex,n=e.roomIndex,r=e.isInfant,l=e.infantType,i=e.childAgeRef,o=e.data,c=Cl(),s=Ll(),d=void 0!==n,u=o.labelTemplate,m=o.options,p=o.egdsElementId,y=o.value,_=(0,S.KY)(),v="child-".concat(p).concat(d?"-".concat(n):"","-").concat(t),E="age-".concat(p).concat(d?"-".concat(n):"","-").concat(t),g=t+1,f=null!=y?y:"",h=Number.isInteger(f),D=(d?c.state:s.state).error,T="CHILD_AGE_REQUIRED"===(null==D?void 0:D.type)&&D.displayConfirmation,b=D&&"CHILD_AGE_REQUIRED"===D.type&&!h&&T?D.message:"",C="EGDSBasicLocalizedText"===u.__typename&&u.models.length>=1?ia(u.template,u.models[0].key,g.toString()):"";return a.createElement(X.i,{domRef:i,invalid:b,label:C,"aria-label":C,id:E,name:v,onChange:function(e){var a=parseInt(e.target.value,10),i=m.find((function(t){return"EGDSBasicOption"===t.__typename&&t.value===e.target.value}));if(i&&"EGDSBasicOption"===(null==i?void 0:i.__typename)&&(null==i?void 0:i.changeAnalytics)){var o=i.changeAnalytics,u=o.referrerId,p=o.linkName;_(u,p)}Number.isNaN(a)||(d?c.dispatch({type:"UPDATE_CHILD_AGE",roomIndex:n,childIndex:t,childAge:a,isInfant:r,infantType:l}):s.dispatch({type:"UPDATE_CHILD_AGE",childIndex:t,childAge:a,infantType:l}))},value:f,emptyState:"string"==typeof f,required:!0},m.map((function(e){return"EGDSBasicOption"===e.__typename&&a.createElement(El,{key:"".concat(v,"-").concat(e.value),data:e})})))};Ml.displayName="EGDSTravelerChildAgeSelect",Ml.fragment=_e(ye({},Pl),{__typename:"EGDSTravelerChildAgeSelect"});var Nl=(0,u.J1)(at()),xl=(0,u.J1)(rt(),Nl),Bl=(0,u.J1)(lt(),Nl),wl=(0,u.J1)(it(),Nl),Wl=(0,u.J1)(ot(),xl,Bl,wl),Ul=(0,u.J1)(ct(),xl),Hl=function(e,t){if("EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)){var n=(t+1).toString();return ia(e.template,e.models[0].key,n)}return""},Vl=function(e){var t=e.roomIndex,n=e.travelersType,r=e.data,l=r.label,i=r.max,o=r.min,c=r.subLabel,s=r.value,d=Cl(),u=Ll(),m=(0,S.KY)(),p=void 0!==t,y="EGDSTravelerStepInput"===r.__typename&&(p?{incrementText:Hl(r.increaseTextTemplate,t),decrementText:Hl(r.decreaseTextTemplate,t)}:{incrementText:r.increaseText||"",decrementText:r.decreaseText||""}),_="EGDSTravelerStepInput"===r.__typename?"".concat(r.egdsElementId).concat(p?"-".concat(t):""):"";return a.createElement(Z.a,_e(ye({},y),{label:l,incrementId:"".concat(_,"-increase"),decrementId:"".concat(_,"-decrease"),min:null!=o?o:0,max:null!=i?i:0,onChange:function(e){var a=parseInt(e.target.value,10);if("EGDSTravelerStepInput"===r.__typename){var l=r.increaseAnalytics,i=r.decreaseAnalytics;a>s&&l.referrerId&&l.linkName?m(l.referrerId,r.increaseAnalytics.linkName):i.referrerId&&i.linkName&&m(i.referrerId,r.decreaseAnalytics.linkName)}Number.isNaN(a)||(p?d.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:n,roomIndex:t,count:a}):u.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:n,count:a}))},value:s,description:null!=c?c:"",id:_}))};Vl.displayName="EGDSTravelersStepInput",Vl.fragment=_e(ye({},Ul),{__typename:"EGDSTravelerStepInput"});var zl=(0,u.J1)(st(),Vl.fragment,Ml.fragment),Yl=function(e){var t,n=e.data,r=e.childAgeRef,i=e.roomIndex,o=e.travelersType,c=n.count,s=n.__typename,d="infants"===o||"infants_on_lap"===o||"infants_in_seat"===o,u=("EGDSTravelerInfant"!==n.__typename&&"EGDSTravelerChildren"!==n.__typename||!n.ages?[]:n.ages).findIndex((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value}));return a.createElement(a.Fragment,null,c&&"EGDSTravelerStepInput"===c.__typename&&a.createElement(Vl,{travelersType:o,roomIndex:i,data:c}),("EGDSTravelerChildren"===s||"EGDSTravelerInfant"===s)&&a.createElement(D.i,{wrap:"wrap"},null===(t=n.ages)||void 0===t?void 0:t.map((function(e,t){return"EGDSTravelerChildAgeSelect"===e.__typename&&a.createElement(a.Fragment,{key:t},a.createElement(l.b,{padding:{blockstart:"two",inlineend:"two"}},a.createElement(D.j,{minWidth:"full_width"},a.createElement("div",null,a.createElement(Ml,{key:t,childIndex:t,roomIndex:i,isInfant:d,infantType:d?o:"",data:e,childAgeRef:u===t?r:void 0})))))}))))};Yl.displayName="EGDSTravelersChildren",Yl.fragment=_e(ye({},zl),{__typename:"EGDSTravelerChildren"});var ql=function(e){var t=e.data,n=Ll(),r=n.state,l=n.dispatch,i=r.travelers.pets;if("EGDSBasicCheckBox"!==(null==i?void 0:i.__typename))return null;var o="CHECKED"===i.state;return a.createElement(gr,{data:t,checked:o,onChange:function(e){l({type:"UPDATE_PETS_FILTER",checked:e.currentTarget.checked})}})},jl=(0,u.J1)(dt(),gr.fragment,Yl.fragment,Vl.fragment),$l=function(e){var t=e.childAgeRef,n=e.infantsOnLapRef,r=e.infantsInSeatRef,i=e.isTravelersExpanded,o=e.data,c=o.adults,s=o.children,d=o.pets,u=o.infantsInSeat,m=o.infantsOnLap,p=a.useRef(null);return a.useEffect((function(){var e;i&&(null===(e=p.current)||void 0===e||e.focus())}),[i]),a.createElement(a.Fragment,null,"EGDSTravelerStepInput"===c.__typename&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement("span",{className:"is-visually-hidden",tabIndex:-1,ref:p},c.label),a.createElement(Vl,{travelersType:"adults",data:c}))),("EGDSTravelerChildren"===(null==s?void 0:s.__typename)||"EGDSBasicTraveler"===(null==s?void 0:s.__typename))&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Yl,{travelersType:"children",childAgeRef:t,data:s}))),("EGDSTravelerInfant"===(null==m?void 0:m.__typename)||"EGDSBasicTraveler"===(null==m?void 0:m.__typename))&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Yl,{travelersType:"infants_on_lap",childAgeRef:n,data:m}))),("EGDSTravelerInfant"===(null==u?void 0:u.__typename)||"EGDSBasicTraveler"===(null==u?void 0:u.__typename))&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Yl,{travelersType:"infants_in_seat",childAgeRef:r,data:u}))),"EGDSBasicCheckBox"===(null==d?void 0:d.__typename)&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(ql,{data:d}))))};$l.displayName="EGDSTravelers",$l.fragment=_e(ye({},jl),{__typename:"EGDSTravelers"});var Kl=(0,u.J1)(ut(),vl.fragment,ml.fragment,yl.fragment,$l.fragment),Jl=function(e){var t=e.data,n=e.onSubmit,r=e.isTravelersExpanded,i=t.doneButton,o=Ll().state,c=a.useRef(null),s=a.useRef(null),u=a.useRef(null),m=o.travelers,p=o.error,y=c.current?c:s.current?s:u;return a.createElement(D.i,{direction:"column"},(null==p?void 0:p.displayConfirmation)&&a.createElement(l.b,{padding:{blockstart:"four"}},a.createElement("div",null,a.createElement(vl,{data:p.errorSummary,inputErrorRef:y,errorCount:p.errorCount}))),a.createElement("section",null,a.createElement($l,{data:m,childAgeRef:c,infantsOnLapRef:s,infantsInSeatRef:u,isTravelersExpanded:r})),"UIPrimaryButton"===i.__typename&&a.createElement(d.LM,null,a.createElement(d.rw,null,a.createElement(l.b,{padding:{blockstart:"four",blockend:"three"}},a.createElement(D.i,{justifyContent:"end"},a.createElement(D.j,null,a.createElement(ml,{isFullWidth:!1,onClick:function(){n&&n("menu")},data:i,size:I.E.MEDIUM})))))))};Jl.displayName="EGDSBasicTravelerSelector",Jl.fragment=_e(ye({},Kl),{__typename:"EGDSBasicTravelerSelector"});var Ql,Xl=(0,u.J1)(mt()),Zl=(pe(Ql={},"EXTERNAL","_blank"),pe(Ql,"INTERNAL","_self"),Ql),ei=function(e){var t=e.data,n=t.action,r=n.analytics,l=n.resource,i=n.target,o=n.accessibility,c=t.text,s=t.icon,d=t.iconPosition,u=e.inline,m=void 0===u||u,p=(0,S.KY)(),y=a.useCallback((function(){p(r.referrerId,r.linkName)}),[p,r]);return a.createElement(Q.E,{onClickCapture:y,inline:m},a.createElement("a",{target:Zl[i],href:l.value},s&&"TRAILING"!==d&&a.createElement(_.a,{name:s.id}),c,s&&"TRAILING"===d&&a.createElement(_.a,{name:s.id}),o&&a.createElement(G.c,{className:"is-visually-hidden"},o)))};ei.fragment=Xl,ei.displayName="EGDSStandardLink";var ti=(0,u.J1)(pt(),ei.fragment),ni=function(e){var t,n=e.data,r=Cl(),i=r.state,o=r.dispatch,c=i.rooms.reduce((function(e,t){var n,a,r;return e+(null!==(r=null===(a=t.infants)||void 0===a||null===(n=a.count)||void 0===n?void 0:n.value)&&void 0!==r?r:0)}),0),s=null===(t=i.infantSeatSelection)||void 0===t?void 0:t.value;if("EGDSCardinalLocalizedText"!==n.labelTemplate.__typename||0===c||!s)return null;var d=n.labelTemplate,u=n.options,m=n.airlineAgeRule,p=n.groupName,y=1===c?d.text:d.templates[1].template;return a.createElement(l.b,{padding:{blockstart:"twelve"}},a.createElement(D.i,{direction:"column"},a.createElement(D.j,null,a.createElement(G.c,null,y)),a.createElement(D.j,null,a.createElement(ee.a,{group:p,selected:s,onChange:function(e){o({type:"UPDATE_INFANT_SEAT_SELECTION",value:e.currentTarget.value})},defaultChecked:!0},u.map((function(e,t){return a.createElement(l.b,{key:"radioInfant".concat(t+1),margin:0===t?{blockstart:"three"}:void 0},a.createElement("div",null,a.createElement(ee.E,{id:e.value,value:e.value},e.label)))})))),a.createElement(D.j,null,a.createElement(l.b,{padding:{blockstart:"two",blockend:"six"}},a.createElement("div",null,a.createElement(ei,{data:m}))))))};ni.displayName="EGDSTravelerInfantSeatSelect",ni.fragment=_e(ye({},ti),{__typename:"EGDSTravelerInfantSeatSelection"});var ai=(0,u.J1)(yt(),Vl.fragment,Yl.fragment,yl.fragment),ri=function(e){var t,n=e.roomIndex,r=e.childAgeRef,i=e.data,o=e.isTravelersExpanded,c=e.focusAddRoomButton,s=i.adults,d=i.children,u=i.infants,m=i.label,p=i.removeRoomButton,y=i.removeRoomAnnouncement,_=Cl(),v=_.state,S=_.dispatch,E=a.useRef(),g=a.useRef(v.rooms.length);a.useEffect((function(){var e;o&&0===n&&(null===(e=E.current)||void 0===e||e.focus())}),[o]),a.useEffect((function(){var e;o&&v.rooms.length>=g.current&&n===v.rooms.length-1&&(null===(e=E.current)||void 0===e||e.focus());g.current=v.rooms.length}),[v.rooms.length]);var f="EGDSTravelerChildren"===d.__typename&&(null===(t=d.ages)||void 0===t?void 0:t.some((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value}))),h=n+1;return a.createElement(a.Fragment,null,"EGDSBasicLocalizedText"===m.__typename&&1===m.models.length&&a.createElement(G.E,{size:7,domRef:E,tabIndex:-1},ia(m.template,m.models[0].key,h.toString())),"EGDSTravelerStepInput"===s.__typename&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Vl,{travelersType:"adults",roomIndex:n,data:s}))),"EGDSTravelerChildren"===d.__typename&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Yl,{travelersType:"children",roomIndex:n,childAgeRef:r,data:d}))),"EGDSTravelerInfant"===(null==u?void 0:u.__typename)&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Yl,{travelersType:"infants",roomIndex:n,childAgeRef:f?void 0:r,data:u}))),v.rooms.length>1&&p&&"UITertiaryButton"===p.__typename&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement(D.i,{justifyContent:"end"},a.createElement(D.j,null,a.createElement(yl,{id:"".concat(p.egdsElementId,"_").concat(n+1),onClick:function(){y&&(0,z.liveAnnounce)(y,z.Level.ASSERTIVE),c&&c(),S({type:"REMOVE_ROOM",roomIndex:n})},data:p})))))};ri.displayName="EGDSTravelerSelectorRoom",ri.fragment=_e(ye({},ai),{__typename:"EGDSTravelerSelectorRoom"});var li=(0,u.J1)(_t(),vl.fragment,ml.fragment,yl.fragment,ri.fragment,ni.fragment),ii=function(e){var t=e.data,n=e.onSubmit,r=e.isTravelersExpanded,i=e.groupStaysLink,o=t.addAnotherRoomButton,c=t.doneButton,s=t.maxRoomCount,u=t.infantSeatSelection,m=Cl(),p=m.state,y=m.dispatch,_=a.useRef(null),v=a.useRef(null),S=p.rooms,E=p.error,g=ve(a.useState(S),2)[1];if(a.useEffect((function(){g(S)}),[S]),S.length<1)return null;var f=function(){var e;null===(e=v.current)||void 0===e||e.focus()},h=_e(ye({},o),{disabled:!!s&&S.length>=s}),T=S.findIndex((function(e){var t,n,a,r,l;return"EGDSTravelerChildren"===e.children.__typename&&(null===(t=e.children)||void 0===t?void 0:t.ages)&&(null===(n=e.children)||void 0===n?void 0:n.ages.some((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value})))||null!==(l="EGDSTravelerInfant"===(null===(a=e.infants)||void 0===a?void 0:a.__typename)&&(null===(r=e.infants)||void 0===r?void 0:r.ages.some((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value}))))&&void 0!==l&&l})),b="UIPrimaryButton"===c.__typename&&a.createElement(l.b,{padding:{blockstart:"four",blockend:"three"}},a.createElement(D.i,{justifyContent:"end"},a.createElement(D.j,null,a.createElement(ml,{isFullWidth:!1,onClick:function(){n&&n("menu")},data:c,size:I.E.MEDIUM}))));return a.createElement(D.i,{direction:"column"},(null==E?void 0:E.displayConfirmation)&&a.createElement(vl,{data:E.errorSummary,inputErrorRef:_,errorCount:E.errorCount}),a.createElement("section",null,S.map((function(e,t){return a.createElement(l.b,{padding:{blockstart:(null==E?void 0:E.displayConfirmation)?"two":"unset"},key:t},a.createElement("div",null,a.createElement(ri,{roomIndex:t,data:e,childAgeRef:T===t?_:void 0,isTravelersExpanded:r,focusAddRoomButton:f})))})),"UITertiaryButton"===h.__typename&&a.createElement(l.b,{padding:{small:{blockstart:"two",blockend:i?"two":"sixteen"},medium:{blockend:"unset"}}},a.createElement(D.i,{justifyContent:"end"},a.createElement(D.j,null,a.createElement(yl,{onClick:function(){y({type:"ADD_ROOM"})},data:h,domRef:v})))),u&&a.createElement(ni,{data:u})),a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement("div",null,i&&a.createElement(l.b,{margin:{small:{blockstart:"two",blockend:"sixteen"}}},i))),a.createElement(d.rw,null,a.createElement(l.b,{padding:{blockstart:"twelve"}},a.createElement(D.i,{alignContent:"space-around",alignItems:"center",direction:"row-reverse",justifyContent:"space-between",wrap:"nowrap",space:"medium"},a.createElement(D.j,null,b),i&&a.createElement(D.j,null,i))))))};ii.displayName="EGDSRoomsTravelerSelector",ii.fragment=_e(ye({},li),{__typename:"EGDSRoomsTravelerSelector"});var oi=function(e,t){var n=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},a=n(e);return a===n(t)&&("array"===a?function(){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!oi(e[n],t[n]))return!1;return!0}():"object"===a?function(){var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var a=0;a<n.length;a+=1){var r=n[a];if(Object.prototype.hasOwnProperty.call(e,r)&&!oi(e[r],t[r]))return!1}return!0}():"function"===a?e.toString()===t.toString():e===t)},ci=function(e,t){var n=e[arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"secondaryTemplates":"templates"].find((function(e){return e.category===ua(t)}));return n?ia(n.template,e.models[0].key,t.toString()):""},si=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=e.models,l=e.template,i=r.map((function(e,t){return"EGDSCardinalLocalizedText"===e.models.__typename?ci(e.models,n[t]):""}));return r.reduce((function(e,t,n){return ia(e,t.key,i[n])}),l)},di="EGDSSearchFormTravelersField-",ui="".concat(di,"Adult"),mi="".concat(di,"ChildrenAge"),pi="".concat(di,"InfantInSeatAge"),yi="".concat(di,"InfantOnLapAge"),_i="".concat(di,"Pets"),vi=function(e){var t=e.ages,n=e.prefix;return a.createElement(a.Fragment,null,t.map((function(e,t){if("EGDSTravelerChildAgeSelect"===e.__typename){var r,l=t+1,i="".concat(n,"-").concat(l);return a.createElement("input",{key:t,type:"hidden","data-stid":i,name:i,value:null!==(r=e.value)&&void 0!==r?r:""})}return null})))},Si=function(e){var t,n=e.label,r=e.leftIcon,o=e.action,s=e.labelTemplate,u=e.readOnly,m=e.isAnyPetAllowed,p=e.onOpenTravelerField,y=e.onCloseTravelerField,_=e.menuPosition,v=o.analytics,E=o.travelerSelector,g=E.doneButton,f=(0,S.KY)(),h=Ll(),D=h.dispatch,T=h.state,C=(0,i.kW)().state,I=ve((0,B.useDialog)("travelerSelectorDialog"),3),A=I[0],F=I[1],O=I[2],k=a.useRef(null),G=ve(a.useState(!1),2),R=G[0],L=G[1],P=ve(a.useState(T),2),M=P[0],N=P[1],x=ve(a.useState(null!==(t=null==s?void 0:s.text)&&void 0!==t?t:""),2),w=x[0],W=x[1],H=T.error,V=(0,b.u)(E.__typename,(function(e){return e})),z=function(e){var t,n,a,r,l,i,o,c,d,u,m,p,y=(null!==(d=null===(t=e.adults)||void 0===t?void 0:t.value)&&void 0!==d?d:0)+(null!==(u=null===(a=e.children)||void 0===a||null===(n=a.count)||void 0===n?void 0:n.value)&&void 0!==u?u:0)+(null!==(m=null===(l=e.infantsInSeat)||void 0===l||null===(r=l.count)||void 0===r?void 0:r.value)&&void 0!==m?m:0)+(null!==(p=null===(o=e.infantsOnLap)||void 0===o||null===(i=o.count)||void 0===i?void 0:i.value)&&void 0!==p?p:0),_="EGDSBasicCheckBox"===(null==e||null===(c=e.pets)||void 0===c?void 0:c.__typename)&&"CHECKED"===e.pets.state;return ci(s,y,_)};if(a.useEffect((function(){var e;if(void 0!==m&&D({type:"UPDATE_PETS_FILTER",checked:m}),"EGDSBasicCheckBox"===(null===(e=M.travelers.pets)||void 0===e?void 0:e.__typename)){var t=m?"CHECKED":"UNCHECKED",n=_e(ye({},M),{travelers:_e(ye({},M.travelers),{pets:_e(ye({},M.travelers.pets),{state:t})})});N(n)}}),[m]),a.useEffect((function(){W(z(T.travelers))}),[T.travelers]),a.useEffect((function(){var e,t,n,a,r,l,i,o,c,s,d,u,m,p,y;(null===(t=C.travelers)||void 0===t||null===(e=t.adultTravelerCounts)||void 0===e?void 0:e.length)&&D({type:"UPDATE_TRAVELERS_BULK",adultTravelerCounts:(null===(a=C.travelers)||void 0===a||null===(n=a.adultTravelerCounts)||void 0===n?void 0:n.length)?null===(r=C.travelers)||void 0===r?void 0:r.adultTravelerCounts[0]:0,childTravelerCounts:(null===(i=C.travelers)||void 0===i||null===(l=i.childTravelerCounts)||void 0===l?void 0:l.length)?null===(o=C.travelers)||void 0===o?void 0:o.childTravelerCounts[0]:0,childrenAges:(null===(s=C.travelers)||void 0===s||null===(c=s.childrenAges)||void 0===c?void 0:c.length)&&(null===(d=C.travelers)||void 0===d?void 0:d.childrenAges[0].length)?null===(u=C.travelers)||void 0===u?void 0:u.childrenAges[0]:[],petCounts:(null===(p=C.travelers)||void 0===p||null===(m=p.petCounts)||void 0===m?void 0:m.length)?null===(y=C.travelers)||void 0===y?void 0:y.petCounts[0]:0})}),[C.travelers]),"EGDSBasicTravelerSelector"!==E.__typename)return null;var Y,q=function(){p&&p(),L((function(e){return!e})),v.referrerId&&v.linkName&&f(v.referrerId,v.linkName)},j=function(){var e=me((function(){return fe(this,(function(e){switch(e.label){case 0:return T.error?[4,D({type:"SHOW_ERROR"})]:[3,2];case 1:e.sent(),L(!0),e.label=2;case 2:return T.error||oi(M,T)||(N(T),Na("submit",V)),[2]}}))}));return function(){return e.apply(this,arguments)}}(),$=function(e){var t=z(e);Na(t,V),W(t)},K=function(e){var t;oi(M,e)||($(e.travelers),N(e)),null===(t=k.current)||void 0===t||t.focus(),F.closeDialog()},J=function(e){var t,n,a;if(H&&"CHILD_AGE_REQUIRED"===H.type&&(D({type:"SHOW_ERROR"}),null===(t=H.errorSummary)||void 0===t?void 0:t.impressionAnalytics)){var r="".concat(H.errorSummary.impressionAnalytics.referrerId,".For.NoChildAgeSubmit"),l=H.errorSummary.impressionAnalytics.linkName||"";f(r,l)}H||("menu"===e?(oi(M,n=T)||($(n.travelers),N(n)),L((function(e){return!e})),null===(a=k.current)||void 0===a||a.focus()):K(T))},Q=T.travelers,Z=Q.adults,ee=Q.children,ne=Q.pets,ae=Q.infantsInSeat,re=Q.infantsOnLap,le="EGDSBasicCheckBox"===(null==ne?void 0:ne.__typename);return a.createElement(a.Fragment,null,a.createElement(d.LM,null,a.createElement(d.zQ,null,a.createElement(te.E,{isOpen:R,onTriggerClick:q,onDismiss:j},a.createElement(te.b,null,a.createElement(X.g,{label:n,value:w,icon:r,"data-stid":"open-room-picker",disabled:u,domRef:k,className:"open-traveler-picker-observer-root"})),a.createElement(te.c,{autoPosition:!0,maxHeight:4e3,position:_||te.P.RIGHT,width:375,intersectionObserverRoot:".open-traveler-picker-observer-root"},a.createElement(l.b,{padding:{inline:"six"}},a.createElement("div",{"data-stid":"basic-traveler-selector-menu-container"},a.createElement(Jl,{onSubmit:J,data:E,isTravelersExpanded:R})))))),a.createElement(d.rw,null,a.createElement(te.E,{isOpen:R,onTriggerClick:q,onDismiss:j},a.createElement(te.b,null,a.createElement(X.g,{label:n,value:w,icon:r,"data-stid":"open-room-picker",disabled:u,domRef:k,className:"open-traveler-picker-observer-root"})),a.createElement(te.c,{autoPosition:!0,maxHeight:4e3,position:te.P.LEFT,width:le?275:375,intersectionObserverRoot:".open-traveler-picker-observer-root"},a.createElement(l.b,{padding:{inline:"six"}},a.createElement("div",{"data-stid":"basic-traveler-selector-menu-container"},a.createElement(Jl,{onSubmit:J,data:E,isTravelersExpanded:R})))))),a.createElement(d.NP,null,a.createElement(a.Fragment,null,a.createElement(X.g,{label:n,value:w,onClick:function(){p&&p(),F.openDialog(),v.referrerId&&v.linkName&&f(v.referrerId,v.linkName)},icon:r,"data-stid":"open-room-picker",disabled:u,domRef:k}),a.createElement(U.h,{isVisible:A},a.createElement(O,null,a.createElement(U.e,{type:"full",triggerRef:k,isVisible:A,returnFocusOnClose:!0},a.createElement(c.b,{toolbarTitle:E.title,navigationContent:{navType:"close",navIconLabel:("UIPrimaryButton"===E.closeButton.__typename||"UITertiaryButton"===E.closeButton.__typename)&&null!==(Y=E.closeButton.accessibility)&&void 0!==Y?Y:"",onClick:function(){if(y&&y(d.OB.SMALL),("UIPrimaryButton"===E.closeButton.__typename||"UITertiaryButton"===E.closeButton.__typename)&&E.closeButton.analytics){var e=E.closeButton.analytics,t=e.referrerId,n=e.linkName;f(t,H?n:"Travelers results updated")}var a;if(H&&"CHILD_AGE_REQUIRED"===H.type&&(D({type:"SHOW_ERROR"}),null===(a=H.errorSummary)||void 0===a?void 0:a.impressionAnalytics)){var r="".concat(H.errorSummary.impressionAnalytics.referrerId,".For.NoChildAgeSubmit"),l=H.errorSummary.impressionAnalytics.linkName||"";f(r,l)}H||K(T)}}}),a.createElement(U.f,{padded:!1},a.createElement(l.b,{padding:{blockstart:"four",blockend:"sixteen",inline:"six"}},a.createElement("div",null,a.createElement(b.E,{hasRequiredFieldIndicator:!0},a.createElement(Jl,{data:E,isTravelersExpanded:A}))))),"UIPrimaryButton"===g.__typename&&a.createElement(ml,{floating:!0,onClick:J,data:g}))))))),a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden","data-stid":"".concat(ui),name:"".concat(ui),value:Z.value}),"EGDSTravelerChildren"===(null==ee?void 0:ee.__typename)&&ee.ages&&a.createElement(vi,{ages:ee.ages,prefix:mi}),"EGDSBasicTraveler"===(null==ee?void 0:ee.__typename)&&a.createElement("input",{type:"hidden","data-stid":"".concat(mi),name:"".concat(mi),value:ee.count.value}),"EGDSTravelerInfant"===(null==ae?void 0:ae.__typename)&&ae.ages&&a.createElement(vi,{ages:ae.ages,prefix:pi}),"EGDSBasicTraveler"===(null==ae?void 0:ae.__typename)&&a.createElement("input",{type:"hidden","data-stid":"".concat(pi),name:"".concat(pi),value:ae.count.value}),"EGDSTravelerInfant"===(null==re?void 0:re.__typename)&&re.ages&&a.createElement(vi,{ages:re.ages,prefix:yi}),"EGDSBasicTraveler"===(null==re?void 0:re.__typename)&&a.createElement("input",{type:"hidden","data-stid":"".concat(yi),name:"".concat(yi),value:re.count.value}),le&&a.createElement("input",{type:"hidden",name:"".concat(_i),value:ne.state})))},Ei="EGDSSearchFormTravelersField",gi="".concat(Ei,"-Adult"),fi="".concat(Ei,"-ChildrenAge"),hi="".concat(Ei,"-InfantInSeatAge"),Di="".concat(Ei,"-InfantOnLapAge"),Ti=function(e){var t,n=e.label,r=e.leftIcon,o=e.action,s=e.labelTemplate,u=e.readOnly,m=e.onOpenTravelerField,p=e.groupStayslink,y=o.accessibility,_=o.analytics,v=o.travelerSelector,E=v.doneButton,g=null!=y?y:"",f=(0,S.KY)(),h=Cl(),D=h.dispatch,T=h.state,C=(0,i.kW)().state,I=T.error,A=ve((0,B.useDialog)("travelerSelectorDialog"),3),F=A[0],O=A[1],k=A[2],G=a.useRef(null),R=ve(a.useState(!1),2),L=R[0],P=R[1],M=ve(a.useState(T),2),N=M[0],x=M[1],w=ve(a.useState(null!==(t=null==s?void 0:s.text)&&void 0!==t?t:""),2),W=w[0],H=w[1],V=(0,b.u)(v.__typename,(function(e){return e})),z=function(e){var t=e.reduce((function(e,t){var n,a,r,l,i,o,c,s;return e+(null!==(o=null===(n=t.adults)||void 0===n?void 0:n.value)&&void 0!==o?o:0)+(null!==(c=null===(r=t.children)||void 0===r||null===(a=r.count)||void 0===a?void 0:a.value)&&void 0!==c?c:0)+(null!==(s=null===(i=t.infants)||void 0===i||null===(l=i.count)||void 0===l?void 0:l.value)&&void 0!==s?s:0)}),0);return si(s,e.length,t)};if(a.useEffect((function(){H(z(T.rooms)),"EGDSRoomsTravelerSelector"===o.travelerSelector.__typename&&o.travelerSelector.rooms[0].infants!==N.rooms[0].infants&&(D({type:"RESET_ROOMS",state:_e(ye({},T),{rooms:Ee(o.travelerSelector.rooms)})}),x(_e(ye({},T),{rooms:Ee(o.travelerSelector.rooms)})),H(z(Ee(o.travelerSelector.rooms))))}),[o.travelerSelector]),a.useEffect((function(){H(z(T.rooms))}),[T.rooms]),a.useEffect((function(){var e,t,n,a,r,l,i,c;"EGDSOpenTravelerSelectorAction"===(null==o?void 0:o.__typename)&&"EGDSRoomsTravelerSelector"===(null==o?void 0:o.travelerSelector.__typename)&&(null==C||null===(t=C.travelers)||void 0===t||null===(e=t.adultTravelerCounts)||void 0===e?void 0:e.length)&&D({type:"UPDATE_TRAVELERS_BULK",state:N,adultTravelerCounts:null!==(l=null==C||null===(n=C.travelers)||void 0===n?void 0:n.adultTravelerCounts)&&void 0!==l?l:[0],childTravelerCounts:null!==(i=null==C||null===(a=C.travelers)||void 0===a?void 0:a.childTravelerCounts)&&void 0!==i?i:[0],childrenAges:null!==(c=null==C||null===(r=C.travelers)||void 0===r?void 0:r.childrenAges)&&void 0!==c?c:[[]]})}),[C.travelers]),"EGDSRoomsTravelerSelector"!==v.__typename)return null;var Y,q,j=function(){P(!L),m&&m(),f(_.referrerId,_.linkName)},$=function(){var e=me((function(){return fe(this,(function(e){switch(e.label){case 0:return T.error?[4,D({type:"SHOW_ERROR"})]:[3,2];case 1:e.sent(),P(!0),e.label=2;case 2:return T.error||oi(N,T)||(x(T),Na("submit",V)),H(z(T.rooms)),[2]}}))}));return function(){return e.apply(this,arguments)}}(),K=function(e){var t=z(e);Na(t,V),H(t)},J=function(e){var t;oi(N,e)||(K(e.rooms),x(e)),null===(t=G.current)||void 0===t||t.focus(),O.closeDialog()},Q=function(e){I&&"CHILD_AGE_REQUIRED"===I.type&&(e&&e.preventDefault(),D({type:"SHOW_ERROR"}))},Z=function(e){var t,n;Q(),I||("menu"===e?(oi(N,t=T)||(K(t.rooms),x(t)),P((function(e){return!e})),null===(n=G.current)||void 0===n||n.focus()):J(T))},ee=function(e){if(!p)return null;var t=p.action.resource.value;try{var n=new URL(t),r=n.searchParams,l=r.get("kw")||"";r.set("kw","".concat(l).concat(e));var i=n.toString(),o=_e(ye({},p),{action:_e(ye({},p.action),{resource:_e(ye({},p.action.resource),{value:i}),target:"EXTERNAL"})});return a.createElement("div",null,a.createElement(ei,{data:o,inline:!1}))}catch(c){return null}};return a.createElement(a.Fragment,null,a.createElement(d.LM,null,a.createElement(d.zQ,null,a.createElement(te.E,{isOpen:L,onTriggerClick:j,onDismiss:$},a.createElement(te.b,null,a.createElement(X.g,{label:n,"aria-roledescription":g,value:W,icon:r,"data-stid":"open-room-picker",disabled:u,domRef:G,className:"open-room-picker-observer-root"})),a.createElement(te.c,{maxHeight:700,autoPosition:!0,position:te.P.RIGHT,width:375,intersectionObserverRoot:".open-room-picker-observer-root"},a.createElement(l.b,{padding:{inline:"six",blockstart:"two"}},a.createElement("div",{"data-stid":"rooms-traveler-selector-menu-container"},a.createElement(ii,{onSubmit:Z,data:v,isTravelersExpanded:L,groupStaysLink:ee("desktop")})))))),a.createElement(d.rw,null,a.createElement(te.E,{isOpen:L,onTriggerClick:j,onDismiss:$},a.createElement(te.b,null,a.createElement(X.g,{label:n,"aria-roledescription":g,value:W,icon:r,"data-stid":"open-room-picker",disabled:u,domRef:G,className:"open-room-picker-observer-root"})),a.createElement(te.c,{maxHeight:4e3,autoPosition:!0,position:te.P.RIGHT,width:375,intersectionObserverRoot:".open-room-picker-observer-root"},a.createElement(l.b,{padding:{inline:"six",blockstart:"two"}},a.createElement("div",{"data-stid":"rooms-traveler-selector-menu-container"},a.createElement(ii,{onSubmit:Z,data:v,isTravelersExpanded:L,groupStaysLink:ee("desktop")})))))),a.createElement(d.NP,null,a.createElement(a.Fragment,null,a.createElement(X.g,{label:n,"aria-roledescription":g,value:W,onClick:function(){O.openDialog(),f(_.referrerId,_.linkName),m&&m(d.OB.SMALL)},icon:r,"data-stid":"open-room-picker",disabled:u,domRef:G}),a.createElement(U.h,{isVisible:F},a.createElement(k,null,a.createElement(U.e,{isVisible:F,returnFocusOnClose:!0,type:"full",triggerRef:G},a.createElement(c.b,{toolbarTitle:v.title,navigationContent:{navType:"close",navIconLabel:("UIPrimaryButton"===v.closeButton.__typename||"UITertiaryButton"===v.closeButton.__typename)&&null!==(Y=v.closeButton.accessibility)&&void 0!==Y?Y:"",onClick:function(){if(("UIPrimaryButton"===v.closeButton.__typename||"UITertiaryButton"===v.closeButton.__typename)&&v.closeButton.analytics){var e=v.closeButton.analytics,t=e.referrerId,n=e.linkName;I||f(t,n)}Q(),I||J(T)}}}),a.createElement(U.f,null,a.createElement(b.E,{hasRequiredFieldIndicator:!0},a.createElement(ii,{data:v,isTravelersExpanded:F,groupStaysLink:ee("mWeb")}))),(q=!0,"UIPrimaryButton"===E.__typename&&a.createElement(ml,{onClick:Z,data:E,floating:q})))))))),T.rooms.map((function(e,t){var n,r,l=e.adults,i=e.children,o=e.infants,c=t+1;return a.createElement(a.Fragment,{key:t},a.createElement("input",{type:"hidden","data-stid":"".concat(gi,"-").concat(c),name:"".concat(gi,"-Room").concat(c),value:l.value}),"EGDSTravelerChildren"===i.__typename&&(null===(n=i.ages)||void 0===n?void 0:n.map((function(e,t){if("EGDSTravelerChildAgeSelect"===e.__typename){var n,r=t+1,l="".concat(fi,"-Room").concat(c,"-Child").concat(r);return a.createElement("input",{key:t,type:"hidden","data-stid":l,name:l,value:null!==(n=e.value)&&void 0!==n?n:""})}return null}))),"EGDSTravelerInfant"===(null==o?void 0:o.__typename)&&(null===(r=o.ages)||void 0===r?void 0:r.map((function(e,t){if("EGDSTravelerChildAgeSelect"===e.__typename){var n,r,l=t+1,i="seat"===(null===(n=T.infantSeatSelection)||void 0===n?void 0:n.value)?hi:Di,o="".concat(i,"-Room").concat(c,"-Infant").concat(l);return a.createElement("input",{key:t,type:"hidden","data-stid":o,name:o,value:null!==(r=e.value)&&void 0!==r?r:""})}return null}))))})))},bi=(0,u.J1)(vt(),Jl.fragment,ii.fragment),Ci=function(e){var t=e.data,n=e.skipQuery,r=e.isAnyPetAllowed,l=e.onOpenTravelerField,i=e.onCloseTravelerField,o=e.maxBookableTravelers,c=e.maxTravelersErrorMessage,s=e.groupStaysLink,d=e.menuPosition,u=ve(a.useState(t),2),m=u[0],p=u[1];a.useEffect((function(){var e;if("EGDSOpenTravelerSelectorAction"!==(null===(e=t.action)||void 0===e?void 0:e.__typename))p(t);else{var n,a,r=null!==(a=null===(n=t.action.travelerSelector.validations)||void 0===n?void 0:n.map((function(e){return"EGDSTravelersInputValidation"===e.__typename&&"MAX_TRAVELERS"===e.type&&o?_e(ye({},e),{maxCount:o,errorMessage:null!=c?c:""}):e})))&&void 0!==a?a:null;p(_e(ye({},t),{action:_e(ye({},t.action),{travelerSelector:_e(ye({},t.action.travelerSelector),{validations:r})})}))}}),[t,o,c]);var y=m.action,_=m.label,v=m.labelTemplate,S=m.leftIcon,E=m.readOnly;if("EGDSOpenTravelerSelectorAction"!==(null==y?void 0:y.__typename))return null;switch(y.travelerSelector.__typename){case"EGDSBasicTravelerSelector":var g,f=y.travelerSelector,h=f.travelers,D=f.validations,T=function(e,t){return(null==e?void 0:e.pets)&&"EGDSBasicCheckBox"===e.pets.__typename?_e(ye({},e),{pets:_e(ye({},e.pets),{state:t?"CHECKED":"UNCHECKED"})}):e}(h,null!=r?r:"EGDSBasicCheckBox"===(null==h||null===(g=h.pets)||void 0===g?void 0:g.__typename)&&"CHECKED"===h.pets.state);return T&&"EGDSCardinalLocalizedText"===(null==v?void 0:v.__typename)?a.createElement(Rl,_e(ye({},{travelers:T,validations:D}),{skipQuery:n}),a.createElement(Si,{label:null!=_?_:"",leftIcon:null==S?void 0:S.id,action:y,labelTemplate:v,readOnly:E,isAnyPetAllowed:r,onOpenTravelerField:l,onCloseTravelerField:i,menuPosition:d})):null;case"EGDSRoomsTravelerSelector":return"EGDSCompositeLocalizedText"===(null==v?void 0:v.__typename)?a.createElement(bl,_e(ye({},y.travelerSelector),{infantSeatSelection:y.travelerSelector.infantSeatSelection,rooms:y.travelerSelector.rooms,validations:y.travelerSelector.validations,skipQuery:n}),a.createElement(Ti,{label:null!=_?_:"",leftIcon:null==S?void 0:S.id,action:y,labelTemplate:v,readOnly:E,onOpenTravelerField:l,groupStayslink:s})):null;default:return null}};Ci.displayName="EGDSSearchFormTravelersField",Ci.fragment=bi;var Ii=(0,u.J1)(St()),Ai=(0,u.J1)(Et()),Fi=function(e){var t,n=e.data,r=e.options,i=e.emptyState,o=void 0===i||i,c=e.onChange,s=n.disabled,d=n.icon,u=n.label,m=n.readOnly,p=n.egdsElementId,y=n.options,_={"aria-label":u,disabled:s,emptyState:o,icon:null==d?void 0:d.id,id:null!=p?p:"all-inclusive-select",label:u,onChange:c,readOnly:m},v=null==y?void 0:y.map((function(e){var t=e.value,n=e.label,r=e.selected;return a.createElement("option",{key:t,label:n,value:t,selected:null!=r&&r},n)})),S=null==r||null===(t=r.results)||void 0===t?void 0:t.map((function(e){if("AllInclusiveVacationsSearchFormOptionsSeparator"===e.__typename)return a.createElement(l.c,{key:e.id});var t=e.label,n=e.selected,r=e.value;return a.createElement("option",{key:r,label:t,value:r,selected:null!=n&&n},t)}));return a.createElement(X.i,ye({},_),v,S)};Fi.fragment=Ii,Fi.displayName="AllInclusiveVacationsSelectInput";var Oi=(0,u.J1)(gt(),Fi.fragment),ki=(0,u.J1)(ft(),Ai),Gi=function(e){var t=e.data,n=e.departureCityCode,r=t.location,l=(0,m.R)().context,i=ve(a.useState(),2),o=i[0],c=i[1],s=(null==r?void 0:r.egdsElementId)||"all-inclusive-vacations-destination",d="".concat(s,"-").concat(n||"default"),u=ve((0,A._)(ki,{onCompleted:function(e){var t;c(null==e||null===(t=e.allInclusiveVacationsSearchForm)||void 0===t?void 0:t.destinations)}}),1)[0],p=(0,a.useCallback)((function(){""!==n&&u({variables:{context:l,departureCityCode:n}})}),[n]);return a.useEffect((function(){return p()}),[p]),(null==t?void 0:t.location)?a.createElement(Fi,{key:d,data:null==t?void 0:t.location,options:o}):null};Gi.fragment=Oi,Gi.displayName="AllInclusiveVacationsDestinationField";var Ri=function(e){var t=e.data;return a.createElement(Fi,{data:t,emptyState:!1})},Li=(0,u.J1)(ht(),Fi.fragment,Ai),Pi=function(e){var t=e.data,n=e.onChange;if(!t.location)return null;var r=t.location,l=t.departureCities;return a.createElement(Fi,{data:r,options:l,onChange:n})};Pi.fragment=Li,Pi.displayName="AllInclusiveVacationsOriginField";var Mi,Ni,xi,Bi,wi,Wi,Ui,Hi,Vi,zi,Yi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return Array.from(Array(t)).map((function(){return e})).join(n)},qi=function(e){return e.originLocation="originLocation",e.destinationLocation="destinationLocation",e.dates="dates",e.duration="duration",e.travelers="travelers",e.search="search",e}(qi||{}),ji=(0,u.J1)(Dt(),Pi.fragment,Gi.fragment,dl.fragment,Fi.fragment,Ci.fragment,aa.fragment),$i=(Mi=qi.originLocation,Ni=qi.destinationLocation,xi=qi.dates,Bi=qi.duration,wi=qi.travelers,Wi=qi.search,Ui=["".concat(Mi),"".concat(Ni),"".concat(xi),"".concat(Bi),"".concat(wi),"".concat(Wi)],Hi=["".concat(Yi(Mi,6)," ").concat(Yi(Ni,6)),"".concat(Yi(xi,4)," ").concat(Yi(Bi,4)," ").concat(Yi(wi,4)),"".concat(Yi(Wi,3)," ").concat(Yi(".",9))],Vi=["".concat(Yi(Mi,4)," ").concat(Yi(Ni,4)," ").concat(Yi(xi,4)," ").concat(Yi(Bi,3)," ").concat(Yi(wi,3)," ").concat(Yi(Wi,2))],{space:"three",areas:{small:Ee(Ui),medium:Ee(Hi),large:Ee(Vi)}}),Ki={originLocation:{area:qi.originLocation},destinationLocation:{area:qi.destinationLocation},dates:{area:qi.dates},duration:{area:qi.duration},travelers:{area:qi.travelers},search:{area:qi.search}},Ji=(pe(zi={},d.OB.SMALL,!0),pe(zi,d.OB.LARGE,!1),zi),Qi=function(e){var t=e.data,n=t.actionURL,r=t.egdsElementId,l=t.origin,i=t.destination,o=t.date,c=t.travelers,s=t.search,u=t.duration,m=null!=r?r:"all-inclusive-vacations-search-form",p=a.useRef(null),y=(0,d.s5)(Ji),_=ve(a.useState(""),2),v=_[0],S=_[1];return a.createElement(b.E,{ref:p,id:m,name:m,method:"GET",action:n},a.createElement(f.E,ye({},$i),l&&a.createElement(f.a,ye({},Ki.originLocation),a.createElement("div",null,a.createElement(Pi,{data:l,onChange:function(e){S(e.target.value)}}))),i&&a.createElement(f.a,ye({},Ki.destinationLocation),a.createElement("div",null,a.createElement(Gi,{data:i,departureCityCode:v}))),o&&a.createElement(f.a,ye({},Ki.dates),a.createElement("div",null,a.createElement(dl,{data:o,setFieldRefByTypename:function(){}}))),"EGDSBasicSelect"===(null==u?void 0:u.__typename)&&a.createElement(f.a,ye({},Ki.duration),a.createElement("div",null,a.createElement(Ri,{data:u}))),c&&a.createElement(f.a,ye({},Ki.travelers),a.createElement("div",null,a.createElement(Ci,{data:c}))),"EGDSSearchFormButton"===(null==s?void 0:s.__typename)&&a.createElement(f.a,ye({},Ki.search),a.createElement("div",null,a.createElement(aa,{data:s,isFullWidth:y})))))};Qi.fragment=ji,Qi.displayName="AllInclusiveVacationsSearchForm";new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_ALL_INCLUSIVE_VACATIONS_SEARCH_FORM_QUERY_FAILURE"),(0,u.J1)(Tt(),Qi.fragment);var Xi={__typename:"SearchLocation",analytics:{__typename:"SearchLocationAnalytics",open:'{"metadata":{"packer_version":"1.0.1"},"events":{"search_location.opened":{"v1":{"event_data":{"event":{"event_name":"search_location.opened","event_version":"1.0.0","event_category":"Search","event_type":"Interaction"}}}}}}',close:'{"metadata":{"packer_version":"1.0.1"},"events":{"search_location.closed":{"v1":{"event_data":{"event":{"event_name":"search_location.closed","event_version":"1.0.0","event_category":"Search","event_type":"Interaction"}}}}}}',itemSelected:'{"metadata":{"packer_version":"1.0.1"},"events":{"search_location.selected":{"v1":{"event_data":{"event":{"event_name":"search_location.selected","event_version":"1.0.0","event_category":"Search","event_type":"Interaction"}}}}}}',recommendationsPresented:'{"metadata":{"packer_version":"1.0.1"},"events":{"recommendations_module.presented":{"v2":{"event_data":{"event":{"event_name":"recommendations_module.presented","event_version":"2.1.0","event_category":"Search","event_type":"Impression"}}}}}}',recommendationSelected:'{"metadata":{"packer_version":"1.0.1"},"events":{"recommendations_module.selected":{"v2":{"event_data":{"event":{"event_name":"recommendations_module.selected","event_version":"2.1.0","event_category":"Search","event_type":"Interaction"}}}}}}'},content:{__typename:"SearchLocationContent",clearInput:{__typename:"UIPrimaryFloatingActionButton",accessibility:"Clear"},close:{__typename:"UIPrimaryFloatingActionButton",accessibility:null},poweredByGoogleLogoAltText:"Powered by Google Logo",resultsAvailableAccessibility:null,multiSelection:null,itemSelectedAccessibility:{__typename:"EGDSBasicLocalizedText",models:[],template:""}}},Zi=new Date,eo=new Date;eo.setDate(eo.getDate()+14);var to=new Date;to.setDate(to.getDate()+15);var no=new Date;function ao(e){return{__typename:"Date",day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}no.setMonth(no.getMonth()+10),no.setDate(no.getDate()-5);var ro={__typename:"CarSearchForm",egdsElementId:"car_search_form",actionURL:"/carsearch",errorSummary:{egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Car.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Car.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},pickUpLocation:{__typename:"EGDSSearchFormLocationField",egdsElementId:"pick_up_location",label:"Pick-up",placeholder:"Pick-up",value:null,errorMessage:"Please select where you're picking up the vehicle",required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Location selection",referrerId:"Web.Car.Location.Origin.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"CARS",maxNumberOfResults:8,packageType:null,personalize:!0,regionType:1583,typeaheadFeatures:"postal_code|consistent_display|cars_rental|carsclickpopularity",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city, airport, or address",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Car.Location.Origin.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Car.Location.Origin.Change",__typename:"ClientSideAnalytics"},multiLocations:null,validations:[{errorMessage:"Please select where you're picking up the vehicle",__typename:"EGDSRequiredInputValidation"}],regionId:null,regionType:"UNKNOWN",debounceRate:null,coordinates:null,airportCode:null},dropOffLocation:{__typename:"EGDSSearchFormLocationField",egdsElementId:"drop_off_location",label:"Same as pick-up",placeholder:"Drop-off",value:null,errorMessage:"Please select where you're dropping off the vehicle",required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.Car.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"CARS",maxNumberOfResults:8,packageType:null,personalize:!0,regionType:1583,typeaheadFeatures:"postal_code|consistent_display|cars_rental|carsclickpopularity",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city, airport, or address",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Car.Location.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Car.Location.Change",__typename:"ClientSideAnalytics"},multiLocations:null,validations:[{errorMessage:"Please select where you're dropping off the vehicle",__typename:"EGDSRequiredInputValidation"}],regionId:null,regionType:"UNKNOWN",debounceRate:null,coordinates:null,airportCode:null},alternativeDropOffLocationLabel:"Drop-off",dates:{egdsElementId:"dates",label:"Dates",placeholder:"Dates",errorMessage:null,validations:null,action:{accessibility:null,analytics:{linkName:"car date open",referrerId:"Web.Car.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!0,selectedStartDate:ye({},ao(eo)),startDatePlaceholderText:"",selectedEndDate:ye({},ao(to)),endDatePlaceholderText:"",validDaysLowerBoundInclusive:ye({},ao(Zi)),validDaysUpperBoundInclusive:ye({},ao(no)),submitButtonAnalytics:{linkName:"car date submit",referrerId:"Web.Car.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"car date next",referrerId:"Web.Car.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"car date previous",referrerId:"Web.Car.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"car date start",referrerId:"Web.Car.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"car date end",referrerId:"Web.Car.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:{linkName:"car dates clear",referrerId:"Web.Car.Calendar.ClearDates.Submit",__typename:"ClientSideAnalytics"},showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},pickUpTime:{__typename:"EGDSBasicSelect",egdsElementId:"pick_up_time",clickAnalytics:{linkName:"car time open",referrerId:"Web.Car.Pick_up.Time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Pick-up time",options:[{label:"12:00 AM",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15 AM",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30 AM",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45 AM",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"01:00 AM",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"01:15 AM",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"01:30 AM",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"01:45 AM",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"02:00 AM",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"02:15 AM",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"02:30 AM",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"02:45 AM",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"03:00 AM",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"03:15 AM",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"03:30 AM",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"03:45 AM",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"04:00 AM",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"04:15 AM",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"04:30 AM",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"04:45 AM",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"05:00 AM",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"05:15 AM",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"05:30 AM",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"05:45 AM",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"06:00 AM",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"06:15 AM",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"06:30 AM",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"06:45 AM",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"07:00 AM",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"07:15 AM",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"07:30 AM",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"07:45 AM",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"08:00 AM",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"08:15 AM",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"08:30 AM",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"08:45 AM",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"09:00 AM",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"09:15 AM",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"09:30 AM",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"09:45 AM",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00 AM",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15 AM",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30 AM",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45 AM",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00 AM",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15 AM",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30 AM",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45 AM",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00 PM",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15 PM",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30 PM",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45 PM",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"01:00 PM",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"01:15 PM",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"01:30 PM",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"01:45 PM",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"02:00 PM",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"02:15 PM",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"02:30 PM",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"02:45 PM",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"03:00 PM",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"03:15 PM",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"03:30 PM",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"03:45 PM",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"04:00 PM",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"04:15 PM",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"04:30 PM",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"04:45 PM",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"05:00 PM",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"05:15 PM",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"05:30 PM",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"05:45 PM",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"06:00 PM",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"06:15 PM",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"06:30 PM",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"06:45 PM",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"07:00 PM",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"07:15 PM",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"07:30 PM",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"07:45 PM",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"08:00 PM",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"08:15 PM",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"08:30 PM",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"08:45 PM",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"09:00 PM",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"09:15 PM",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"09:30 PM",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"09:45 PM",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00 PM",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15 PM",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30 PM",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45 PM",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00 PM",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15 PM",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30 PM",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45 PM",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"Your pick-up time must be in the future",readOnly:!1,value:null},dropOffTime:{__typename:"EGDSBasicSelect",egdsElementId:"drop_off_time",clickAnalytics:{linkName:"car time open",referrerId:"Web.Car.Drop_off.Time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Drop-off time",options:[{label:"12:00 AM",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15 AM",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30 AM",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45 AM",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"01:00 AM",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"01:15 AM",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"01:30 AM",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"01:45 AM",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"02:00 AM",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"02:15 AM",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"02:30 AM",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"02:45 AM",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"03:00 AM",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"03:15 AM",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"03:30 AM",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"03:45 AM",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"04:00 AM",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"04:15 AM",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"04:30 AM",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"04:45 AM",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"05:00 AM",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"05:15 AM",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"05:30 AM",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"05:45 AM",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"06:00 AM",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"06:15 AM",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"06:30 AM",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"06:45 AM",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"07:00 AM",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"07:15 AM",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"07:30 AM",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"07:45 AM",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"08:00 AM",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"08:15 AM",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"08:30 AM",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"08:45 AM",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"09:00 AM",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"09:15 AM",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"09:30 AM",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"09:45 AM",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00 AM",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15 AM",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30 AM",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45 AM",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00 AM",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15 AM",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30 AM",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45 AM",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00 PM",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15 PM",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30 PM",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45 PM",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"01:00 PM",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"01:15 PM",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"01:30 PM",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"01:45 PM",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"02:00 PM",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"02:15 PM",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"02:30 PM",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"02:45 PM",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"03:00 PM",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"03:15 PM",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"03:30 PM",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"03:45 PM",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"04:00 PM",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"04:15 PM",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"04:30 PM",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"04:45 PM",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"05:00 PM",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"05:15 PM",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"05:30 PM",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"05:45 PM",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"06:00 PM",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"06:15 PM",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"06:30 PM",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"06:45 PM",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"07:00 PM",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"07:15 PM",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"07:30 PM",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"07:45 PM",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"08:00 PM",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"08:15 PM",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"08:30 PM",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"08:45 PM",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"09:00 PM",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"09:15 PM",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"09:30 PM",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"09:45 PM",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00 PM",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15 PM",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30 PM",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45 PM",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00 PM",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15 PM",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30 PM",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45 PM",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"Your drop-off time must be at least 2 hours after pick-up",readOnly:!1,value:null},driverAgeCheck:null,specialRates:{label:"Special rates",discountCode:{__typename:"CarSearchFormDiscountCode",discountCode:{__typename:"EGDSBasicTriggerPill",id:"discount_codes",disabled:!1,primary:"Discount codes",selected:!1,icon:null,selectAnalytics:{linkName:"discount code selected",referrerId:"Web.Car.Discount.Code.Selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"discount code unselected",referrerId:"Web.Car.Discount.Code.Unselected",__typename:"ClientSideAnalytics"},accessibility:null},action:{discountType:{__typename:"EGDSBasicSelect",egdsElementId:null,clickAnalytics:null,icon:null,label:"Discount type",options:[],disabled:!1,errorMessage:null,readOnly:!1,value:null},discountTypeOptions:[{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"AC",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"FASTSTART Org ID",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"AD",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"AL",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Alamo Insiders #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Alamo Insiders #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"AWD #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZI",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Wizard #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Wizard #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"BCD #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZD",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Fast Break #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Fast Break #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZR",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Dollar Express #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Dollar Express #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"EY",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:1,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Customer #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ET",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Enterprise Plus #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Enterprise Plus #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Contract #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"EP",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Privilege #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Privilege #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"FX",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"CDP",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZE",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:1,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"National Contract ID",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZL",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Emerald Club ID",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Emerald Club ID",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate account",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"NU",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZA",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Payless Perks #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Payless Perks #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"SX",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZT",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Blue Chip #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Blue Chip #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:null,preferredBrand:"SV",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"SC",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}}],preferredBrand:{__typename:"EGDSBasicSelect",egdsElementId:null,clickAnalytics:null,icon:null,label:"Preferred brand",options:[{label:"Ace Rent A Car",selected:!1,value:"AC",__typename:"EGDSBasicOption"},{label:"Advantage Rent-A-Car",selected:!1,value:"AD",__typename:"EGDSBasicOption"},{label:"Alamo Rent A Car",selected:!1,value:"AL",__typename:"EGDSBasicOption"},{label:"Avis",selected:!1,value:"ZI",__typename:"EGDSBasicOption"},{label:"Budget",selected:!1,value:"ZD",__typename:"EGDSBasicOption"},{label:"Dollar Rent A Car",selected:!1,value:"ZR",__typename:"EGDSBasicOption"},{label:"Economy Rent a Car",selected:!1,value:"EY",__typename:"EGDSBasicOption"},{label:"Enterprise",selected:!1,value:"ET",__typename:"EGDSBasicOption"},{label:"Europcar",selected:!1,value:"EP",__typename:"EGDSBasicOption"},{label:"Fox Rent a Car",selected:!1,value:"FX",__typename:"EGDSBasicOption"},{label:"Hertz",selected:!1,value:"ZE",__typename:"EGDSBasicOption"},{label:"Midway Car Rental",selected:!1,value:"MW",__typename:"EGDSBasicOption"},{label:"National Car Rental",selected:!1,value:"ZL",__typename:"EGDSBasicOption"},{label:"Nu Car",selected:!1,value:"NU",__typename:"EGDSBasicOption"},{label:"Payless",selected:!1,value:"ZA",__typename:"EGDSBasicOption"},{label:"Routes Car Rental",selected:!1,value:"RO",__typename:"EGDSBasicOption"},{label:"Sixt",selected:!1,value:"SX",__typename:"EGDSBasicOption"},{label:"Thrifty Car Rental",selected:!1,value:"ZT",__typename:"EGDSBasicOption"},{label:"U-Save",selected:!1,value:"SV",__typename:"EGDSBasicOption"},{label:"Silvercar",selected:!1,value:"SC",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:null,readOnly:!1,value:null},errorSummary:{egdsElementId:"discount_code_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Car.Discount_Code.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Car.Discount_Code.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},toolbar:{primary:"Discount code",actions:{primary:{egdsElementId:null,primary:"Clear",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},secondaries:[{icon:{description:"close",__typename:"Icon"},__typename:"UITertiaryButton"}],__typename:"UIToolbarActions"},__typename:"UIToolbar"},done:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UIPrimaryButton"},__typename:"CarSearchFormDiscountCodeAction"}},showAarpRate:{__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"aarp_rates",primary:"Show AARP rates",selected:!1,selectedText:null,value:null,icon:null,selectAnalytics:{linkName:"AARP rate selected",referrerId:"Web.Car.AARP.Rate.Selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"AARP rate unselected",referrerId:"Web.Car.AARP.Rate.Unselected",__typename:"ClientSideAnalytics"}},__typename:"CarSearchFormSpecialRates"},search:{egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Car.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},rentalTypes:null,localDateFormat:"M/d/yyyy",playback:null,searchLocation:Xi},lo=new Date,io=new Date;io.setDate(io.getDate()+14);var oo=new Date;oo.setDate(oo.getDate()+15);var co=new Date;function so(e){return{__typename:"Date",day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}co.setDate(co.getDate()+328);var uo={__typename:"EGDSSearchFormLocationField",egdsElementId:"airport_location",label:"Airport",placeholder:"Airport",value:null,errorMessage:"Please select an airport",validations:[{errorMessage:"Please select an airport",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.GT.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"SearchForm",drivable:!1,isDestination:!0,lineOfBusiness:"GROUNDTRANSFERS",maxNumberOfResults:7,packageType:null,personalize:!0,regionType:1,typeaheadFeatures:"proximity|nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.GT.Location.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.GT.Location.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},mo={__typename:"EGDSSearchFormLocationField",egdsElementId:"hotel_location",label:"Hotel",placeholder:"Hotel",value:null,errorMessage:"Please select a hotel",validations:[{errorMessage:"Please select a hotel",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:"lob_hotels",__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.GT.Location.Origin.Open",__typename:"ClientSideAnalytics"},info:{client:"SearchForm",drivable:!1,isDestination:!1,lineOfBusiness:"GROUNDTRANSFERS",maxNumberOfResults:7,packageType:null,personalize:!0,regionType:128,typeaheadFeatures:"proximity|consistent_display|google",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.GT.Location.Origin.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.GT.Location.Origin.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},po={action:{analytics:{linkName:"Travelers selector displayed",referrerId:"Travelers selector updated",__typename:"ClientSideAnalytics"},travelerSelector:{closeButton:{egdsElementId:"travelers_selector_close_button",primary:"Close",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Close button",referrerId:"Web.Gt.Search.Traveler.Selector.Close.Button.Clicked",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"travelers_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Done button",referrerId:"Web.Gt.Search.Traveler.Selector.Done.Button.Clicked",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},title:"Travelers",travelers:{adults:{decreaseAnalytics:{linkName:"Adult traveler removed",referrerId:"Web.Gt.Traveler.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Adult traveler added",referrerId:"Web.Gt.Traveler.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:null,increaseText:"Increase the number of adults",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:1},children:{count:{decreaseAnalytics:{linkName:"Children traveler removed",referrerId:"Web.Gt.Traveler.Remove.Children",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Children traveler added",referrerId:"Web.Gt.Traveler.Add.Children",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:null,increaseText:"Increase the number of children",increaseTextTemplate:null,egdsElementId:"traveler_selector_children_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Age 2 to 17",value:0},type:null,__typename:"EGDSBasicTraveler"},infantsInSeat:{count:{decreaseAnalytics:{linkName:"Infant traveler removed",referrerId:"Web.Gt.Traveler.Remove.InfantsInSeat",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Infant traveler added",referrerId:"Web.Gt.Traveler.Add.InfantsInSeat",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants",decreaseTextTemplate:null,increaseText:"Increase the number of infants",increaseTextTemplate:null,egdsElementId:"traveler_selector_infants_in_seat_step_input",__typename:"EGDSTravelerStepInput",label:"Infants",max:8,min:0,step:1,subLabel:"Younger than 2",value:0},type:null,__typename:"EGDSBasicTraveler"},infantsOnLap:null,pets:null,__typename:"EGDSTravelers"},validations:[{errorMessage:"We allow up to 6 travelers per booking",maxCount:6,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 6 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.GT.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSBasicTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],secondaryTemplates:null,text:"1 traveler",__typename:"EGDSCardinalLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1,__typename:"EGDSSearchFormTravelersField"},yo={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.GT.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},_o={__typename:"EGDSBasicSelect",egdsElementId:"pick_up_time",clickAnalytics:{linkName:"ground transportation time open",referrerId:"Web.Gt.pick_up_time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Flight arrival time",options:[{label:"12:00am",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15am",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30am",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45am",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"1:00am",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"1:15am",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"1:30am",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"1:45am",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"2:00am",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"2:15am",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"2:30am",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"2:45am",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"3:00am",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"3:15am",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"3:30am",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"3:45am",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"4:00am",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"4:15am",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"4:30am",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"4:45am",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"5:00am",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"5:15am",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"5:30am",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"5:45am",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"6:00am",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"6:15am",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"6:30am",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"6:45am",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"7:00am",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"7:15am",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"7:30am",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"7:45am",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"8:00am",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"8:15am",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"8:30am",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"8:45am",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"9:00am",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"9:15am",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"9:30am",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"9:45am",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00am",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15am",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30am",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45am",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00am",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15am",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30am",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45am",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00pm",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15pm",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30pm",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45pm",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"1:00pm",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"1:15pm",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"1:30pm",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"1:45pm",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"2:00pm",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"2:15pm",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"2:30pm",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"2:45pm",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"3:00pm",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"3:15pm",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"3:30pm",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"3:45pm",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"4:00pm",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"4:15pm",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"4:30pm",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"4:45pm",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"5:00pm",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"5:15pm",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"5:30pm",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"5:45pm",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"6:00pm",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"6:15pm",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"6:30pm",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"6:45pm",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"7:00pm",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"7:15pm",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"7:30pm",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"7:45pm",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"8:00pm",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"8:15pm",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"8:30pm",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"8:45pm",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"9:00pm",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"9:15pm",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"9:30pm",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"9:45pm",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00pm",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15pm",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30pm",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45pm",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00pm",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15pm",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30pm",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45pm",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"",readOnly:!1,value:null},vo={__typename:"EGDSBasicSelect",egdsElementId:"drop_off_time",clickAnalytics:{linkName:"ground transportation time open",referrerId:"Web.Gt.drop_off_time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Flight departure time",options:[{label:"12:00am",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15am",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30am",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45am",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"1:00am",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"1:15am",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"1:30am",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"1:45am",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"2:00am",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"2:15am",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"2:30am",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"2:45am",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"3:00am",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"3:15am",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"3:30am",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"3:45am",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"4:00am",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"4:15am",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"4:30am",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"4:45am",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"5:00am",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"5:15am",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"5:30am",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"5:45am",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"6:00am",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"6:15am",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"6:30am",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"6:45am",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"7:00am",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"7:15am",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"7:30am",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"7:45am",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"8:00am",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"8:15am",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"8:30am",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"8:45am",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"9:00am",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"9:15am",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"9:30am",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"9:45am",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00am",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15am",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30am",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45am",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00am",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15am",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30am",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45am",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00pm",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15pm",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30pm",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45pm",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"1:00pm",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"1:15pm",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"1:30pm",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"1:45pm",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"2:00pm",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"2:15pm",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"2:30pm",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"2:45pm",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"3:00pm",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"3:15pm",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"3:30pm",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"3:45pm",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"4:00pm",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"4:15pm",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"4:30pm",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"4:45pm",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"5:00pm",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"5:15pm",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"5:30pm",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"5:45pm",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"6:00pm",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"6:15pm",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"6:30pm",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"6:45pm",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"7:00pm",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"7:15pm",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"7:30pm",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"7:45pm",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"8:00pm",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"8:15pm",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"8:30pm",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"8:45pm",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"9:00pm",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"9:15pm",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"9:30pm",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"9:45pm",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00pm",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15pm",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30pm",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45pm",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00pm",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15pm",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30pm",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45pm",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"The departing flight must occur at least 2 hours after the arriving flight.",readOnly:!1,value:null},So={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.GT.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.GT.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},Eo={searchForm:{__typename:"SearchFormResults",groundTransportation:{__typename:"GroundTransportationSearchForm",egdsElementId:"ground_transportation_search_form",actionURL:"/ground-transfers/",errorSummary:So,dates:{egdsElementId:"date_form_field",label:"Flight arrival date",placeholder:"Flight arrival date",errorMessage:"",validations:null,action:{accessibility:null,analytics:{linkName:"ground transportation calendar selection",referrerId:"Web.GT.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:ye({},so(io)),validDaysLowerBoundInclusive:ye({},so(lo)),validDaysUpperBoundInclusive:ye({},so(co)),submitButtonAnalytics:{linkName:"ground transportation dates submit button",referrerId:"Web.GT.Calendar.Dates.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"ground transportation dates Dates start date button",referrerId:"Web.GT.Calendar.Start.Dates.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},hotelLocation:mo,airportLocation:uo,travelers:po,pickupTime:_o,dropoffTime:null,elements:[],playback:null,search:yo,groundTransportationSelection:{__typename:"GroundTransportationSearchFormSelection",airportToHotel:{__typename:"EGDSBasicPill",name:"trip_direction_from_airport",primary:"Airport to hotel",accessibility:"Airport to hotel",disabled:!1,selected:!0,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},hotelToAirport:{__typename:"EGDSBasicPill",name:"trip_direction_to_airport",primary:"Hotel to airport",accessibility:"Hotel to airport",disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},roundTrip:{__typename:"EGDSBasicPill",name:"trip_direction_round_trip",primary:"Roundtrip",accessibility:"Roundtrip",disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null}},searchLocation:Xi}}},go={searchForm:{__typename:"SearchFormResults",groundTransportation:{__typename:"GroundTransportationSearchForm",egdsElementId:"ground_transportation_search_form",actionURL:"/ground-transfers/",errorSummary:So,dates:{egdsElementId:"date_form_field",label:"Flight departure date",placeholder:"Flight departure date",errorMessage:"",validations:null,action:{accessibility:null,analytics:{linkName:"ground transportation calendar selection",referrerId:"Web.GT.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:ye({},so(io)),validDaysLowerBoundInclusive:ye({},so(lo)),validDaysUpperBoundInclusive:ye({},so(co)),submitButtonAnalytics:{linkName:"ground transportation dates submit button",referrerId:"Web.GT.Calendar.Dates.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"ground transportation dates Dates start date button",referrerId:"Web.GT.Calendar.Start.Dates.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},hotelLocation:mo,airportLocation:uo,travelers:po,pickupTime:null,dropoffTime:vo,elements:[],playback:null,search:yo,groundTransportationSelection:{__typename:"GroundTransportationSearchFormSelection",airportToHotel:{__typename:"EGDSBasicPill",name:"trip_direction_from_airport",primary:"Airport to hotel",accessibility:"Airport to hotel",disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},hotelToAirport:{__typename:"EGDSBasicPill",name:"trip_direction_to_airport",primary:"Hotel to airport",accessibility:"Hotel to airport",disabled:!1,selected:!0,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},roundTrip:{__typename:"EGDSBasicPill",name:"trip_direction_round_trip",primary:"Roundtrip",accessibility:"Roundtrip",disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null}},searchLocation:Xi}}},fo={searchForm:{__typename:"SearchFormResults",groundTransportation:{__typename:"GroundTransportationSearchForm",egdsElementId:"ground_transportation_search_form",actionURL:"/ground-transfers/search",errorSummary:So,dates:{egdsElementId:"date_form_field",label:"Flight dates",placeholder:"Flight dates",errorMessage:"",validations:null,action:{accessibility:null,analytics:{linkName:"ground transportation calendar selection",referrerId:"Web.GT.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!0,selectedStartDate:ye({},so(io)),startDatePlaceholderText:"",selectedEndDate:ye({},so(oo)),endDatePlaceholderText:"",validDaysLowerBoundInclusive:ye({},so(lo)),validDaysUpperBoundInclusive:ye({},so(co)),flexibleDateContent:null,submitButtonAnalytics:{linkName:"ground transportation dates submit button",referrerId:"Web.GT.Calendar.Dates.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"ground transportation dates Dates next date button",referrerId:"Web.GT.Calendar.Next.Dates.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"ground transportation dates Dates previous date button",referrerId:"Web.GT.Calendar.Previous.Dates.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"ground transportation dates Dates start date button",referrerId:"Web.GT.Calendar.Start.Dates.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"ground transportation dates Dates end date button",referrerId:"Web.GT.Calendar.End.Dates.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:{linkName:"ground transportation dates Dates clear button",referrerId:"Web.GT.Calendar.Clear.Dates.Submit",__typename:"ClientSideAnalytics"},showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},hotelLocation:mo,airportLocation:uo,travelers:po,pickupTime:_o,dropoffTime:vo,elements:[],playback:null,search:yo,groundTransportationSelection:{__typename:"GroundTransportationSearchFormSelection",airportToHotel:{__typename:"EGDSBasicPill",name:"trip_direction_from_airport",primary:"Airport to hotel",accessibility:null,disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},hotelToAirport:{__typename:"EGDSBasicPill",name:"trip_direction_to_airport",primary:"Hotel to airport",accessibility:null,disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},roundTrip:{__typename:"EGDSBasicPill",name:"trip_direction_round_trip",primary:"Roundtrip",accessibility:null,disabled:!1,selected:!0,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null}},searchLocation:Xi}}},ho="EGDSBasicSelect",Do=(0,u.J1)(bt()),To=function(e){var t=e.onChange,n=e.selectValue,r=e.emptyState,l=e.data,i=e.errorMessage,o=e.setInputRef,c=(0,S.KY)(),s=l.egdsElementId,d=l.label,u=l.icon,m=l.options,p=l.clickAnalytics,y=l.readOnly,_=l.disabled,v=null!=s?s:"search_form_basic_select",E=a.useRef(null),g=a.useCallback((function(){if(p&&"ClientSideAnalytics"===p.__typename){var e=p.referrerId,t=p.linkName;c(e,t)}}),[p,c]),f=(0,b.u)(v,(function(e){return t&&t(e),e}));return a.useEffect((function(){o&&o(E)}),[]),(null==m?void 0:m.length)>0?a.createElement(X.i,{readOnly:y,disabled:_,id:v,name:"".concat(ho,"-").concat(v),label:d,icon:null==u?void 0:u.id,onClick:g,"aria-label":null!=d?d:"",onChange:f,emptyState:r,value:n,placeholder:r?d:void 0,invalid:i,domRef:E},m.map((function(e){var t=e.label,n=e.value,r=e.selected;return a.createElement("option",{key:n,label:t,value:n,selected:null!=r&&r},t)}))):null};To.displayName="EGDSBasicSelect",To.fragment=Do;var bo=(0,u.J1)(Ct(),To.fragment),Co=function(e){var t,n,r=e.data,l=e.fieldError,i=ye({errorMessage:l?(t=l,"EGDSBasicSelect"===r.__typename?(null==t?void 0:t.isValid)?"":null!==(n=r.errorMessage)&&void 0!==n?n:"":""):""},e);return"EGDSBasicSelect"===r.__typename?a.createElement(To,_e(ye({},i),{data:r})):null};Co.displayName="SearchToolsEGDSSelect",Co.fragment=bo;var Io={SEARCH_LOCATION_TYPEAHEAD_DURATION:new p.SystemEvent(p.SystemEventLevel.INFO,"SEARCH_LOCATION_TYPEAHEAD_DURATION")},Ao=a.createContext({impressionWrapper:void 0}),Fo=function(e){return e.locationFullName+(e.regionId||"")},Oo=(0,u.J1)(It()),ko=function(e){var t,n=e.searchLocationContent,r=e.data,i=(null!=r?r:{}).poweredBy;return"GOOGLE"===(void 0===i?"":i)?a.createElement(l.b,{padding:{blockstart:"three",inline:"four"}},a.createElement("div",null,a.createElement(D.i,{justifyContent:"end"},a.createElement(D.j,{maxWidth:144,minWidth:144},a.createElement(g.a,{imageFit:"contain"},a.createElement(g.b,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAASCAYAAAC0PldrAAAIHElEQVR4Ae3ZBXDbWB7H8efglpmZGW0HlhzJDpSZmZkZ3W3s2DpmZmbmKx0zM/NdoGhotxTf9x9LHY027paW85v5bBRQopn32weqasqzk5Jw7BE9nHijHo5/Rw/HfqaHYl/keldZ8GJ7qBeqZ/6PNGlPUT5DeVKNqkyc18PJ6VDPtfEfnvUJz0dmpbwfmzMW6k5YFy96pBRTkCnL4MUDiy94oS0F+ZVZlD/5qxLLfNFkz0D0fBtfKOkpCcffrFfG6vVQ4hDUc6ypQLdDFmMdMiWIcjywaOHEB8zynPEFa1pCOWnHLw2Bej5oKtDzqEC+cGyoWZ5YaTDeGer57r4LRPLRCi40liy0QR4eVB5CG2QhU3KQneG+TM/qQhvk424L1Bwt73P22d9QoFD8bVB3KxVUWTX+gqW1mvvLtbr7Z7V+z6frNM/UlFIuKAD83I2v5y69eiL3y9dPZP/s2tdyPn39ZN7UVEq5oCz8x+WvjC/SQrEv8/u/z/O9siSUKNfC8agWSbrRaIH+p3lH1Pg976jxe38gz8JzzLM/g2QhpmIuIjCwB/0cg6HjGAxEsQQtIZmCtbBnLbY4BngZptkGaQmiMHAUhbCyEJMxCxGsh6QFltruOwIv7BmEfTAQwWwsvYMCTcMqGKat6AJJCXYjD1ZcWIdZsEdK8K50gZLroez4+l4G8j1PURlfAJWaMye7Vvd+otbvTVVr7hvVmvc/ci0YyNdAidTHVPa1EzmfuH4iN0WBbnD9H7lu8PXc10CJYDCVxanvffI8nAZvloQTNenZMXYt/YyJ5Y3tgar9nkCt5n2y4Tl073+5TprPEIYSknW2ARpkWosQOkFSiijK0BtuHME2ZGMMDLSDpBMMU29bYaIYBxfW4wBGojcmw8BIWM8Vwjq40QMubMR+231TYGAYJN1QhVUYgEHYgMgdFCiCBeiLYdiJI2iO9og6St4XBgZnKpAWjm2AsmNZO+E8jdlnqzrdvS49aO4fndWLekDVlbmHMoB/MQewAorCrDML86P6E816QD35lbyhzER/SZcouwJKq0oskd9PSX9aVnm5F1RJVbKQr13IVKCU251b7Xf/WwpcqxfMkVnngm9MW+sZ6gJeD24N1BHkwUouDmI28hDGBNjTDwZGIR9hFEOiYyu2YRIkY1GFhzAABvrCnpVYbyvQAeTAyiBHKa2sNUnmY5/jvnwcvYMCbXDMmG1QBR2SJdhu+5l52NXYMsqA7EsXI/5OKBvEhnMKK7LwtePpgYy9HIpB+lbDIGmFbihLTcAzs6FAuueDUJTkW0hdO5XrhrJc/1reTPk6BfsgZMY7iZS/KumFsmihxIFMBaoNeHxmiT/6H5+7Y41esJcl7K/pmdD9N64n4tZALYQzs7EDvTMMmgtBW7GWYyUk26DDj/1wYYHt+z7bUhixMXDMVqDFznG5zX1HIdmDGbDnTvdAGpzZhGWO/2n6ojnCKIIzDNClwQ1LRmU8ETCS3aEysU5r7FHmQckAyUD9sWJgPpSlNlA4SL7O0vJNqGtfz/6bFKX+SyofyvLk1/IGNcxAX8v9JpS8QpDfX/Ha+nwoC8vplIwFYq/TUFbN+w9Zxqr93vpq3fOFWn/BJFlioYQ1UEvgzHxsRQ8Y6NdIgY6jDBI3wugGA53QxVa+IAogeQwR9EB3h27IVGwfqjLc1xWSnZgNZ5bdQYECcGabrcgubMUCPIZjtztQWPsOZpjvPRq52A7KSatKTpV3QfxcXenL61tASUFk8M7q7gIoiywl6UF1fwBKCmLONAVQlhsn8+aYX/8AVEll4pQ8h7x7grLIRj9TgWo0z8Ppsnqv1eqeyP98hX2hZClrrEDH0QpWWuIYJiMbQcx1TNWjYWCQbY8TwQbshJXdWI+obdPdEwbGwJ7ipylQH2vZdN5nK9AMHEVzx1JUeQcF2uVY+rojimJYGY8q7MdEZIy8MGTwfmHuhf5JkTbJex/fyxJdtcpLDzNob5JNrbn/mQMl2ECvNpeKn1sDV6MVjGEz/U9zWSmFYuO82tzr/PzK6fy+UFdP5o6hNP9M742ySyFL1VJrDxSIXu4NJUunvAXPVCApCfufP5p7rg1y2pMZkeswX/u+zIawF0jtwyOmvThiK5UXBhbDgwkIY7mjVKthoBRWymE0MngLbXsrN+bbS5WhQC4sRggVjvtGQ9IWQexGMR7BfjxxBwV6AptRgBIcxU7kwkoODiOCtrhtZOZhkD52m3/KiFGs+VCAdYT3fsicAer5WIcU4DGghPzcta/nfKjhFPa13HrUybW5fBlQQk5hWmXi/fL3rNnuTk5hdX6Pl79/wTwNXrJOYbIXOh9w98atgVqAx7EPx7AUHWDPSGy2la0MOY38zCp0gZWuWNXIbJONAPYhhK0YDSsTocGZbJRmuM9KJ6zAceyHD489zYyxCGMwGYdts24LOLMWi3DHkQ0sg/QqWU5KwvEf4HPMDHseDcc6QTnJUiH7EGajz8g7GPYiH2EWKoOyk/c9vAeax6zzGcryAz5+5PrJ7DIoO37QxTufhRT0C+zLvst11FrC5JQG5f7IrJd5Pjzzx56Pzh4CJc76CnryHugVPMe3OcqfYTkLymkMCpk30RnTlG62jfQLIr5gKkf+wVY29lAWWULTM2HsMah70VSgu888bIULL4hw2pqRPhEmfiMbadmbyWzE/utqSSj2nznBVB7UvWgq0N2lLSIYhxdOWL5k+Xzq/it2mdcGAah7ZV00eQlgxvFRpNfJeyc+Bn2RK32h7sf/AesqcHB02e65AAAAAElFTkSuQmCC",alt:null!==(t=null==n?void 0:n.poweredByGoogleLogoAltText)&&void 0!==t?t:""})))))):null};ko.fragment=Oo,ko.displayName="SearchLocationQueryAttributionFragment";var Go=(0,u.J1)(At(),Ha.fragment),Ro=function(e){var t=e.data,n=e.onClick,r=t.text,l=t.accessibilityText,i=t.icon;return a.createElement(W.E,{onClick:function(e){n(e)},"aria-label":l},a.createElement(Ha,{data:i}),r)};Ro.fragment=Go,Ro.displayName="SearchLocationButton";var Lo,Po=(0,u.J1)(Ft()),Mo=(pe(Lo={},"ONE_ONE",g.E.R1_1),pe(Lo,"THREE_TWO",g.E.R3_2),pe(Lo,"THREE_FOUR",g.E.R3_4),pe(Lo,"FOUR_ONE",g.E.R4_1),pe(Lo,"FOUR_THREE",g.E.R4_3),pe(Lo,"SIXTEEN_NINE",g.E.R16_9),pe(Lo,"TWENTY_ONE_NINE",g.E.R21_9),Lo),No=function(e){var t=e.data,n=t.url,r=t.description,l=t.aspectRatio;return a.createElement(g.a,{roundcorner:["all"],ratio:l?Mo[l]:g.E.R4_3},a.createElement(g.b,{placeholderImage:!0,src:n,alt:r}))};No.fragment=Po,No.displayName="Image";var xo=(0,u.J1)(Ot(),Ha.fragment,No.fragment),Bo=function(e){var t=e.data,n=e.id;switch(t.__typename){case"Icon":return a.createElement(Ha,{uniqueId:n,data:t});case"Image":return a.createElement(No,_e(ye({},e),{data:t}));default:return null}};Bo.fragment=xo,Bo.displayName="SearchLocationGraphic";var wo=(0,u.J1)(kt(),Bo.fragment,Ro.fragment),Wo=function(e){var t=e.data,n=e.activeItemId,r=e.onClick,i=e.includeIndendation,o=void 0!==i&&i,c=e.onRemoveRecentSearch,s=e.stid,d=t.primaryText,u=t.itemAccessibilityText,m=t.secondaryText,p=t.remove,y=t.graphic,_=t.locationFullName,v=t.impressionAnalytics,E=t.regionId,g={linkName:(null==v?void 0:v.linkName)||"",referrerId:(null==v?void 0:v.referrerId)||""},f="".concat(s,"-result-item"),h="".concat(s,"-result-item-button");return a.createElement(ae.a,{spacing:"relaxed","data-stid":f,active:n===_+(E||"")},a.createElement(l.b,{margin:{inlinestart:o?"eight":void 0}},a.createElement(S.ee,ye({},g),a.createElement(ae.b,null,a.createElement("button",{"data-stid":h,onClick:function(e){r(t.locationFullName,t)},"aria-label":u,type:"button"})),a.createElement("div",null,a.createElement(D.i,null,y&&a.createElement(D.j,ye({alignSelf:"center"},"Image"===y.__typename?{maxWidth:64,minWidth:84}:{}),a.createElement("div",null,a.createElement(Bo,{id:null!=E?E:void 0,data:y}))),a.createElement(D.j,null,a.createElement(l.b,{margin:{inlinestart:"three"}},a.createElement("div",null,a.createElement(G.c,{size:300,overflow:"truncate",weight:"bold"},d),a.createElement(G.c,{size:300,overflow:"truncate"},m)))),p&&a.createElement(D.j,{alignSelf:"center",grow:1},a.createElement(D.i,{justifyContent:"end"},a.createElement(Ro,{data:p,onClick:function(e){null==c||c(e,t)}}))))))))};Wo.fragment=wo,Wo.displayName="SearchLocationBasicItem";var Uo=(0,u.J1)(Gt(),Wo.fragment),Ho=function(e){var t=e.data,n=t.item,r=t.subItems;return a.createElement(a.Fragment,null,a.createElement(Wo,_e(ye({},e),{data:n})),r.map((function(t,n){return a.createElement(Wo,_e(ye({key:n},e),{data:t,includeIndendation:!0}))})))};Ho.fragment=Uo,Ho.displayName="SearchLocationItemWithSubItems";var Vo=(0,u.J1)(Rt()),zo=(0,u.J1)(Lt(),Wo.fragment),Yo=function(e){var t=ve((0,re.n)(Vo),1)[0],n=(0,N.useLocalization)().formatText,r=ve((0,a.useState)(new Set),2),l=r[0],i=r[1],o=(0,m.R)().context,c=e.data,s=e.onRemoveRecentSearch,d=e.onRemoveRecentSearchTracking,u=e.lob,p=void 0===u?"HOTEL":u,y=e.activeItemId,_=e.onClick,v=e.stid,S=e.isDestination,E=c.item,g=c.dateRange,f=c.travelers,h=E.regionId,D=E.primaryText,T=function(){var e=me((function(e){return fe(this,(function(a){switch(a.label){case 0:if(e.preventDefault(),!h)return[2,null];i((function(e){return new Set(e).add(h)})),(0,z.liveAnnounce)(n("typeahead.custom.delete.recent.search.button.announce.a11y",D)),null==s||s(e,E),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,t({variables:{context:o,lob:p,gaiaIds:[h],isDestination:S}}).then((function(e){"SUCCESS"===e.data.searchLocationDeleteRecentSearch.status&&(null==d||d(E))}))];case 2:return a.sent(),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();return a.createElement(a.Fragment,null,h&&!l.has(h)&&a.createElement(Wo,{key:h,lob:p,stid:v,data:E,activeItemId:y,onClick:function(e,t){null==_||_(e,t,g||void 0,f||void 0)},onRemoveRecentSearch:T}))};Yo.fragment=zo,Yo.displayName="SearchLocationRecentSearch";var qo=(0,u.J1)(Pt(),Wo.fragment,Ho.fragment,Yo.fragment),jo=function(e){var t=e.data;switch(t.__typename){case"SearchLocationBasicItem":return a.createElement(Wo,_e(ye({},e),{data:t}));case"SearchLocationItemWithSubItems":return a.createElement(Ho,_e(ye({},e),{data:t}));case"SearchLocationRecentSearch":return a.createElement(Yo,_e(ye({},e),{data:t}));default:return null}};jo.fragment=qo,jo.displayName="SearchLocationItem";var $o=(0,u.J1)(Mt(),jo.fragment),Ko=function(e){var t=e.data,n=e.onClick,r=e.onRemoveRecentSearch,i=e.onRemoveRecentSearchTracking,o=e.lob,c=e.stid,s=e.activeItemId,d=e.isDestination,u=e.hideTitle,m=void 0!==u&&u,p=t.items,y=t.title;return a.createElement(l.b,{padding:{blockstart:"three"}},a.createElement("div",null,y&&!m&&a.createElement(l.b,{padding:{block:"three",inlinestart:"six"}},a.createElement("div",null,a.createElement(G.c,{overflow:"truncate",size:300,weight:"bold"},y))),p&&a.createElement(ae.E,null,p.map((function(e,t){return a.createElement(jo,{key:t,data:e,lob:o,stid:c,activeItemId:s,onClick:n,onRemoveRecentSearch:r,onRemoveRecentSearchTracking:i,isDestination:d})})))))};Ko.fragment=$o,Ko.displayName="SearchLocationGroupFragment";var Jo=function(e){var t=e.children;return t&&a.createElement(l.b,{padding:{inline:"three"}},a.createElement(D.i,{justifyContent:"center",alignContent:"center"},a.createElement(G.c,{align:"center"},a.createElement(l.b,{margin:{blockstart:"six"}},a.createElement(_.a,{name:"search",size:_.E.XLARGE})),a.createElement(l.b,{margin:{blockend:"three"}},a.createElement(G.c,{size:300},t)))))};Jo.displayName="SearchLocationPlaceholderText";var Qo=function(e){var t=e.headingText,n=e.hideHeading,r=void 0!==n&&n,i=e.searchLocationLabel,o=e.stid,c=void 0===o?"":o,s=e.values,d=e.onItemRemove,u=e.onClear,m=e.clearAllText,p=(0,N.useLocalization)(),y=null!=m?m:p.formatText("typeahead.mulselect.clearAll"),_=null!=t?t:p.formatText("typeahead.multiselect.selectedItemHeading");return a.createElement("div",null,!r&&_&&(null==s?void 0:s.length)&&s.length>0&&a.createElement(l.b,{padding:{inlinestart:"four"}},a.createElement("div",null,a.createElement(G.c,{overflow:"truncate",size:300,weight:"bold"},_))),a.createElement(l.b,{padding:{blockstart:"three",inline:"four"}},a.createElement("div",{"data-stid":c},null==s?void 0:s.map((function(e,t){return a.createElement(l.b,{key:"".concat(c,"-pill-").concat(t),margin:{block:"one"}},a.createElement(V.a,{onClick:function(){return function(e,t){(0,z.liveAnnounce)(p.formatText("typeahead.removeSelection",e)),null==d||d(t)}(e,t)},id:"".concat(c,"-pill-").concat(t)},e))})),(null==s?void 0:s.length)&&a.createElement(W.E,{onClick:function(){(0,z.liveAnnounce)(p.formatText("typeahead.clearAllSelections",i)),null==u||u()},size:I.E.SMALL},y))))};Qo.displayName="SearchLocationSelections";var Xo=function(e){var t,n=e.value,r=e.label,i=e.stid,o=void 0===i?"":i,c=e.handleClear,s=e.onItemRemove,u=e.clearAllText,p=e.selectedItemHeading,y=e.handleClose,_=e.dismissButtonText,v=e.queryResults,S=e.lineOfBusiness,E=e.onClick,g=e.emptyPlaceholderText,f=e.searchLocationContent,T=ve(a.useState(v),2),b=T[0],I=T[1],A=ve(a.useState([]),2),F=A[0],O=A[1],k=(pe(t={},d.OB.MEDIUM,{minHeight:"458px",maxHeight:"458px"}),pe(t,d.OB.LARGE,{minHeight:"458px",maxHeight:"458px"}),t),G=(0,d.s5)(k),R=(0,m.R)().context.locale;a.useEffect((function(){if(n){var e=v.flatMap((function(e){return e.items})).filter((function(e){return n.some((function(t){return e.locationFullName===t}))}));O((function(t){var n=e.filter((function(e){return!(null==t?void 0:t.some((function(t){return t.locationFullName===e.locationFullName})))}));return Ee(t).concat(Ee(n))}));var t=v.map((function(e){return _e(ye({},e),{items:e.items.filter((function(e){return!n.some((function(t){return e.locationFullName===t}))}))})}));I(t)}}),[n,v]);var L=function(e,t){var n,a,l=(null==t?void 0:t.locationFullName)||(null==t?void 0:t.primaryText)||e;E(l,t),t&&O((function(e){return Ee(e).concat([t])}));var i=b.map((function(e){return _e(ye({},e),{items:e.items.filter((function(e){return e.locationFullName!==l}))})})).filter((function(e){return e.items.length>0}));I(i);var o=i.reduce((function(e,t){return e+t.items.length}),0),c=[r,o.toString(),l],s=(null==f?void 0:f.itemSelectedAccessibility)&&"EGDSBasicLocalizedText"===f.itemSelectedAccessibility.__typename?"".concat(ia(f.itemSelectedAccessibility.template,(null===(n=f.itemSelectedAccessibility.models)||void 0===n?void 0:n[0].key)||"",l)," "):"",d=(null==f||null===(a=f.multiSelection)||void 0===a?void 0:a.showingResults)?sa({textFragment:f.multiSelection.showingResults,values:c,count:o,locale:R}):"";(0,z.liveAnnounce)("".concat(s," ").concat(d))};return a.createElement(a.Fragment,null,a.createElement(Y.E,{direction:"vertical",tabbable:!1},a.createElement(h.d,{style:ye({},G)},a.createElement(l.b,{padding:{blockstart:"one",blockend:"sixteen"}},a.createElement("div",null,n&&n.length>0&&a.createElement(Qo,{searchLocationLabel:r,values:n,stid:o,clearAllText:u,onClear:function(){I(v),null==c||c()},onItemRemove:function(e){F[e]&&(O((function(t){var n=t.filter((function(t,n){return n!==e})),a=v.map((function(e){return _e(ye({},e),{items:e.items.filter((function(e){return!n.some((function(t){return t.locationFullName===e.locationFullName}))}))})}));return I(a),n})),null==s||s(e))},headingText:p}),b.length>0?b.map((function(e,t){return a.createElement(Ko,{stid:o,key:t,lob:S,data:e,onClick:L,isDestination:!0,hideTitle:e.items.length<=0})})):a.createElement(Jo,null,g))))),a.createElement(h.d,{style:{zIndex:1,minHeight:"60px"}},a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(K.E,{type:K.a.BUTTON},a.createElement($.E,{disabled:0===(null==n?void 0:n.length),onClick:y,isFullWidth:!0},_))),a.createElement(d.zQ,null,a.createElement(l.b,{padding:"three",style:{borderTop:"1px solid #cccfdb"}},a.createElement(D.i,{justifyContent:"end"},a.createElement(D.j,null,a.createElement(C.E,{disabled:0===(null==n?void 0:n.length),onClick:y},_))))))))};Xo.displayName="SearchLocationMultiItem";var Zo=function(){return a.createElement(l.b,{margin:{block:"eight"}},a.createElement(T.b,{animation:!0,type:"primary"}))},ec=function(){return a.createElement(a.Fragment,null,Array.from({length:3}).map((function(e,t){return a.createElement(Zo,{key:t})})))};ec.displayName="SearchLocationResultsLoading";var tc=function(e){return e.GAI="GAIA",e.LCM="LCM",e.GPA="GOOGLE",e.UNKNOWN="UNKNOWN",e}(tc||{}),nc=function(e){return e.ALTERNATE="Alternate",e.CURRENTLOCATION="CurrentLocation",e.POPULAR="Popular",e.GOOGLEMAPS="Google",e.NORMAL="Normal",e.USERHISTORY="RecentHistory",e}(nc||{}),ac=["POPULAR","ALTERNATE"],rc="SearchLocation",lc={ALTERNATE:"People also searched",POPULAR:"Popular destinations"},ic=function(e){return e.map((function(e){var t,n,a,r,l;return{destination_geo_id:e.regionId,destination_geo_system:null===(t=e.analyticsInfo)||void 0===t?void 0:t.sourceName,destination_type:cc(null!==(l=e.geoType)&&void 0!==l?l:""),reason:(null===(a=e.analyticsInfo)||void 0===a||null===(n=a.relation)||void 0===n?void 0:n.length)?null===(r=e.analyticsInfo)||void 0===r?void 0:r.relation[0]:null}}))},oc=function(e,t){var n;return{recommendation_id:"Image"===(null===(n=e.graphic)||void 0===n?void 0:n.__typename)&&e.graphic.url?"".concat(e.regionId,".image"):e.regionId,recommendation_position:t.toString(),presentation_details_recommendation_name:e.primaryText}},cc=function(e){return{MULTICITY:"MULTI_CITY",MULTIREGION:"REGION",METROCODE:"REGION",TRAINSTATION:"TRAIN_STATION",METROSTATION:"METRO_STATION",BUSSTATION:"METRO_STATION",PREMISE:"LANDMARK",POI:"LANDMARK",ADDRESS:"LANDMARK",LISTING:"HOTEL"}[e]||e},sc=function(e,t){return t.findIndex((function(t){return t.regionId===e.regionId}))+1};function dc(e,t,n){var a=(n||{}).atBegin;return function(e,t,n){var a,r=n||{},l=r.noTrailing,i=void 0!==l&&l,o=r.noLeading,c=void 0!==o&&o,s=r.debounceMode,d=void 0===s?void 0:s,u=!1,m=0;function p(){a&&clearTimeout(a)}function y(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];var o=this,s=Date.now()-m;function y(){m=Date.now(),t.apply(o,r)}function _(){a=void 0}u||(c||!d||a||y(),p(),void 0===d&&s>e?c?(m=Date.now(),i||(a=setTimeout(d?_:y,e))):y():!0!==i&&(a=setTimeout(d?_:y,void 0===d?e-s:e)))}return y.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;p(),u=!n},y}(e,t,{debounceMode:!1!==(void 0!==a&&a)})}var uc="search-location-input-field",mc=(0,u.J1)(Nt(),ko.fragment,Ko.fragment),pc=1,yc={__typename:"SearchLocationBasicItem",airportCode:null,coordinates:null,geoType:null,graphic:null,locationFullName:"",itemAccessibilityText:"",primaryText:"",propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:null},_c=(0,a.forwardRef)((function(e,t){var n,r=e.debounceRate,i=e.initialSearchTerm,o=e.label,s=e.value,u=e.onClose,p=e.placeholder,y=e.handleClear,_=e.onInputChange,v=e.stid,E=e.isMulti,g=e.required,f=e.onResultItemSelect,D=e.emptyResultPlaceholder,T=e.lineOfBusiness,b=e.subLob,C=e.onItemRemove,I=e.searchLocationAnalytics,F=e.isDestination,O=void 0===F||F,k=e.dismissButtonText,G=e.clearAllText,R=e.selectedItemHeading,L=e.regionType,P=e.lastSearchLatLong,M=e.pageLocation,N=e.searchLocationContent,x=a.useRef(null),B="string"==typeof s?s:"",w=ve(a.useState(i||B||""),2),W=w[0],U=w[1],H=ve(a.useState(P),2),V=H[0],q=H[1],j=(0,m.R)().context,$=j.locale,K=ve(a.useState([]),2),J=K[0],Q=K[1],X=ve(a.useState([]),2),Z=X[0],ee=X[1],te=ve(a.useState(""),2),ae=te[0],re=te[1],le=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL?v&&"".concat(v,"-dialog-input"):v&&"".concat(v,"-menu-input"),ie=ve(a.useState({query:i||B||"",backspaceCount:0}),2),oe=ie[0],ce=ie[1],se=function(e){var t=(0,S.iQ)(),n=e.serverPayloads,r=e.inputName,l=e.lineOfBusiness,i=e.subLob,o=e.isDestination,c=null!=n?n:{},s=c.open,d=c.close,u=c.itemSelected,m=c.recommendationsPresented,p=c.recommendationSelected,y=o?"Destination":"Origin",_=function(e,t){var n={flights:{oneway:"OW",multicity:"MD",default:"RT"},packages:{fhc:"FHC",hc:"HC",fc:"FC",default:"FH"}};if(e){var a=e.toLowerCase();if(n[a]){var r=n[a][null==t?void 0:t.toLowerCase()]||n[a].default;return"".concat(e,".").concat(r)}}return e||""}(l,i),v=ve(a.useState(),2),E=v[0],g=v[1],f=ve(a.useState(),2),h=f[0],D=f[1];return{trackSearchLocationOpen:function(e,n){g(n),D(performance.now()),t({serverPayload:s,clientPayload:{event:{event_name:"search_location.opened",event_type:"Interaction",event_version:"1.0.0",event_category:rc,action_location:r},search_request:{search_query:e||""},typeahead:{search_field:y,line_of_business:_}}})},trackSearchLocationClose:function(e,n,a,l){var i=h?performance.now()-h:null;D(void 0);var o={event:{event_name:"search_location.closed",event_type:"Interaction",event_version:"1.0.0",event_category:rc,action_location:r},search_request:{search_query:e===E?"":e},typeahead:{search_field:y,backspaces_count:l,suggestion_list:n.length?ic(n):[],line_of_business:_,typeahead_selection_bool:a,focus_to_blur_time:null==i?void 0:i.toString(),characters_typed_count:e.length}};t({serverPayload:d,clientPayload:o})},trackSearchLocationSelect:function(e,n,a,l,i){var o,c,s,d,m,p={event:{event_name:"search_location.selected",event_type:"Interaction",event_version:"1.0.0",event_category:rc,action_location:r},search_request:{search_query:e===E?"":e,search_id:l},destination:{destination_full_name:n.primaryText,destination_geo_id:n.regionId,destination_geo_system:tc[null!==(d=null===(o=n.analyticsInfo)||void 0===o?void 0:o.sourceName)&&void 0!==d?d:""]||(null===(c=n.analyticsInfo)||void 0===c?void 0:c.sourceName)||"UNKNOWN",destination_type:n.geoType},typeahead:{search_field:y,backspaces_count:i,selection_depth:sc(n,a),suggestion_count:a.length,suggestion_type:nc[null!==(m=null===(s=a[0].analyticsInfo)||void 0===s?void 0:s.category)&&void 0!==m?m:""]||"Normal",suggestion_list:ic(a),line_of_business:_}};t({serverPayload:u,clientPayload:p})},trackSearchLocationRemoveRecentSearch:function(e,n){var a,l,i,o={event:{event_name:"search_location_recent_search.removed",event_type:"Interaction",event_version:"1.0.0",event_category:rc,action_location:r},destination:{destination_full_name:e.primaryText,destination_geo_id:e.regionId,destination_geo_system:tc[null!==(i=null===(a=e.analyticsInfo)||void 0===a?void 0:a.sourceName)&&void 0!==i?i:""]||(null===(l=e.analyticsInfo)||void 0===l?void 0:l.sourceName)||"UNKNOWN"},typeahead:{suggestion_type:"RecentHistory",line_of_business:_,suggestion_count:n.length,selection_depth:sc(e,n)}};t({clientPayload:o})},trackSearchLocationRecommendationPresented:function(e,n){var a=e.filter((function(e){var t,n;return ac.includes(null!==(n=null===(t=e.analyticsInfo)||void 0===t?void 0:t.category)&&void 0!==n?n:"")}));if((null==a?void 0:a.length)>0){var l,i=[],o=0;a.forEach((function(e){i.push(oc(e,o)),o+=1})),i.push();var c={event:{event_name:"recommendations_module.presented",event_type:"Impression",event_version:"2.1.0",event_category:rc,action_location:r},recommendation_module:{recommendation_title:lc[null===(l=a[0].analyticsInfo)||void 0===l?void 0:l.category],eg_recommendation_response_id:n,recommendations:i}};t({serverPayload:m,clientPayload:c})}},trackSearchLocationRecommendationSelected:function(e,n,a){var l,i;if(ac.includes(null!==(i=null===(l=e.analyticsInfo)||void 0===l?void 0:l.category)&&void 0!==i?i:"")){var o,c=sc(e,n),s=c?c-1:-1,d={event:{event_name:"recommendations_module.selected",event_type:"Interaction",event_version:"2.1.0",event_category:rc,action_location:r},recommendation_module:{recommendation_title:lc[null===(o=e.analyticsInfo)||void 0===o?void 0:o.category],eg_recommendation_response_id:a,recommendations:[oc(e,s)]}};t({serverPayload:p,clientPayload:d})}}}}({serverPayloads:I,inputName:le,lineOfBusiness:T,subLob:b,isDestination:O}),de=a.useRef(null);a.useEffect((function(){null==se||se.trackSearchLocationOpen(W,B)}),[]),(0,a.useImperativeHandle)(t,(function(){return{dismissFunction:function(e){null==se||se.trackSearchLocationClose(oe.query,Z,e,oe.backspaceCount)}}}));var ue=ve((0,A._)(mc,{onCompleted:function(e){var t,n,a,r,l,i=(null===(t=e.searchLocation)||void 0===t?void 0:t.itemsGroups)||[];Q(i),r=i,l=W,de.current&&clearTimeout(de.current),(null==r?void 0:r.length)>0&&(de.current=window.setTimeout((function(){var e=null==l?void 0:l.split(""),t=document.activeElement===x.current;if(e&&r&&t){var n="'".concat(e.join("' , '")," '"),a=r.reduce((function(e,t){return e+t.items.length}),0),i=sa({textFragment:null==N?void 0:N.resultsAvailableAccessibility,values:[n,a.toString()],count:a,locale:$});(0,z.liveAnnounce)(i)}}),1e3));var o,c,s=function(e){return e.flatMap((function(e){return(e.items||[]).flatMap((function(e){var t,n=null!==(t=e.item)&&void 0!==t?t:e,a=_e(ye({},n),{uniqueId:Fo(n)}),r=(e.subItems||[]).map((function(e){return _e(ye({},e),{uniqueId:Fo(e)})}));return[a].concat(Ee(r))}))}))}(i);(ee(s),null!==(null===(a=ge.searchLocation)||void 0===a||null===(n=a.analyticsInfo)||void 0===n?void 0:n.recommendationId))&&(null==se||se.trackSearchLocationRecommendationPresented(s,null===(c=ge.searchLocation)||void 0===c||null===(o=c.analyticsInfo)||void 0===o?void 0:o.recommendationId))}}),2),me=ue[0],pe=ue[1],Se=pe.loading,ge=pe.data,fe=function(e,t){0===e.length&&Q([]);var n=performance.now(),a=ye({searchTerm:e,lineOfBusiness:null!=T?T:"",isDestination:O,isGroundTransfersAirport:"GROUNDTRANSFERS"===T&&L===pc,pageLocation:M},t?{lastSearchLatLong:t}:{});me({variables:{context:j,searchLocationCriteria:a},fetchPolicy:""===e?"no-cache":void 0}).then((function(){var t=performance.now()-n,a=!!e,r=a?e.length:0,l=ye({duration:t},a&&{termLength:r});if(window.DD_RUM){var i="".concat("LOCATION_SEARCH_BFF_REQUEST_").concat(a?"WITH_SEARCH_TERM":"WITHOUT_SEARCH_TERM");window.DD_RUM.addAction(i,l)}}))},he=a.useMemo((function(){return r&&r>0?dc(r,(function(e,t){return fe(e,t)})):function(e,t){return fe(e,t)}}),[r]),De=function(e,t,n,a){var r,l,i,o,c=t?t.locationFullName||t.primaryText:e;(f(c,{term:c,item:null!=t?t:yc,dateRange:n,travelers:a,lineOfBusiness:null!=T?T:void 0}),t)&&(null==se||se.trackSearchLocationSelect(oe.query,t,Z,null==ge||null===(l=ge.searchLocation)||void 0===l||null===(r=l.analyticsInfo)||void 0===r?void 0:r.resultId,oe.backspaceCount),null==se||se.trackSearchLocationRecommendationSelected(t,Z,null==ge||null===(o=ge.searchLocation)||void 0===o||null===(i=o.analyticsInfo)||void 0===i?void 0:i.recommendationId));if(!E){var s,d,u,m=(null==N?void 0:N.itemSelectedAccessibility)&&"EGDSBasicLocalizedText"===N.itemSelectedAccessibility.__typename?"".concat(ia(N.itemSelectedAccessibility.template,(null===(s=N.itemSelectedAccessibility.models)||void 0===s?void 0:s[0].key)||"",c)," "):"";(0,z.liveAnnounce)("".concat(m," ").concat(null!==(u=null==N||null===(d=N.close)||void 0===d?void 0:d.accessibility)&&void 0!==u?u:"")),U(c)}},Te=function(e,t){ee((function(e){return e.filter((function(e){return e.regionId!==t.regionId}))})),null==C||C(t.regionId)},be=function(e){null==se||se.trackSearchLocationRemoveRecentSearch(e,Z)};a.useEffect((function(){requestAnimationFrame((function(){var e;null===(e=x.current)||void 0===e||e.select()})),he(W||"",V)}),[]);var Ce,Ie="drop_off_location"===v?p:o,Ae={"data-stid":le,domRef:x,hasClearButton:W.length>0,hasFloatedLabel:!1,hasVisibleLabel:!1,id:v,label:o,"aria-label":o,onChange:function(e){var t=e.target.value;void 0!==V&&q(void 0),U(t),he(t),ce((function(e){return _e(ye({},e),{query:t})})),null==_||_(t)},onKeyDown:function(e){var t=Z.findIndex((function(e){return e.uniqueId===ae}));switch(e.key){case"ArrowDown":e.preventDefault();var n=t===Z.length-1?0:t+1;re(Z[n].uniqueId);break;case"ArrowUp":e.preventDefault();var a=0===t||-1===t?Z.length-1:t-1;re(Z[a].uniqueId);break;case"Enter":if(e.preventDefault(),E)break;if(ae){var r=Z.find((function(e){return e.uniqueId===ae}));r&&De(r.locationFullName||r.primaryText,r)}else De(W,void 0);break;case"Escape":null==u||u();break;case"Backspace":ce((function(e){return _e(ye({},e),{backspaceCount:e.backspaceCount+1})}))}},placeholder:Ie,value:W,handleClear:y,required:g,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",type:"text",spellCheck:!1,clearButtonLabel:null!==(Ce=null==N||null===(n=N.clearInput)||void 0===n?void 0:n.accessibility)&&void 0!==Ce?Ce:""},Fe=Z.length>0?J.map((function(e,t){return a.createElement(Ko,{stid:v,key:t,lob:T,activeItemId:ae,data:e,onClick:De,onRemoveRecentSearch:Te,onRemoveRecentSearchTracking:be,isDestination:O})})):a.createElement(Jo,null,D);return a.createElement(a.Fragment,null,a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(c.b,{navigationContent:{navIconLabel:"Close the dialog",onClick:function(){null==u||u()},navButtonId:"".concat(v,"-close")}},a.createElement("div",{id:uc},a.createElement(ne.K,ye({},Ae))))),a.createElement(d.zQ,null,a.createElement(h.d,{type:"sticky",position:{top:"zero",zindex:"layer1"}},a.createElement("div",{id:uc},a.createElement(ne.K,ye({},Ae)))))),E&&!Se?a.createElement(Xo,{value:s,label:o,stid:v,clearAllText:G,handleClear:y,handleClose:u,dismissButtonText:k,onItemRemove:C,selectedItemHeading:R,queryResults:J,onClick:De,emptyPlaceholderText:D,lineOfBusiness:T||"CRUISES",searchLocationContent:N}):a.createElement(Y.E,{direction:"vertical",tabbable:!1},a.createElement(h.d,{style:{minHeight:"438px",maxHeight:Z.length>8?"438px":void 0}},a.createElement(a.Fragment,null,Se?a.createElement(l.b,{padding:{inlinestart:"six"}},a.createElement("div",null,a.createElement(ec,null))):Fe,(null==ge?void 0:ge.searchLocation)&&a.createElement(ko,{data:ge.searchLocation,searchLocationContent:N})))))}));_c.displayName="SearchLocationResultsQuery";var vc=a.forwardRef((function(e,t){var n=e.a11yLabel,r=e.a11yResultsAvailableSuffix,l=e.searchTerm,i=e.isExpanded,o=e.label,c=e.icon,s=e.invalid,u=e.stid,m=e.onClick,p=e.placeholder,y=e.value,_=e.required,v=e.isMulti,S=e.name,E=e.index,g=ve(a.useState(!1),2),f=g[0],h=g[1];a.useEffect((function(){h(!0)}),[]);var D,T={label:o,icon:c,placeholder:"drop_off_location"===u?p:"",required:_,"aria-label":"".concat(n," ").concat(l).concat(l?". ".concat(r):"").trim(),"aria-describedby":s&&u?"".concat(u,"-input-error"):void 0,"data-stid":"".concat(u,"-menu-trigger"),onClick:function(){null==m||m()},value:v?y.join(", "):y,invalid:s},b=(pe(D={},d.OB.SMALL,{"data-stid":"".concat(u,"-dialog-trigger")}),pe(D,d.OB.LARGE,{"aria-expanded":i}),D),C=(0,d.s5)(b);return a.createElement(a.Fragment,null,f&&a.createElement(X.g,ye(_e(ye({},T),{domRef:t}),C)),a.createElement("div",{className:f?"is-hidden":void 0},a.createElement(X.b,_e(ye({},T),{id:void 0!==E?"".concat(S,"-input-").concat(E):"".concat(S,"-input"),"data-stid":void 0,name:S,domRef:t}))))}));vc.displayName="SearchLocationTrigger";var Sc=(0,u.J1)(xt(),Wl),Ec=function(e){var t,n,r,l=e.accessibilityLabel,i=e.label,o=e.searchLocationPlaceholder,c=e.searchLocationEmptyResultPlaceholder,s=e.dismissButtonText,u=e.isMulti,m=e.onResultSelection,p=e.onUpdate,y=e.handleClear,_=e.value,v=e.id,S=e.stid,E=e.onMountCB,g=e.onClick,f=e.onDismiss,D=e.onType,T=e.resultItemImpressionTracker,b=e.required,C=e.lineOfBusiness,I=e.subLob,A=e.searchLocationAnalytics,F=e.isDestination,O=e.debounceRate,k=e.onItemRemove,G=e.regionType,R=e.lastSearchLatLong,L=e.pageLocation,P=e.searchLocationContent,M=la("search-location-dialog-".concat(v)),N=ve((0,B.useDialog)(M),3),x=N[0],w=N[1],W=N[2],H=ve(a.useState("string"==typeof _?_:""),2),V=H[0],Y=H[1],q=a.useRef(null),j=a.useRef(null),$=function(e){j.current&&j.current.dismissFunction(e)},K=function(e){null==D||D(e),Y(e)},J=function(e){var t,n,a;setTimeout((function(){var e;return null===(e=q.current)||void 0===e?void 0:e.focus()})),K(""),$(!!e),w.closeDialog();var r,l=e&&(null==P?void 0:P.itemSelectedAccessibility)&&"EGDSBasicLocalizedText"===P.itemSelectedAccessibility.__typename?"".concat(ia(P.itemSelectedAccessibility.template,(null===(n=P.itemSelectedAccessibility.models)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.key)||"",e)," "):"";(0,z.liveAnnounce)("".concat(l," ").concat(null!==(r=null==P||null===(a=P.close)||void 0===a?void 0:a.accessibility)&&void 0!==r?r:"")),null==f||f()},Q=_e(ye({},e),{label:i,onClick:function(){setTimeout((function(){w.openDialog({closeAllDialogs:!0}),null==g||g()}))},value:_,isMulti:!!u,a11yLabel:i,a11yResultsAvailableSuffix:l,searchTerm:V,isExpanded:x,placeholder:o});a.useEffect((function(){null==E||E(q)}),[]),a.useEffect((function(){Y("string"==typeof _?_:"")}),[_]);var X=a.createElement(vc,_e(ye({},Q),{ref:q})),Z={debounceRate:O,label:i,dismissButtonText:s,isMulti:u,handleClear:y,value:_,required:b,lineOfBusiness:C,subLob:I,stid:S,onItemRemove:k,onResultItemSelect:function(e,t){if(null==p||p({selectionData:t}),m){var n=document.createElement("input");setTimeout((function(){var a,r,l,i;n.value=null!==(l=null===(a=t.item)||void 0===a?void 0:a.primaryText)&&void 0!==l?l:e,n.setAttribute("id",null!==(i=null===(r=t.item)||void 0===r?void 0:r.propertyId)&&void 0!==i?i:v||"");var o=new CustomEvent("change");n.addEventListener("change",(function(e){m(e)})),n.dispatchEvent(o)}))}u||(w.closeDialog(),null==f||f(),$(!0))},placeholder:o,emptyResultPlaceholder:c,onClearAll:y,initialSearchTerm:V,onClose:J,onInputChange:K,searchLocationAnalytics:A,searchLocationContent:P,isDestination:F,regionType:G,lastSearchLatLong:R,pageLocation:L},ee=a.createElement(_c,_e(ye({},Z),{ref:j})),te=a.useMemo((function(){return{impressionWrapper:T}}),[T]);return a.createElement(Ao.Provider,{value:te},a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(a.Fragment,null,X,a.createElement(W,null,a.createElement(U.h,{isVisible:x},a.createElement(U.e,{isVisible:x,type:"full",triggerRef:q},ee))))),a.createElement(d.rw,null,a.createElement("div",null,X,a.createElement(W,null,a.createElement(U.h,{isVisible:x},a.createElement(U.e,{isVisible:x,type:"centered",triggerRef:q,centeredSheetSize:"medium"},a.createElement(U.f,{padded:!1},ee)))))),a.createElement(d.zQ,null,a.createElement(h.d,{type:"relative"},a.createElement("div",null,X,a.createElement(U.h,{isVisible:x},a.createElement(U.e,{isVisible:x,showOverTrigger:!0,disableArrowKeyHandler:!0,type:"popover",triggerRef:q,width:(null===(t=q.current)||void 0===t?void 0:t.offsetWidth)&&(null===(n=q.current)||void 0===n?void 0:n.offsetWidth)>375?null===(r=q.current)||void 0===r?void 0:r.offsetWidth:375,onDismiss:function(){null==J||J()},autoPosition:!1},a.createElement(U.f,{padded:!1},ee))))))))};Ec.displayName="SearchLocation";var gc="EGDSSearchFormLocationField",fc="".concat(gc,"-Location"),hc="".concat(gc,"-RegionId"),Dc="".concat(gc,"-AirportCode"),Tc="".concat(gc,"-Lat"),bc="".concat(gc,"-Long"),Cc="".concat(gc,"-Selected"),Ic="".concat(gc,"-AmenitiesFacilitiesGroup"),Ac="".concat(gc,"-LocGroup"),Fc="".concat(gc,"-PropertiesGoodForGroup"),Oc="".concat(gc,"-PropertyTypeGroup"),kc="".concat(gc,"-DestinationId"),Gc="".concat(gc,"-PropertyId"),Rc=("".concat(gc,"-PropertyFilter"),function(e){var t,n,r,l,o,c,s,d,u,y,_,v,E=e.egdsElementId,g=e.label,f=e.placeholder,h=e.icon,D=e.value,T=e.accessibility,b=e.errorText,C=e.required,I=e.emptyResultsPlaceholder,A=e.setFieldRefByTypename,F=e.__typename,O=e.analyticsReferrerId,k=e.categorize,G=e.allowExactMatch,R=e.listTitle,L=e.handleResultSelection,P=e.onSelection,N=e.selection,B=e.index,w=e.regionId,W=e.skipQuery,U=e.valueFromQueryParam,H=e.pinnedPropertyId,V=e.alternativeLocationLabel,z=e.propertyRefinements,Y=e.isDestination,q=e.skipReflection,j=e.onOpenLocationField,$=e.debounceRate,K=void 0===$?200:$,J=e.onDismissLocation,Q=e.searchLocationAnalytics,X=e.onType,Z=e.onClearLocation,ee=e.lineOfBusiness,te=e.subLob,ne=e.regionType,ae=e.coordinates,re=e.airportCode,le=e.lastSearchLatLong,ie=e.pageLocation,oe=e.searchLocationContent,ce=(0,i.kW)(),se=ce.state,de=ce.dispatch,ue=se.destination,me=se.origin,pe=(0,m.R)().context.siteId,Se=(0,p.useLoggerEvents)(Io),Ee=ve((null==le?void 0:le.split(","))||["",""],2),ge=Ee[0],fe=Ee[1],he=a.useMemo((function(){return!q&&Y&&ue?ue:q||Y||!me?{term:D,data:{__typename:"SearchLocationBasicItem",airportCode:null!=re?re:"",coordinates:{latitude:null!==(e=null==ae?void 0:ae.latitude)&&void 0!==e?e:parseFloat(ge),longitude:null!==(t=null==ae?void 0:ae.longitude)&&void 0!==t?t:parseFloat(fe),__typename:"Coordinates"},geoType:null,graphic:null,locationFullName:D,itemAccessibilityText:"Select ".concat(D),primaryText:D,propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:w}}:me;var e,t}),[D,w,H,Y]),De=ve(a.useState(),2),Te=De[0],be=De[1],Ce=ve(a.useState(he),2),Ie=Ce[0],Ae=Ce[1],Fe=ve(a.useState(Ie.term&&V?V:g),2),Oe=Fe[0],ke=Fe[1];a.useEffect((function(){var e=parseFloat(ge),t=parseFloat(fe),n=Number.isNaN(e)?null==ae?void 0:ae.latitude:e,a=Number.isNaN(t)?null==ae?void 0:ae.longitude:t;n&&a&&be({latitude:n,longitude:a})}),[ge,fe,ae]),a.useEffect((function(){null==he.term||W||Ae(he)}),[he,W]),a.useEffect((function(){q||Y||!me||Ae(me),!q&&Y&&ue&&Ae(ue)}),[q,me,ue]);var Ge=a.useCallback((function(e){return A(F,e)}),[A,F]);a.useEffect((function(){void 0!==(null==N?void 0:N.term)&&N.term!==Ie.term&&Ae(N),U&&U!==Ie.term&&(Ae((function(e){return _e(ye({},e),{term:U})})),P&&P({data:Ie.data,term:U}))}),[N,U]);var Re,Le=null===(t=Ie.data)||void 0===t?void 0:t.regionId,Pe=null!==(Re=null===(n=Ie.data)||void 0===n?void 0:n.airportCode)&&void 0!==Re?Re:"",Me=Ie!==he||me||ue?"":H,Ne=(null===(r=Ie.data)||void 0===r?void 0:r.propertyId)||null,xe=a.useCallback((function(e){var t=e.payload.locationValue;if(Y&&"string"==typeof t){var n={term:t,data:yc};Ae((function(e){var t;return(null===(t=e.data)||void 0===t?void 0:t.locationFullName)===n.term?e:n}))}}),[Y]);(0,M._H)("SEARCH_FORM_LOCATION_FIELD_UPDATE",x.tk,{onSuccess:xe,onError:function(e){console.error("Error receiving SEARCH_FORM_LOCATION_FIELD_UPDATE signal:",e)}});var Be="".concat(E).concat(Number.isInteger(B)?"-".concat(B):""),we=(null===(l=Ie.data)||void 0===l?void 0:l.locationFullName)&&!U?Ie.data.locationFullName:Ie.term,We=Ie.data&&Le||"",Ue=Ie.data&&Le||"",He=a.memo((function(e){var t=e.children,n=e.linkNameSuffix,r=e.referrerIdSuffix;return a.createElement(S.ee,{linkName:"Location result impression - ".concat(n),referrerId:"".concat(O,".").concat(r)},t)})),Ve={onType:X,index:null!=B?B:void 0,id:"".concat(E).concat(null!=B?B:""),name:E,label:Oe,searchLocationPlaceholder:f,icon:h,value:we,onUpdate:function(e){var t,n,a,r,l,i=null!==(t=e.selectionData.term)&&void 0!==t?t:"";(Ae({term:e.selectionData.term,data:null!==(n=e.selectionData.item)&&void 0!==n?n:he.data}),ke(i&&V?V:g),P&&P({term:e.selectionData.term,data:_e(ye({},e.selectionData.item),{dateRange:e.selectionData.dateRange,travelers:e.selectionData.travelers,lineOfBusiness:e.selectionData.lineOfBusiness})}),i||null==Z||Z(),q)||(de({type:Y?"UPDATE_DESTINATION":"UPDATE_ORIGIN",location:{term:e.selectionData.term,data:e.selectionData.item}}),(e.selectionData.dateRange||e.selectionData.travelers)&&(e.selectionData.travelers&&"rooms"in e.selectionData.travelers?a={rooms:e.selectionData.travelers.rooms.map((function(e){return{adults:e.adults,childrenAges:e.childrenAges,pets:e.pets}}))}:e.selectionData.travelers&&(a={adults:e.selectionData.travelers.adults,childrenAges:e.selectionData.travelers.childrenAges,pets:e.selectionData.travelers.pets}),de({type:"UPDATE_DATES_AND_TRAVELERS",travelers:{locationFullName:e.selectionData.term,dateRange:null!==(r=e.selectionData.dateRange)&&void 0!==r?r:void 0,travelers:a,lob:null!==(l=e.selectionData.lineOfBusiness)&&void 0!==l?l:void 0}})))},handleClear:function(){P&&P({term:"",data:yc}),Ae({term:"",data:yc}),ke(g),null==Z||Z()},stid:E,accessibilityLabel:T,onClick:function(){j&&j({isDestination:Y,lineOfBusiness:null!=ee?ee:"",subLineOfBusiness:null!=te?te:""})},onMountCB:Ge,invalid:b,required:C,searchLocationEmptyResultPlaceholder:I,onResultSelection:L,categorize:k,allowExactMatch:G,listTitle:R,onDismiss:function(){J&&J(Ie)},debounceRate:K,resultItemImpressionTracker:He,resultsRequestDurationTimeCallback:function(e,t){Se.SEARCH_LOCATION_TYPEAHEAD_DURATION.log(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JSON.stringify(e).replaceAll(":","=").replaceAll('"',"")}({withSearchTerm:t,siteId:pe,duration:e.toFixed(0),lob:ee}))},lineOfBusiness:ee,subLob:te,searchLocationAnalytics:Q,searchLocationContent:oe,isDestination:Y,regionType:ne,lastSearchLatLong:Te,pageLocation:ie};return a.createElement(a.Fragment,null,a.createElement("div",{"data-stid":"search-location"},a.createElement(Ec,ye({},Ve))),a.createElement("input",{type:"hidden","data-stid":fc,name:"".concat(fc,"-").concat(Be),value:we}),We&&a.createElement("input",{type:"hidden","data-stid":hc,name:"".concat(hc,"-").concat(Be),value:We}),a.createElement("input",{type:"hidden","data-stid":Dc,name:"".concat(Dc,"-").concat(Be),value:Pe}),a.createElement("input",{type:"hidden","data-stid":Tc,name:"".concat(Tc,"-").concat(Be),value:(null===(c=Ie.data)||void 0===c||null===(o=c.coordinates)||void 0===o?void 0:o.latitude)?null===(d=Ie.data)||void 0===d||null===(s=d.coordinates)||void 0===s?void 0:s.latitude.toString():""}),a.createElement("input",{type:"hidden","data-stid":bc,name:"".concat(bc,"-").concat(Be),value:(null===(y=Ie.data)||void 0===y||null===(u=y.coordinates)||void 0===u?void 0:u.longitude)?null===(v=Ie.data)||void 0===v||null===(_=v.coordinates)||void 0===_?void 0:_.longitude.toString():""}),Ne&&a.createElement("input",{type:"hidden","data-stid":Gc,name:"".concat(Gc,"-").concat(Be),value:Ne}),a.createElement("input",{type:"hidden","data-stid":Cc,name:"".concat(Cc,"-").concat(Be),value:null!=Ne?Ne:Me}),(null==z?void 0:z.amenitiesFacilitiesGroup)&&a.createElement("input",{type:"hidden","data-stid":Ic,name:"".concat(Ic,"-").concat(Be),value:null==z?void 0:z.amenitiesFacilitiesGroup}),(null==z?void 0:z.locationGroup)&&a.createElement("input",{type:"hidden","data-stid":Ac,name:"".concat(Ac,"-").concat(Be),value:null==z?void 0:z.locationGroup}),(null==z?void 0:z.propertiesGoodForGroup)&&a.createElement("input",{type:"hidden","data-stid":Fc,name:"".concat(Fc,"-").concat(Be),value:null==z?void 0:z.propertiesGoodForGroup}),(null==z?void 0:z.propertyTypeGroup)&&a.createElement("input",{type:"hidden","data-stid":Oc,name:"".concat(Oc,"-").concat(Be),value:null==z?void 0:z.propertyTypeGroup}),Ue&&a.createElement("input",{type:"hidden","data-stid":kc,name:"".concat(kc,"-").concat(Be),value:Ue}))}),Lc="EGDSSearchFormLocationField",Pc="".concat(Lc,"-Location"),Mc="".concat(Lc,"-RegionId"),Nc="".concat(Lc,"-AirportCode"),xc="".concat(Lc,"-Lat"),Bc="".concat(Lc,"-Long"),wc="".concat(Lc,"-Values"),Wc=function(e){var t=e.egdsElementId,n=e.label,r=e.placeholder,l=e.icon,i=e.multiLocations,o=e.errorText,c=e.required,s=e.emptyResultsPlaceholder,d=e.setFieldRefByTypename,u=e.__typename,m=e.categorize,p=e.allowExactMatch,y=e.listTitle,_=e.selectedItemHeading,v=e.clearAllText,S=e.dismissButtonText,E=e.handleResultSelection,g=e.onMultiSelectItemRemove,f=e.onMultiSelectClearAll,h=e.searchLocationAnalytics,D=e.searchLocationContent,T=e.lineOfBusiness,b=e.subLob,C=e.debounceRate,I=e.pageLocation,A=i.map((function(e){var t,n;return{term:e.text,data:{__typename:"SearchLocationBasicItem",airportCode:"",coordinates:null,geoType:null,graphic:null,locationFullName:null!==(t=e.value)&&void 0!==t?t:e.text,itemAccessibilityText:"",primaryText:null!==(n=e.value)&&void 0!==n?n:e.text,propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:null}}})),F=ve(a.useState(A),2),O=F[0],k=F[1],G=ve(a.useState(!1),2),R=G[0],L=G[1];a.useEffect((function(){R&&(L(!1),Na(O.map((function(e){return e.term})).join(", "),E))}),[R,O,E]);var P=a.useCallback((function(e){return d(u,e)}),[d,u]),M=O.map((function(e){return e.term})).join(","),N=O.map((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.regionId})).join(","),x=O.map((function(e){var t,n;return null===(n=e.data)||void 0===n||null===(t=n.coordinates)||void 0===t?void 0:t.latitude})).join(","),B=O.map((function(e){var t,n;return null===(n=e.data)||void 0===n||null===(t=n.coordinates)||void 0===t?void 0:t.longitude})).join(","),w=O.map((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.airportCode})).join(","),W=O.map((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.regionId})).join(","),U=n.concat(",").concat(M);return a.createElement(a.Fragment,null,a.createElement("div",{"data-stid":"search-location"},a.createElement(Ec,{id:t,name:t,label:n,searchLocationPlaceholder:r,icon:l,value:O.map((function(e){return e.term})),onUpdate:function(e){!O.some((function(t){return t.data===e.selectionData.item&&t.term===e.selectionData.term}))&&e.selectionData&&k((function(t){return Ee(t).concat([{term:e.selectionData.term,data:e.selectionData.item}])}))},stid:t,accessibilityLabel:U,onMountCB:P,invalid:o,required:c,searchLocationEmptyResultPlaceholder:s,handleClear:function(){k([]),null==f||f(t)},onItemRemove:function(e){(null==O?void 0:O.length)>0&&(k((function(t){return t.filter((function(t,n){return n!==e}))})),null==g||g(O[e],t))},onDismiss:function(){L(!0)},categorize:m,allowExactMatch:p,listTitle:y,selectedItemHeading:_,clearAllText:v,dismissButtonText:S,isMulti:!0,searchLocationAnalytics:h,debounceRate:C,lineOfBusiness:T,subLob:b,pageLocation:I,searchLocationContent:D})),a.createElement("input",{type:"hidden","data-stid":Pc,name:"".concat(Pc,"-").concat(t),value:M}),a.createElement("input",{type:"hidden","data-stid":Mc,name:"".concat(Mc,"-").concat(t),value:N}),a.createElement("input",{type:"hidden","data-stid":Nc,name:"".concat(Nc,"-").concat(t),value:w}),a.createElement("input",{type:"hidden","data-stid":xc,name:"".concat(xc,"-").concat(t),value:x}),a.createElement("input",{type:"hidden","data-stid":Bc,name:"".concat(Bc,"-").concat(t),value:B}),a.createElement("input",{type:"hidden","data-stid":wc,name:"".concat(wc,"-").concat(t),value:W}))},Uc=(0,u.J1)(Bt()),Hc="EGDSSearchFormLocationField",Vc=function(e){var t,n,r,l,i=e.fieldError,o=e.data,c=e.onMultiSelectItemRemove,s=e.onMultiSelectClearAll,d=e.locationsErrorText,u=e.lastSearchLatLong,m=e.pinnedPropertyId,p=e.alternativeLocationLabel,y=e.propertyRefinements,_=e.skipReflection,v=e.onLocationsSelection,S=e.onDismissLocation,E=e.pageLocation,g=o.__typename,f=o.label,h=o.action,D=o.placeholder,T=o.leftIcon,C=o.egdsElementId,I=o.value,A=o.errorMessage,F=o.multiLocations,O=o.closeAnalytics,k=o.changeAnalytics,G=o.regionId,R=o.debounceRate,L=o.validations,P=o.coordinates,M=o.airportCode,N=(null==i||null===(t=i.validations)||void 0===t?void 0:t.sameLocationSelected)&&L&&"origin_select"===C?null===(n=L.find((function(e){return"EGDSSameValueInputValidation"===e.__typename})))||void 0===n?void 0:n.errorMessage:null,x=null!==(l=null!==(r=null!=N?N:d)&&void 0!==r?r:A)&&void 0!==l?l:"",B=(0,b.u)(C,(function(e){return e}));if("OpenTypeaheadAction"!==(null==h?void 0:h.__typename))return null;var w,W=h.analytics,U=h.accessibility,H=h.emptyResultsPlaceholder,V=h.allowExactMatch,z=h.categorize,Y=h.listTitle,q=h.selectedItemHeading,j=h.clearAllText,$=h.dismissButtonText,K=h.info,J=K.isDestination,Q=K.lineOfBusiness,X=K.regionType,Z=K.isMultiLocation,ee=K.subLob,te=_e(ye({},e),{egdsElementId:C,categorize:!!z,allowExactMatch:V,listTitle:Y,handleResultSelection:B,label:null!=f?f:"",placeholder:null!=D?D:"",icon:null!==(w=null==T?void 0:T.title)&&void 0!==w?w:"place",accessibility:null!=U?U:"",errorText:i?x:"",required:!1,emptyResultsPlaceholder:null!=H?H:"",analyticsLinkName:W.linkName,analyticsReferrerId:W.referrerId,closeAnalyticsLinkName:null==O?void 0:O.linkName,closeAnalyticsReferrerId:null==O?void 0:O.referrerId,changeAnalyticsLinkName:null==k?void 0:k.linkName,changeAnalyticsReferrerId:null==k?void 0:k.referrerId,selectedItemHeading:null!=q?q:"",dismissButtonText:null!=$?$:"",__typename:g,regionId:G,isDestination:J,regionType:X,debounceRate:null!=R?R:void 0,lineOfBusiness:Q,subLob:ee,coordinates:P,airportCode:M,lastSearchLatLong:u,pageLocation:E});return Z?a.createElement(Wc,_e(ye({},te),{multiLocations:null!=F?F:[],clearAllText:null!=j?j:"",onMultiSelectItemRemove:c,onMultiSelectClearAll:s,onLocationsSelection:v})):a.createElement(Rc,_e(ye({},te),{value:null!=I?I:"",pinnedPropertyId:null!=m?m:"",alternativeLocationLabel:p,propertyRefinements:y,skipReflection:_,onDismissLocation:S}))};Vc.displayName=Hc,Vc.fragment=_e(ye({},Uc),{__typename:Hc});var zc=(0,u.J1)(wt(),yl.fragment),Yc=function(e){var t=e.isSticky,n=e.children;return t?a.createElement(Gn,null,n):a.createElement("div",null,n)},qc=function(e){var t=e.data,n=e.children,l=e.stickyPlayback,i=e.display,o=e.onDisplayToggle,c=t.primary,s=t.secondaries,d=t.showAction,u=t.closeButton,m=(0,S.KY)();if("EGDSShowSearchFormAction"!==d.__typename||u&&"UITertiaryButton"!==u.__typename)return null;var p,y=d.accessibility,v=d.analytics,E=d.icon,g=_.E[null!==(p=E.size)&&void 0!==p?p:"SMALL"],h=[c.text].concat(Ee(s.map((function(e){return"EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)?e.accessibilityTemplate:"EGDSCardinalLocalizedText"===(null==e?void 0:e.__typename)?e.accessibilityText:"EGDSPlainText"===(null==e?void 0:e.__typename)?null!==(t=e.accessibility)&&void 0!==t?t:e.text:"";var t}))),[y]).join(", ");return a.createElement(Yc,{isSticky:l},i&&a.createElement(r.i,{border:!0,padded:!0},a.createElement(f.E,{space:"three",columns:[(0,f.e)("0x","1fr"),"min-content"],alignItems:"center"},a.createElement(f.a,null,a.createElement("div",null,a.createElement(G.E,{size:6,tag:"h2",overflow:"truncate"},c.text),a.createElement(f.E,{columns:[(0,f.R)(s.length,"max-content")],space:"six"},s.map((function(e,t){return e&&"EGDSBasicLocalizedText"===e.__typename||e&&"EGDSCardinalLocalizedText"===e.__typename?a.createElement(f.a,{key:"secondary-".concat(t)},a.createElement(G.c,{size:200,overflow:"truncate"},a.createElement("span",{"aria-hidden":"true"},e.text))):a.createElement(f.a,{key:"secondary-".concat(t)},a.createElement(G.c,{size:200,overflow:"truncate"},e&&"EGDSPlainText"===e.__typename?e.text:""))}))))),a.createElement(f.a,null,a.createElement(_.a,{id:E.id,name:E.id,size:g}))),a.createElement(r.q,null,a.createElement("button",{type:"button",onClick:function(){o(!1),m(v.referrerId,v.linkName)},"aria-label":h}))),a.createElement(D.i,{style:{display:i?"none":""},space:"three",direction:"column",className:i?"is-visually-hidden is-hidden":""},n,!i&&u&&a.createElement(yl,{onClick:function(){o(!0);var e=null==u?void 0:u.analytics;if(e){var t=e.referrerId,n=e.linkName;m(t,n)}},isFullWidth:!0,size:I.E.MEDIUM,data:u})))};qc.fragment=zc,qc.displayName="EGDSSearchPlayback";var jc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"==typeof e&&e.includes("-")?new Date("".concat(e,"T00:00:00")):new Date(new Date(e).setDate(new Date(e).getDate()+t))},$c=function(e,t){return e.fieldsWithErrors.find((function(e){return e.__typename===t}))},Kc=function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").replace(/-\d+$/,"");return null!==(t={"origin_select-input":"".concat(e,"Origin"),"destination_select-input":"".concat(e,"Destination"),"pick_up_location-input":"".concat(e,"PickUp"),"drop_off_location-input":"".concat(e,"DropOff"),"airport_location-input":"".concat(e,"Airport"),"hotel_location-input":"".concat(e,"Hotel"),"partial_date-input":"".concat(e,"PartialStay")}[n])&&void 0!==t?t:e},Jc=function(e,t){var n,a=null!==(n=e.value)&&void 0!==n?n:"",r=""===a;if(t&&!r){var l=t.value===a;return{__typename:Kc("EGDSSearchFormLocationField",null==e?void 0:e.id),isValid:!l,validations:{sameLocationSelected:l}}}return{__typename:Kc("EGDSSearchFormLocationField",null==e?void 0:e.id),isValid:!r}},Qc=function(e,t,n,a){var r=null==e?void 0:e.value,l=null==t?void 0:t.value,i=jc(null!=r?r:""),o=jc(null!=l?l:""),c=n.validateWhenEmpty&&(!r||!l),s=0!==n.maxNumberOfDaysSelected&&o>=jc(i,n.maxNumberOfDaysSelected),d=i.getTime()===o.getTime(),u=o<i,m=n.allowSameDateSelect,p=!s&&(m||!d)&&!u&&!c;return{__typename:Kc("EGDSSearchFormDatePickerField",null!=a?a:null==e?void 0:e.id),isValid:p,validations:{maxDate:s,sameDate:d,endDateBeforeStartDate:u,emptyDate:c}}},Xc=function(e){var t=parseInt(e.substr(0,2),10),n=parseInt(e.substr(2,2),10);return e.includes("PM")&&12!==t&&(t+=12),e.includes("AM")&&12===t&&(t-=12),{hours:t,minutes:n}},Zc=function(e){if(!e||void 0===e.totalTravelers)return{__typename:"EGDSSearchFormTravelersField",isValid:!0};var t=e.totalTravelers<=e.config.maxTotalTravelers;return{__typename:"EGDSSearchFormTravelersField",isValid:t,validations:{maxTotalTravelers:!t}}},es=function(e){var t,n,a,r,l,i,o,c,s,d,u,m,p,y,_,v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],S=e.location,E=e.dates,g=e.age,f=e.time,h=e.travelers,D=E.startDateInput,T=E.endDateInput,b=E.partialStayStartDateInput,C=E.partialStayEndDateInput,I=E.softPackagesStartDateInput,A=E.softPackageEndDateInput,F=E.config,O=S.origin?[Jc(S.origin,v&&null!==(t=S.destination)&&void 0!==t?t:null),Qc(D,T,F)]:[Qc(D,T,F)];if(S.destination&&O.push(function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null!==(n=t.value)&&void 0!==n?n:"",l=""===r,i=!l,o=!1;return a||(o=!!e&&!l&&e.value===r,i=!l&&!o),{__typename:Kc("EGDSSearchFormLocationField",null==t?void 0:t.id),isValid:i,validations:{sameLocationSelected:o}}}(S.origin,S.destination,v)),g&&O.push(function(e){var t,n=e||{},a=n.ageInput,r=n.config,l=null!==(t=a.value)&&void 0!==t?t:"",i=""===l,o=parseInt(l,10),c=!(o&&(null==r?void 0:r.min)&&(null==r?void 0:r.max))||o>=(null==r?void 0:r.min)&&o<=(null==r?void 0:r.max),s=!i&&c;return{__typename:Kc("EGDSNumberInputField",null==a?void 0:a.id),isValid:s,validations:{ageRange:!i&&!c}}}(g)),f){var k,G;jc(null!==(G=E.startDateInput.value)&&void 0!==G?G:""),null==f||null===(k=f.pickup)||void 0===k||k.value;O.push({__typename:"EGDSBasicSelectPickUp",isValid:!0},function(e,t,n){var a,r,l=n.startDateInput,i=n.endDateInput,o=jc(null!==(a=null==l?void 0:l.value)&&void 0!==a?a:""),c=jc(null!==(r=null==i?void 0:i.value)&&void 0!==r?r:""),s=null==e?void 0:e.value,d=null==t?void 0:t.value;if(!s||!d)return{__typename:"EGDSBasicSelectDropOff",isValid:!0};var u=Xc(s);o.setHours(u.hours,u.minutes);var m=Xc(d);c.setHours(m.hours,m.minutes);var p=c>o;return o.setTime(o.getTime()+72e5),{__typename:"EGDSBasicSelectDropOff",isValid:p&&c>=o}}(f.pickup,f.dropOff,E))}if(C&&b){var R=Qc(b,C,F,"partial_date-input"),L=(a={startDate:D,endDate:T},m=jc(null!==(c=null===(r=(n={startDate:b,endDate:C}).startDate)||void 0===r?void 0:r.value)&&void 0!==c?c:""),p=jc(null!==(s=null===(l=n.endDate)||void 0===l?void 0:l.value)&&void 0!==s?s:""),y=jc(null!==(d=null===(i=a.startDate)||void 0===i?void 0:i.value)&&void 0!==d?d:""),_=jc(null!==(u=null===(o=a.endDate)||void 0===o?void 0:o.value)&&void 0!==u?u:""),m<y||p>_);O.push(_e(ye({},R),{isValid:R.isValid&&!L,validations:_e(ye({},R.validations),{dateOutsideTripRange:L})}))}if(I&&A){var P,M,N,x,B=jc(null!==(P=null==I?void 0:I.value)&&void 0!==P?P:"")<jc(null!==(M=null==D?void 0:D.value)&&void 0!==M?M:"")||!!T&&jc(null!==(N=null==A?void 0:A.value)&&void 0!==N?N:"")>jc(null!==(x=null==T?void 0:T.value)&&void 0!==x?x:"");O.push({__typename:Kc("EGDSSearchFormDatePickerFieldSoftPackages","soft_packages_date_form_field"),isValid:!B,validations:{dateOutsideTripRange:B}})}return h&&O.push(Zc(h)),O.filter((function(e){return!e.isValid}))},ts=function(e){var t,n=e.location,a=e.dates,r=e.travelers,l=a.startDateInput,i=a.endDateInput,o=a.config,c=[];n.origin&&n.origin.map((function(e,t){return{__typename:"".concat(Kc("EGDSSearchFormLocationField",null==e?void 0:e.id),"-leg").concat(t),isValid:""!==(null==e?void 0:e.value)}})).forEach((function(e){return c.push(e)}));n.destination&&(null===(t=n.origin)||void 0===t||t.forEach((function(e,t){var a,r=null===(a=n.destination)||void 0===a?void 0:a[t];c.push(function(e,t,n){var a,r=null!==(a=t.value)&&void 0!==a?a:"",l=""===r,i=!!e&&!l&&e.value===r,o=!l&&!i;return{__typename:"".concat(Kc("EGDSSearchFormLocationField",null==t?void 0:t.id),"-leg").concat(n),isValid:o,validations:{sameLocationSelected:i}}}(e,r,t))})));return a&&c.push(Qc(l,i,o)),r&&c.push(Zc(r)),c.filter((function(e){return!e.isValid}))},ns=function(e){return function(t){return t.getAttribute("name")===e}},as=function(e){return t=e,(null!=(n=HTMLInputElement)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n)&&(/^null-\d+$/.test(e.id)||e.id.includes("traveler_selector_"));var t,n},rs=function(e){return e.reduce((function(e,t){return as(t)?e+(n=parseFloat(t.value),Number.isNaN(n)?0:n):e;var n}),0)},ls=function(e){return e.AIRPORT="airport_location",e.HOTEL="hotel_location",e.SINGLE_DATE_PICKER_START_DATE="EGDSSingleDatePicker-StartDate",e.DATE_RANGE_PICKER="EGDSDateRangePicker",e.BASIC_TRAVELER_SELECTOR="EGDSBasicTravelerSelector",e}(ls||{}),is=function(e){var t=e.day,n=e.month,a=e.year,r=t<10?"0".concat(t):t,l=n<10?"0".concat(n):n;return"".concat(a,"-").concat(l,"-").concat(r)},os=function(e){var t=e.hour,n=e.minute;return"".concat(t<10?"0":"").concat(t,":").concat(n<10?"0":"").concat(n)},cs=function(e){var t,n,a;if(!e)return{};var r=e[0];return"AIRPORT"===(null==r||null===(t=r.destination)||void 0===t?void 0:t.type)?(a=null==r?void 0:r.destination,n=null==r?void 0:r.origin):(a=null==r?void 0:r.origin,n=null==r?void 0:r.destination),{airport:a,hotel:n}},ss="hotel_location",ds="airport_location",us=function(e,t,n,a,r,l){var i,o,c,s,d=Ee(e);return d[t]=_e(ye({},null!==(o=d[t])&&void 0!==o?o:{}),pe({},n,_e(ye({},null!==(c=null===(i=d[t])||void 0===i?void 0:i[n])&&void 0!==c?c:{}),(pe(s={},a,r),pe(s,"type",l),s)))),d},ms=function(e,t){var n,a=t.name,r=t.value,l=e.primarySearchCriteria,i=(e.secondaryCriteria,null!==(n=l.groundTransportation)&&void 0!==n?n:{dateRange:{},locations:[{type:"AIRPORT"},{type:"PROPERTY"}],direction:"FROM_AIRPORT",travelerDetails:[],journeyCriteria:[]});if(a.startsWith(Dc)&&a.includes(ds)){var o=function(e,t){var n,a,r=Ee(null!==(n=null==e?void 0:e.locations)&&void 0!==n?n:[]);r[0]=_e(ye({},r[0]),{id:t});var l=Ee(null!==(a=null==e?void 0:e.journeyCriteria)&&void 0!==a?a:[]),i="TO_AIRPORT"===(null==e?void 0:e.direction)?"destination":"origin";return l=us(l,0,i,"id",t,"AIRPORT"),"ROUNDTRIP"===(null==e?void 0:e.direction)&&(l=us(l,1,"destination","id",t,"AIRPORT")),_e(ye({},e),{locations:r,journeyCriteria:l})}(i,r);return _e(ye({},e),{primarySearchCriteria:_e(ye({},l),{groundTransportation:o})})}if(a.startsWith(hc)&&a.includes(ds))return _e(ye({},e),{regionId:r});if(a.startsWith(Cc)&&a.includes(ss)){var c=function(e,t){var n,a,r=Ee(null!==(n=null==e?void 0:e.locations)&&void 0!==n?n:[]);r[1]=_e(ye({},r[1]),{id:t});var l=Ee(null!==(a=null==e?void 0:e.journeyCriteria)&&void 0!==a?a:[]),i="TO_AIRPORT"===(null==e?void 0:e.direction)?"origin":"destination";return l=us(l,0,i,"id",t,"PROPERTY"),"ROUNDTRIP"===(null==e?void 0:e.direction)&&(l=us(l,1,"origin","id",t,"PROPERTY")),_e(ye({},e),{locations:r,journeyCriteria:l})}(i,r);return _e(ye({},e),{primarySearchCriteria:_e(ye({},l),{groundTransportation:c})})}if(a.startsWith(fc)&&(a.includes(ds)||a.includes(ss))){var s=function(e,t,n){var a,r,l,i,o,c=Ee(null!==(a=null==e?void 0:e.locations)&&void 0!==a?a:[]),s=Ee(null!==(r=null==e?void 0:e.journeyCriteria)&&void 0!==r?r:[]);return n.includes(ds)&&(c[0]=_e(ye({},c[0]),{name:t}),l="TO_AIRPORT"===(null==e?void 0:e.direction)?"destination":"origin",i="destination",o="AIRPORT"),n.includes(ss)&&(c[1]=_e(ye({},c[1]),{name:t}),l="TO_AIRPORT"===(null==e?void 0:e.direction)?"origin":"destination",i="origin",o="PROPERTY"),l&&i&&o&&c&&(s=us(s,0,l,"name",t,o),"ROUNDTRIP"===(null==e?void 0:e.direction)&&(s=us(s,1,i,"name",t,o))),_e(ye({},e),{locations:c,journeyCriteria:s})}(i,r,a);return _e(ye({},e),{primarySearchCriteria:_e(ye({},l),{groundTransportation:s})})}if(a.startsWith(Tc)||a.startsWith(bc)){var d=function(e,t,n){var a,r,l,i,o,c,s,d,u,m,p,y=n.includes(ss),_=y?1:0,v=n.startsWith("".concat(Tc)),S=Ee(null!==(d=null==e?void 0:e.locations)&&void 0!==d?d:[]),E=v?Number(t):null!==(u=null===(r=S[_])||void 0===r||null===(a=r.coordinates)||void 0===a?void 0:a.latitude)&&void 0!==u?u:200,g=v?null!==(m=null===(i=S[_])||void 0===i||null===(l=i.coordinates)||void 0===l?void 0:l.longitude)&&void 0!==m?m:200:Number(t);S[_]=_e(ye({},S[_]),{coordinates:{latitude:E,longitude:g}});var f,h,D,T,b,C,I,A,F,O=Ee(null!==(p=null==e?void 0:e.journeyCriteria)&&void 0!==p?p:[]),k=y&&"TO_AIRPORT"!==(null==e?void 0:e.direction)||!y&&"TO_AIRPORT"===(null==e?void 0:e.direction)?"destination":"origin",G="origin"===k?"destination":"origin",R="coordinates",L=v?"latitude":"longitude";return O[0]=_e(ye({},null!==(f=O[0])&&void 0!==f?f:{}),pe({},k,_e(ye({},null!==(h=null===(o=O[0])||void 0===o?void 0:o[k])&&void 0!==h?h:{}),pe({},R,_e(ye({},null!==(D=null===(s=O[0])||void 0===s||null===(c=s[k])||void 0===c?void 0:c[R])&&void 0!==D?D:{}),pe({},L,Number(t))))))),"ROUNDTRIP"===(null==e?void 0:e.direction)&&(O[1]=_e(ye({},null!==(I=O[1])&&void 0!==I?I:{}),pe({},G,_e(ye({},null!==(A=null===(T=O[1])||void 0===T?void 0:T[G])&&void 0!==A?A:{}),pe({},R,_e(ye({},null!==(F=null===(C=O[1])||void 0===C||null===(b=C[G])||void 0===b?void 0:b[R])&&void 0!==F?F:{}),pe({},L,Number(t)))))))),_e(ye({},e),{locations:S,journeyCriteria:O})}(i,r,a);return _e(ye({},e),{primarySearchCriteria:_e(ye({},l),{groundTransportation:d})})}if(a.startsWith(il)){var u=function(e,t){var n,a,r=ve(t.split("-").map((function(e){return Number(e)})),3),l=r[0],i=r[1],o=r[2],c=ye({},null==e?void 0:e.dateRange);null===c.start||void 0===c.start?c.start={day:o,month:i,year:l,hour:10,minute:30,second:0}:c.start=_e(ye({},c.start),{day:o,month:i,year:l});var s,d,u=Ee(null!==(a=null==e?void 0:e.journeyCriteria)&&void 0!==a?a:[]);return u[0]=_e(ye({},null!==(s=u[0])&&void 0!==s?s:{}),{dateTime:_e(ye({},null!==(d=null===(n=u[0])||void 0===n?void 0:n.dateTime)&&void 0!==d?d:{}),{day:o,month:i,year:l})}),_e(ye({},e),{dateRange:c,journeyCriteria:u})}(i,r);return _e(ye({},e),{primarySearchCriteria:_e(ye({},l),{groundTransportation:u})})}if(a.startsWith(al.START_DATE_NAME_PREFIX)||a.startsWith(al.END_DATE_NAME_PREFIX)){var m=function(e,t,n){var a,r,l=n.includes(al.START_DATE_NAME_PREFIX)?"start":"end",i=ve(t.split("-").map((function(e){return Number(e)})),3),o=i[0],c=i[1],s=i[2],d=ye({},null==e?void 0:e.dateRange);null===d.start||void 0===d[l]?d[l]={day:s,month:c,year:o,hour:10,minute:30,second:0}:(d[l].day=s,d[l].month=c,d[l].year=o);var u,m,p=Ee(null!==(r=null==e?void 0:e.journeyCriteria)&&void 0!==r?r:[]),y=n.includes(al.START_DATE_NAME_PREFIX)?0:1;return p[y]=_e(ye({},null!==(u=p[y])&&void 0!==u?u:{}),{dateTime:_e(ye({},null!==(m=null===(a=p[y])||void 0===a?void 0:a.dateTime)&&void 0!==m?m:{}),{day:s,month:c,year:o})}),_e(ye({},e),{dateRange:d,journeyCriteria:p})}(i,r,a);return _e(ye({},e),{primarySearchCriteria:_e(ye({},l),{groundTransportation:m})})}if(a.startsWith(ho)&&a.includes("time")){var p=function(e,t,n){var a,r,l=n.includes("pick_up_time"),i=l?"start":"end",o="AM"===t.substring(4,6),c=Number(t.substring(0,2)),s=12===c?0:c,d=o?s:s+12,u=Number(t.substring(2,4)),m=ye({},null==e?void 0:e.dateRange);null===m[i]||void 0===m[i]?m[i]={day:1,month:1,year:1,hour:d,minute:u,second:0}:(m[i].hour=d,m[i].minute=u,m[i].second=0);var p,y,_=Ee(null!==(r=null==e?void 0:e.journeyCriteria)&&void 0!==r?r:[]),v=l||"ROUNDTRIP"!==(null==e?void 0:e.direction)?0:1;return _[v]=_e(ye({},null!==(p=_[v])&&void 0!==p?p:{}),{dateTime:_e(ye({},null!==(y=null===(a=_[v])||void 0===a?void 0:a.dateTime)&&void 0!==y?y:{}),{hour:d,minute:u,second:0})}),_e(ye({},e),{dateRange:m,journeyCriteria:_})}(i,r,a);return _e(ye({},e),{primarySearchCriteria:_e(ye({},l),{groundTransportation:p})})}if(a.startsWith(di)){var y=function(e,t,n){if(0===Number(t))return e;var a=null==e?void 0:e.travelerDetails;return n.includes("Adult")&&(a=Ee(a).concat([{type:"ADULT",count:Number(t)}])),n.includes("Children")&&(a=Ee(a).concat([{type:"CHILD",count:Number(t)}])),n.includes("Infant")&&(a=Ee(a).concat([{type:"INFANT",count:Number(t)}])),_e(ye({},e),{travelerDetails:a})}(i,r,a);return _e(ye({},e),{primarySearchCriteria:_e(ye({},l),{groundTransportation:y})})}return e},ps=(0,u.J1)(Wt(),Ar.fragment),ys=[{FROM_AIRPORT:!0,TO_AIRPORT:!1,ROUNDTRIP:!1,type:"FROM_AIRPORT",value:"Airport to hotel"},{FROM_AIRPORT:!1,TO_AIRPORT:!0,ROUNDTRIP:!1,type:"TO_AIRPORT",value:"Hotel to airport"},{FROM_AIRPORT:!1,TO_AIRPORT:!1,ROUNDTRIP:!0,type:"ROUNDTRIP",value:"Roundtrip"}],_s=function(e){var t=e.data,n=e.onTripDirectionSelection,r=e.enableReflection,l=void 0!==r&&r,o=t.airportToHotel,c=t.hotelToAirport,s=t.roundTrip,d=(0,i.kW)(),u=d.state,m=d.dispatch,p=u.destination,y=u.origin,_=function(){return c.selected?ys[1]:s.selected?ys[2]:ys[0]},v=ve(a.useState(_()),2),S=v[0],E=v[1];a.useEffect((function(){E(_())}),[o.selected,c.selected,s.selected]);var g,f,h,D,T,b,C,I,A,F,O,k,G=l?S:_(),R=[{name:"GroundTransportationSearchFormSelection",selected:G.FROM_AIRPORT,checked:G.FROM_AIRPORT,text:null!==(g=o.primary)&&void 0!==g?g:"",disabled:o.disabled,value:null!==(f=o.value)&&void 0!==f?f:"FROM_AIRPORT",id:null!==(h=o.value)&&void 0!==h?h:"FROM_AIRPORT",altText:null!==(D=o.accessibility)&&void 0!==D?D:void 0},{name:"GroundTransportationSearchFormSelection",selected:G.TO_AIRPORT,checked:G.TO_AIRPORT,text:null!==(T=c.primary)&&void 0!==T?T:"",disabled:c.disabled,value:null!==(b=c.value)&&void 0!==b?b:"TO_AIRPORT",id:null!==(C=c.value)&&void 0!==C?C:"TO_AIRPORT",altText:null!==(I=c.accessibility)&&void 0!==I?I:void 0},{name:"GroundTransportationSearchFormSelection",selected:G.ROUNDTRIP,checked:G.ROUNDTRIP,text:null!==(A=s.primary)&&void 0!==A?A:"",disabled:s.disabled,value:null!==(F=s.value)&&void 0!==F?F:"ROUNDTRIP",id:null!==(O=s.value)&&void 0!==O?O:"ROUNDTRIP",altText:null!==(k=s.accessibility)&&void 0!==k?k:void 0}];return a.createElement(H.S,{data:R,handleSelectedPill:function(e){var t,a=null!==(t=ys.find((function(t){return t.type===e})))&&void 0!==t?t:ys[0];if(l){if(S.type===a.type)return void n(e);if("TO_AIRPORT"===S.type!=("TO_AIRPORT"===a.type)&&y&&p){var r,i,o,c,s=_e(ye({},y),{data:null!==(r=y.data)&&void 0!==r?r:{},term:null!==(i=y.term)&&void 0!==i?i:""}),d=_e(ye({},p),{data:null!==(o=p.data)&&void 0!==o?o:{},term:null!==(c=p.term)&&void 0!==c?c:""});m({type:"UPDATE_DESTINATION",location:s}),m({type:"UPDATE_ORIGIN",location:d})}}else E(a);n(e)}})};_s.fragment=ps,_s.displayName="GroundTransportationSearchFormSelection";var vs=(0,u.J1)(Ut(),vl.fragment,aa.fragment,qc.fragment,Vc.fragment,dl.fragment,Ci.fragment,Co.fragment,_s.fragment,Sc),Ss=function(e){var t=e.data,n=e.tripDirection,r=e.onTripDirectionSelection,o=e.onFieldChange,c=e.onSubmit,s=e.redirectToSearchResultOnSubmit,u=e.autoOpenPlayback,m=e.stickyPlayback,p=e.lastSearchLatLong,y=e.enableReflection,_=t.egdsElementId,v=t.actionURL,S=t.airportLocation,E=t.hotelLocation,g=t.pickupTime,h=t.dropoffTime,D=t.dates,T=t.travelers,C=t.search,I=t.errorSummary,A=t.groundTransportationSelection,F=t.playback,O=t.searchLocation,k=(0,N.useLocalization)(),G=(0,i.kW)().dispatch,R=ve(a.useState(F),2),L=R[0],P=R[1],M=ve(a.useState(!u),2),x=M[0],B=M[1];a.useEffect((function(){P(F)}),[F]);var w=ve(a.useState({EGDSSearchFormLocationsField:null,EGDSSearchFormDatePickerField:null}),2),W=w[0],U=w[1],H=ve(a.useState(E),2),V=H[0],z=H[1];a.useEffect((function(){z(E)}),[E]);var Y={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},q=ve(a.useState(Y),2),j=q[0],$=q[1],K=null!=_?_:"search-ground-transportation-form",J=null!=v?v:"/ground-transfers/search";a.useEffect((function(){var e,t,a,r,l="TO_AIRPORT"===n,i=null!==(a=null===(e=l?S:E)||void 0===e?void 0:e.value)&&void 0!==a?a:"",o=null!==(r=null===(t=l?E:S)||void 0===t?void 0:t.value)&&void 0!==r?r:"";""!==i&&G({type:"UPDATE_DESTINATION",location:{term:i,data:ye({},yc)}}),""!==o&&G({type:"UPDATE_ORIGIN",location:{term:o,data:ye({},yc)}})}),[]);var Q={setFieldRefByTypename:a.useCallback((function(e,t){var n,a=Kc(e,null===(n=t.current)||void 0===n?void 0:n.id);U((function(e){return _e(ye({},e),pe({},a,t))}))}),[])},X=function(e,t,n,a){if(!(null==t?void 0:t.text))return e;var r=t.text.trim().replace("${origin}","").replace("${destination}",""),l=ve(e.text.split(r),2),i=l[0],o=l[1],c=t.text.replace("${origin}",null!=n?n:i).replace("${destination}",null!=a?a:o);return _e(ye({},e),{text:c})},Z=function(e,t){o&&o(e,t),P((function(t){var n=ls.SINGLE_DATE_PICKER_START_DATE,a=ls.DATE_RANGE_PICKER,r=ls.BASIC_TRAVELER_SELECTOR,l=e.name,i=e.value,o=l===n,c=l===a,s=l===r;if(!t)return null;var d=ve(t.secondaries,2),u=d[0],m=d[1],p=u;o&&"EGDSPlainText"===u.__typename&&(p=_e(ye({},u),{text:k.formatDateString(new Date(i),{skeleton:"MMMd"})})),c&&"EGDSPlainText"===u.__typename&&(p=_e(ye({},u),{text:Pa(i,k)}));var y=s?_e(ye({},m),{text:i}):m;return _e(ye({},t),{secondaries:[p,y]})}))},ee=function(e){var t,a=Array.from(e.currentTarget.elements);t="TO_AIRPORT"===n?{location:{origin:a.find(ns("airport_location")),destination:a.find(ns("hotel_location"))},dates:{startDateInput:a.find(ns("EGDSSingleDatePicker-Date-date_form_field")),endDateInput:void 0,config:{maxNumberOfDaysSelected:0,allowSameDateSelect:!0}},time:{dropOff:a.find(ns("EGDSBasicSelect-drop_off_time")),pickup:void 0}}:"ROUNDTRIP"===n?{location:{origin:a.find(ns("airport_location")),destination:a.find(ns("hotel_location"))},dates:{startDateInput:a.find(ns("EGDSDateRangePicker-StartDate-date_form_field")),endDateInput:a.find(ns("EGDSDateRangePicker-EndDate-date_form_field")),config:{maxNumberOfDaysSelected:0,allowSameDateSelect:!0}},time:{dropOff:a.find(ns("EGDSBasicSelect-drop_off_time")),pickup:a.find(ns("EGDSBasicSelect-pick_up_time"))}}:{location:{origin:a.find(ns("airport_location")),destination:a.find(ns("hotel_location"))},dates:{startDateInput:a.find(ns("EGDSSingleDatePicker-Date-date_form_field")),endDateInput:void 0,config:{maxNumberOfDaysSelected:0,allowSameDateSelect:!0}},time:{dropOff:void 0,pickup:a.find(ns("EGDSBasicSelect-pick_up_time"))}};var r,l=es(t),i=l.length;if(!(0===i))return $({fieldsWithErrors:l,errorCount:i,displayErrorSummary:!0,errorLinkReference:W[null===(r=l[0])||void 0===r?void 0:r.__typename]}),void e.preventDefault();if($(Y),c||s){var o=function(e,t){var n={primarySearchCriteria:{groundTransportation:{dateRange:{},locations:[{type:"AIRPORT"},{type:"PROPERTY"}],direction:t,travelerDetails:[],journeyCriteria:[]}},regionId:null};return e.filter((function(e){return e.name.startsWith("EGDS")||e.name.startsWith("GroundTransportation")})).reduce(ms,n)}(Array.from(e.currentTarget.elements),n);if(c&&c(e,{groundTransportationSearchCriteria:o}),s){e.preventDefault();var d=function(e){var t,n;if(null==e.primarySearchCriteria||null==e.primarySearchCriteria.groundTransportation)return"";var a,r,l=e.regionId,i=e.primarySearchCriteria.groundTransportation,o=i.travelerDetails,c=i.direction,s=i.journeyCriteria,d="direction=".concat(c,"&roundTrip=").concat("ROUNDTRIP"===c),u=cs(s),m=u.hotel,p=u.airport,y="&airportCode=".concat(null==p?void 0:p.id,"&location=").concat(encodeURIComponent(null!==(a=null==p?void 0:p.name)&&void 0!==a?a:""),"&regionId=").concat(l),_="&hotelId=".concat(null==m?void 0:m.id,"&hotelName=").concat(encodeURIComponent(null!==(r=null==m?void 0:m.name)&&void 0!==r?r:"")),v=null==s||null===(t=s[0])||void 0===t?void 0:t.dateTime,S=null==s||null===(n=s[1])||void 0===n?void 0:n.dateTime,E="&pickUpDate=".concat(v&&is(v),"&pickUpTime=").concat(v&&os(v)),g="ROUNDTRIP"===c?"&dropOffDate=".concat(S&&is(S),"&dropOffTime=").concat(S&&os(S)):"",f=o.find((function(e){return"ADULT"===e.type})),h=o.find((function(e){return"CHILD"===e.type})),D=o.find((function(e){return"INFANT"===e.type})),T=f?"&adults=".concat(f.count):"",b=h?"&children=".concat(h.count):"",C=D?"&infants=".concat(D.count):"",I="".concat(T).concat(b).concat(C);return"?".concat(d).concat(y).concat(_).concat(E).concat(g).concat(I)}(o);window.location.href="".concat(e.currentTarget.action).concat(d)}}},te={lastSearchLatLong:p,searchLocationAnalytics:null==O?void 0:O.analytics,searchLocationContent:null==O?void 0:O.content},ne=S&&a.createElement("div",null,a.createElement(Vc,_e(ye({},Q,te),{onSelection:function(e){var t=null==V?void 0:V.action;if(E){var a=_e(ye({},E),{__typename:E.__typename,action:_e(ye({},t),{info:_e(ye({},t.info),{regionId:e.data.regionId})})});z(a)}P((function(t){var a;if(!t)return null;var r,l=t.primary,i=t.primaryTemplate,o=null!==(r=null==e||null===(a=e.data)||void 0===a?void 0:a.airportCode)&&void 0!==r?r:null==e?void 0:e.term,c="TO_AIRPORT"===n,s=X(l,i,c?null:o,c?o:null);return _e(ye({},t),{primary:s})}))},data:S,fieldError:j.fieldsWithErrors.find((function(e){return"EGDSSearchFormLocationFieldAirport"===e.__typename})),key:"field_".concat(null==S?void 0:S.__typename,"_airportLocation")}))),ae=V&&a.createElement("div",null,a.createElement(Vc,_e(ye({},Q,te),{onSelection:function(e){P((function(t){var a;if(!t)return null;var r,l=t.primary,i=t.primaryTemplate,o=null!==(r=null==e||null===(a=e.data)||void 0===a?void 0:a.primaryText)&&void 0!==r?r:null==e?void 0:e.term,c="TO_AIRPORT"!==n,s=X(l,i,c?null:o,c?o:null);return _e(ye({},t),{primary:s})}))},data:V,fieldError:j.fieldsWithErrors.find((function(e){return"EGDSSearchFormLocationFieldHotel"===e.__typename})),key:"field_".concat(null==V?void 0:V.__typename,"_hotelLocation")}))),re=T&&a.createElement("div",null,a.createElement(Ci,{data:T})),le=D&&a.createElement("div",null,a.createElement(dl,_e(ye({},Q),{data:D}))),ie=g&&a.createElement("div",null,a.createElement(Co,{data:g,fieldError:j.fieldsWithErrors.find((function(e){return"EGDSBasicSelectPickUp"===e.__typename}))})),oe=h&&a.createElement("div",null,a.createElement(Co,{data:h,fieldError:j.fieldsWithErrors.find((function(e){return"EGDSBasicSelectDropOff"===e.__typename}))})),ce="EGDSSearchFormButton"===(null==C?void 0:C.__typename)&&a.createElement(l.b,{padding:{blockstart:"six"}},a.createElement("div",null,a.createElement(aa,{data:C}))),se=j.displayErrorSummary,de=j.errorCount,ue=j.errorLinkReference,me=se&&I&&a.createElement(l.b,{margin:{block:"two"}},a.createElement("div",null,a.createElement(vl,{data:I,errorCount:de,inputErrorRef:ue}))),Se=A&&a.createElement(_s,_e(ye({},e),{data:A,onTripDirectionSelection:r,enableReflection:y})),Ee=function(){return"TO_AIRPORT"===n?a.createElement(a.Fragment,null,Se,a.createElement(b.E,{onFieldChange:Z,onSubmit:ee,id:K,name:K,method:"GET",action:J,hasRequiredFieldIndicator:!0},me,a.createElement(l.b,{padding:{blockstart:"six"}},a.createElement(f.E,{columns:{small:1,medium:6},space:"three"},a.createElement(f.a,{colSpan:{small:1,medium:2,large:3}},ae),a.createElement(f.a,{colSpan:{small:1,medium:2,large:3}},ne),a.createElement(f.a,{colSpan:{small:1,medium:2,large:2}},re),a.createElement(f.a,{colSpan:{small:1,medium:3,large:2}},le),a.createElement(f.a,{colSpan:{small:1,medium:3,large:2}},oe))),ce)):"ROUNDTRIP"===n?a.createElement(a.Fragment,null,Se,a.createElement(b.E,{onFieldChange:Z,onSubmit:ee,id:K,name:K,method:"GET",action:J,hasRequiredFieldIndicator:!0},me,a.createElement(l.b,{padding:{blockstart:"six"}},a.createElement(f.E,{columns:{small:1,medium:2},space:"three"},a.createElement(f.a,null,ne),a.createElement(f.a,null,ae),a.createElement(f.a,null,re),a.createElement(f.a,null,le),a.createElement(f.a,null,ie),a.createElement(f.a,null,oe))),ce)):a.createElement(a.Fragment,null,Se,a.createElement(b.E,{onFieldChange:Z,onSubmit:ee,id:K,name:K,method:"GET",action:J,hasRequiredFieldIndicator:!0},me,a.createElement(l.b,{padding:{blockstart:"six"}},a.createElement(f.E,{columns:{small:1,medium:6,large:6},space:"three"},a.createElement(f.a,{colSpan:{small:1,medium:2,large:3}},ne),a.createElement(f.a,{colSpan:{small:1,medium:2,large:3}},ae),a.createElement(f.a,{colSpan:{small:1,medium:2,large:2}},re),a.createElement(f.a,{colSpan:{small:1,medium:3,large:2}},le),a.createElement(f.a,{colSpan:{small:1,medium:3,large:2}},ie))),ce))};return a.createElement(d.LM,null,a.createElement(d.NP,null,L?a.createElement(qc,{data:L,stickyPlayback:m,display:x,onDisplayToggle:function(e){B(e)}},Ee()):Ee()),a.createElement(d.rw,null,Ee()))};Ss.fragment=vs,Ss.displayName="GroundTransportationSearchForm";var Es={SEARCH_TOOLS_GROUND_TRANSPORTATION_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_GROUND_TRANSPORTATION_SEARCH_FORM_QUERY_FAILURE"),SEARCH_TOOLS_GROUND_TRANSPORTATION_OPTIONS_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_GROUND_TRANSPORTATION_OPTIONS_QUERY_FAILURE")},gs={linkName:"Ground Transportation Search Form Fallback Presented",referrerId:"Web.GroundTransportation.Search.Form.Fallback.Presented"},fs={linkName:"Ground Transportation Search Form Presented",referrerId:"Web.GroundTransportation.Search.Form.Presented"},hs=(0,u.J1)(Ht(),Ss.fragment),Ds={rows:[{type:"secondary"},{type:"primary"},{type:"primary"},{type:"primary"}]},Ts=function(e){var t,n,r,l,o,c=e.inputs,s=e.skipSsr,d=e.batchKey,u=e.includePlayback,y=e.pageLocation,_=e.enableReflection,v=(0,m.R)().context,g=(0,p.useLoggerEvents)(Es),f=ve(a.useState(null!==(o=null===(n=c.groundTransportationSearchCriteria)||void 0===n||null===(t=n.primarySearchCriteria.groundTransportation)||void 0===t?void 0:t.direction)&&void 0!==o?o:"FROM_AIRPORT"),2),h=f[0],D=f[1],T=ve(a.useState(c),2),b=T[0],C=T[1],I=function(e){Object.values(Mn).includes(e)&&(D(e),C(_?function(t){var n,a,r,l=null===(a=t.groundTransportationSearchCriteria)||void 0===a||null===(n=a.primarySearchCriteria)||void 0===n?void 0:n.groundTransportation;return{groundTransportationSearchCriteria:_e(ye({},t.groundTransportationSearchCriteria),{primarySearchCriteria:_e(ye({},null===(r=t.groundTransportationSearchCriteria)||void 0===r?void 0:r.primarySearchCriteria),{groundTransportation:_e(ye({},l),{direction:e,locations:(null==l?void 0:l.locations)||[],dateRange:(null==l?void 0:l.dateRange)||{},journeyCriteria:(null==l?void 0:l.journeyCriteria)||[],travelerDetails:(null==l?void 0:l.travelerDetails)||[]})})})}}:"FROM_AIRPORT"===e?{groundTransportationSearchCriteria:null}:{groundTransportationSearchCriteria:{primarySearchCriteria:{groundTransportation:{dateRange:{},locations:[],journeyCriteria:[],direction:e,travelerDetails:[]}}}}))},A=_e(ye({},b),{context:v,includePlayback:!!u,pageLocation:y}),F=(0,E.I)(hs,{context:{batchKey:d},variables:A,ssr:!s}),O=F.data,k=F.error;if(F.loading)return a.createElement(Zn,ye({},Ds));if(k||"GroundTransportationSearchForm"!==(null==O||null===(l=O.searchForm)||void 0===l||null===(r=l.groundTransportation)||void 0===r?void 0:r.__typename)||!O.searchForm.groundTransportation.groundTransportationSelection){var G,R,L=function(e){switch(e){case"TO_AIRPORT":return go;case"ROUNDTRIP":return fo;default:return Eo}}(h);return g.SEARCH_TOOLS_GROUND_TRANSPORTATION_SEARCH_FORM_QUERY_FAILURE.log({name:null==k?void 0:k.name,error:new Error(null==k?void 0:k.message)}),"GroundTransportationSearchForm"!==(null==L||null===(R=L.searchForm)||void 0===R||null===(G=R.groundTransportation)||void 0===G?void 0:G.__typename)?null:a.createElement(Wn,null,a.createElement(S.ee,ye({},gs),_&&!e.disableInternalReflectionProvider?a.createElement(i.tb,null,a.createElement(Ss,ye(_e(ye({},e),{data:L.searchForm.groundTransportation,tripDirection:h,onTripDirectionSelection:I}),_&&{enableReflection:_}))):a.createElement(Ss,ye(_e(ye({},e),{data:L.searchForm.groundTransportation,tripDirection:h,onTripDirectionSelection:I}),_&&{enableReflection:_}))))}return a.createElement(S.ee,ye({},fs),_&&!e.disableInternalReflectionProvider?a.createElement(i.tb,null,a.createElement(Ss,ye(_e(ye({},e),{data:O.searchForm.groundTransportation,tripDirection:h,onTripDirectionSelection:I}),_&&{enableReflection:_}))):a.createElement(Ss,ye(_e(ye({},e),{data:O.searchForm.groundTransportation,tripDirection:h,onTripDirectionSelection:I}),_&&{enableReflection:_})))};Ts.displayName="sharedui-GroundTransportationSearchForm";var bs=function(e){return e.PICKUP_LOCATION="airport_location",e.DROPOFF_LOCATION="hotel_location",e.PICKUP_TIME="pick_up_time",e.DROPOFF_TIME="drop_off_time",e.DATE_RANGE_PICKER="EGDSDateRangePicker",e}(bs||{}),Cs=["age"],Is=function(e,t){var n=e.day,a=e.month,r=e.year,l=n<10?"0".concat(n):n,i=a<10?"0".concat(a):a;return t.formatDateString("".concat(r,"-").concat(i,"-").concat(l),{raw:t.localDateFormat})},As=function(e){var t=e.day,n=e.month,a=e.year;return"".concat(a,"-").concat(n,"-").concat(t)},Fs=function(e){var t=e.hour,n=e.minute,a=t<12?"AM":"PM",r=t%12||12;return"".concat(r<10?"0":"").concat(r).concat(n<10?"0":"").concat(n).concat(a)},Os=function(e){return e.toString().padStart(2,"0")},ks=function(e){var t=e.year,n=e.month,a=e.day;return"".concat(t,"-").concat(Os(n),"-").concat(Os(a))},Gs=function(e){var t=e.year,n=e.month,a=e.day,r=e.hour,l=e.minute;return"".concat(t,"-").concat(Os(n),"-").concat(Os(a),"T").concat(Os(r),":").concat(Os(l))},Rs=function(e,t,n,a){var r,l,i,o,c,s,d,u,m,p=t.primary,y=p.pickUpLocation,_=p.pickUpDateTime,v=p.dropOffLocation,S=p.dropOffDateTime,E={param:n,value:null!==(o=y.searchTerm)&&void 0!==o?o:""},g={param:"pickupIATACode",value:null!==(c=y.airportCode)&&void 0!==c?c:""},f={param:a,value:null!==(s=null==v?void 0:v.searchTerm)&&void 0!==s?s:""},h={param:"returnIATACode",value:null!==(d=null==v?void 0:v.airportCode)&&void 0!==d?d:""},D={param:"d1",value:ks(_)},T={param:"d2",value:ks(S)},b={param:"pickupDateTime",value:Gs(_)},C={param:"returnDateTime",value:Gs(S)},I=null===(i=t.secondary)||void 0===i||null===(l=i.selections)||void 0===l||null===(r=l.filter((function(e){return Cs.indexOf(e.id)>-1})))||void 0===r?void 0:r.map((function(e){return{param:e.id,value:e.value}})),A=[E,g,f,h,D,T,b,C],F=I&&I.length>0?Ee(A).concat(Ee(I)):A;return u=F,m=new URL(e),u.forEach((function(e){var t=e.param,n=e.value;m.searchParams.append(t,n)})),m.toString()},Ls="pick_up_location",Ps=["vend","cpcd","odcd","cdnu"],Ms=function(e,t){var n,a,r,l=t.name,i=t.value,o=t.checked,c=t.disabled,s=e.primary,d=e.secondary;if(l.startsWith(Dc)){var u=l.includes(Ls),m=u?s.pickUpLocation:s.dropOffLocation,p=u?"pickUpLocation":"dropOffLocation";return _e(ye({},e),{primary:_e(ye({},s),pe({},p,m||i?_e(ye({},m),{airportCode:i}):null))})}if(l.startsWith(fc)){var y=l.includes(Ls),_=y?s.pickUpLocation:s.dropOffLocation,v=y?"pickUpLocation":"dropOffLocation";return _e(ye({},e),{primary:_e(ye({},s),pe({},v,_||i?_e(ye({},_),{searchTerm:i}):null))})}if(l.startsWith(Tc)||l.startsWith(bc)){var S,E,g,f,h=l.includes(Ls),D=h?s.pickUpLocation:s.dropOffLocation,T=h?"pickUpLocation":"dropOffLocation",b=l.startsWith("".concat(Tc,"-")),C=i?Number(i):null,I=b?C:null!==(g=null==D||null===(S=D.coordinates)||void 0===S?void 0:S.latitude)&&void 0!==g?g:null,A=b?null!==(f=null==D||null===(E=D.coordinates)||void 0===E?void 0:E.longitude)&&void 0!==f?f:null:C,F=I||A?{latitude:I,longitude:A}:null;return _e(ye({},e),{primary:_e(ye({},s),pe({},T,D||F?_e(ye({},D),{coordinates:F}):null))})}if(l.startsWith(hc)){var O=l.includes(Ls),k=O?s.pickUpLocation:s.dropOffLocation,G=O?"pickUpLocation":"dropOffLocation";return _e(ye({},e),{primary:_e(ye({},s),pe({},G,k||i?_e(ye({},k),{regionId:i}):null))})}if(l.startsWith(al.START_DATE_NAME_PREFIX)||l.startsWith(al.END_DATE_NAME_PREFIX)){var R=l.includes(al.START_DATE_NAME_PREFIX),L=R?"pickUpDateTime":"dropOffDateTime",P=ve(i.split("-").map((function(e){return Number(e)})),3),M=P[0],N=P[1],x=P[2];return _e(ye({},e),{primary:_e(ye({},s),pe({},L,_e(ye({},R?s.pickUpDateTime:s.dropOffDateTime),{day:x,month:N,year:M})))})}if(l.startsWith(ho)&&l.includes("time")){var B=l.includes("pick_up_time"),w=B?"pickUpDateTime":"dropOffDateTime",W=parseInt(i.substring(2,4),10),U=i.substring(4,6),H=parseInt(i.substring(0,2),10),V=12===H&&"AM"===U?0:12!==H&&"PM"===U?H+12:H;return _e(ye({},e),{primary:_e(ye({},s),pe({},w,_e(ye({},B?s.pickUpDateTime:s.dropOffDateTime),{hour:V,minute:W})))})}return l.startsWith(Ka)&&l.includes("aarp_rates")?_e(ye({},e),{secondary:_e(ye({},d),{booleans:Ee(null!==(n=null==d?void 0:d.booleans)&&void 0!==n?n:[]).concat([{id:"aarpcr",value:o}])})}):Ps.find((function(e){return e===l}))?_e(ye({},e),{secondary:_e(ye({},d),{selections:Ee(null!==(a=null==d?void 0:d.selections)&&void 0!==a?a:[]).concat([{id:l,value:i}])})}):l.includes("driver_age")&&!c&&i?_e(ye({},e),{secondary:_e(ye({},d),{selections:Ee(null!==(r=null==d?void 0:d.selections)&&void 0!==r?r:[]).concat([{id:"age",value:i}])})}):e},Ns=(0,u.J1)(Vt()),xs=function(e){var t=e.data,n=e.onChange,r=e.invalid,l=e.setInputRef,i=e.customValue,o=t.label,c=t.value,s=t.egdsElementId,d=t.placeholder,u=i||c,m=ve(a.useState(null!=u?u:""),2),p=m[0],y=m[1],_=a.createRef();return a.useEffect((function(){l&&l(_)}),[]),a.createElement(X.b,{placeholder:null!=d?d:"",id:null!=s?s:"",label:o,name:null!=s?s:"",value:p,onChange:function(e){n&&n(e),y(e.target.value)},invalid:null!=r?r:"",domRef:_,"aria-label":null!=o?o:""})};xs.displayName="EGDSTextInputField",xs.fragment=Ns;var Bs=(0,u.J1)(zt(),yl.fragment,xs.fragment),ws=function(e){var t,n,r,i,o,c=e.data,s=e.errorState,d=e.handleErrorState,u=e.index,m=e.setFieldRefByTypename,p=e.setSelectedCouponType,y=e.disabledSelectIndex,_=e.setSpecialOrAdvertisedDiscountCode,v=e.codeValue,S=e.codeTypeSelected,E=e.discountTypes,g=c.discountCodeOptions,f=c.discountCodeType,h=ve(a.useState(g),2),D=h[0],T=h[1],b=ve(a.useState(S),2),C=b[0],I=b[1],A=ve(a.useState(v),2),F=A[0],O=A[1],k=null!==(i=null===(t=g[0])||void 0===t?void 0:t.discountCodeTypeOption)&&void 0!==i?i:"",G=null!==(o=null===(n=g[1])||void 0===n?void 0:n.discountCodeTypeOption)&&void 0!==o?o:"",R=null===(r=D.find((function(e){return e.discountCodeTypeOption===C})))||void 0===r?void 0:r.discountCodeInput,L=(null==R?void 0:R.validations)&&"EGDSRequiredInputValidation"===R.validations[0].__typename?R.validations[0].errorMessage:"",P=s.inputsWithErrors.includes("special-advertised-coupon-".concat(u))?L:"",M=a.createRef();a.useEffect((function(){var e;D!==g&&(I(g[0].discountCodeTypeOption),T(g)),null===(e=M.current)||void 0===e||e.focus()}),[D,g]);return a.createElement("div",null,a.createElement(l.b,{padding:{block:C?"three":"two"}},a.createElement("div",null,a.createElement(X.i,{label:f.label,onChange:function(e){var t;I(e.target.value),d(E.SPECIAL_OR_ADVERTISED,!0,"",u.toString()),_({data:c,value:null!=F?F:"",index:u,codeTypeSelected:null!==(t=e.target.value)&&void 0!==t?t:""}),p&&p(e.target.value,u)},"aria-label":f.label,emptyState:!0,value:C,disabled:null==y?void 0:y.includes(u),domRef:M},D.map((function(e,t){return a.createElement("option",{key:t,value:e.discountCodeTypeOption},e.discountCodeTypeOption)}))))),C&&R&&a.createElement(a.Fragment,null,a.createElement(l.b,{padding:{blockend:"three"}},a.createElement(xs,{data:R,onChange:function(e){d(E.SPECIAL_OR_ADVERTISED,!0,e.target.value,u.toString()),O(e.target.value),_({data:c,value:e.target.value,index:u,codeTypeSelected:null!=C?C:""})},invalid:P,setInputRef:function(e){m&&m("special-advertised-coupon-".concat(u),e)},customValue:F})),F&&C===G&&a.createElement("input",{type:"hidden","aria-label":"vend","data-stid":"vend",name:"vend",value:F}),F&&C===k&&a.createElement("input",{type:"hidden","aria-label":"cpcd","data-stid":"cpcd",name:"cpcd",value:F}),F&&C!==k&&C!==G&&a.createElement("input",{type:"hidden","aria-label":"odcd","data-stid":"odcd",name:"odcd",value:F})))};ws.fragment=Bs,ws.displayName="CarSearchFormSpecialOrAdvertisedOption";var Ws=(0,u.J1)(Yt(),ws.fragment,xs.fragment),Us=function(e){var t,n=e.data,r=e.readOnly,i=e.disabled,o=e.egdsElementId,c=e.label,s=e.icon,d=e.handleErrorState,u=e.errorState,m=e.setFieldRefByTypename,p=e.isDisabled,y=e.clearDiscountTypeOptionsState,_=e.selectedDiscountType,v=e.handleDiscountType,S=e.corporateOrContractedCodeValue,E=e.handleCorporateOrContractedCodeValue,g=e.handleSpecialOrAdvertisedCouponsData,f=e.specialOrAdvertisedCouponsData,h=e.handleDisabledDiscountCodeTypes,T=e.disabledCouponTypeIndexes,b=e.handleClearDiscountTypeOptionsState,C=e.discountTypes,I=n.corporateOrContractedOption,A=n.specialOrAdvertisedOption,F=null==I?void 0:I.optionLabel,O=null==A?void 0:A.optionLabel,k=ve(a.useState(A),2),G=k[0],R=k[1],L=ve(a.useState(f),2),P=L[0],M=L[1],N=ve(a.useState([]),2),x=N[0],B=N[1],w=G.maxDiscountCode>P.length&&P.length===x.length,W=function(e,t){var n=x.filter((function(e){return e.index!==t}));B(Ee(n).concat([{selectedDiscountType:e,index:t}]));var a=T.filter((function(e){return e!==t-1}));h(Ee(a).concat([t-1]))},U={data:A,value:"",index:null,codeTypeSelected:""};a.useEffect((function(){A!==G&&(M([U]),R(A)),y&&(B([]),M([{data:A,value:"",index:0,codeTypeSelected:""}]),b())}),[G,A,y]);var H=null===(t=u.inputsWithErrors)||void 0===t?void 0:t.includes("corporate-or-contracted-option"),V=(null==I?void 0:I.discountCode.validations)&&"EGDSRequiredInputValidation"===(null==I?void 0:I.discountCode.validations[0].__typename)?null==I?void 0:I.discountCode.validations[0].errorMessage:"",z=H?V:"";return a.createElement("div",null,a.createElement(l.b,{padding:{blockend:"three"}},a.createElement("div",null,a.createElement(X.i,{readOnly:r,disabled:null!=p?p:i,id:null!=o?o:"",label:c,icon:null==s?void 0:s.id,"aria-label":null!=c?c:"",onChange:function(e){v&&v(e.target.value),e.target.value===C.CORPORATE_OR_CONTRACTED&&d(C.CORPORATE_OR_CONTRACTED,!0,"")},value:_,emptyState:!0},I&&a.createElement("option",{key:F,label:F,value:F},F),A&&a.createElement("option",{key:O,label:O,value:O},O)))),I&&_===C.CORPORATE_OR_CONTRACTED&&!p&&a.createElement(xs,{data:I.discountCode,invalid:z,onChange:function(e){E&&E(e.target.value),_===C.CORPORATE_OR_CONTRACTED&&d(C.CORPORATE_OR_CONTRACTED,!0,e.target.value)},setInputRef:function(e){m&&m("corporate-or-contracted-option",e)},customValue:S}),A&&_===C.SPECIAL_OR_ADVERTISED&&!p&&a.createElement(a.Fragment,null,P.map((function(e,t){return a.createElement(ws,{key:t,data:e.data,index:t,errorState:u,handleErrorState:d,setFieldRefByTypename:m,setSelectedCouponType:W,disabledSelectIndex:T,setSpecialOrAdvertisedDiscountCode:g,codeValue:e.value,codeTypeSelected:e.codeTypeSelected,discountTypes:C})})),"UITertiaryButton"===A.addAnotherDiscountCode.__typename&&a.createElement(D.i,{justifyContent:"end"},a.createElement("div",null,a.createElement(yl,{data:A.addAnotherDiscountCode,onClick:function(){var e=x.map((function(e){return e.selectedDiscountType})),t=G.discountCodeOptions.filter((function(t){return!e.includes(t.discountCodeTypeOption)&&t})),n=_e(ye({},G),{discountCodeOptions:t}),a=T.length-1;x[a]&&h(Ee(T).concat([a]));var r={data:n,value:"",index:null,codeTypeSelected:""};M(Ee(P).concat([r]))},isDisabled:!w})))),S&&a.createElement("input",{type:"hidden","aria-label":"cdnu","data-stid":"cdnu",name:"cdnu",value:S}))};Us.fragment=Ws,Us.displayName="CarSearchFormDiscountTypeOption";var Hs=(0,u.J1)(qt(),Us.fragment,Ar.fragment,ml.fragment,yl.fragment,vl.fragment,Co.fragment),Vs={corporateOrContracted:{selected:!1,value:""},specialOrAdvertised:{selected:!1,coupons:[]}},zs={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,inputsWithErrors:[]},Ys=function(e){var t,n,r,i,o,s,u,m,p=e.data,y=p.discountCode,_=p.action,v=_.discountType,S=_.preferredBrand,E=_.discountTypeOptions,g=_.done,f=_.toolbar,h=_.errorSummary,T={CORPORATE_OR_CONTRACTED:null===(t=E[0].corporateOrContractedOption)||void 0===t?void 0:t.optionLabel,SPECIAL_OR_ADVERTISED:null===(n=E[0].specialOrAdvertisedOption)||void 0===n?void 0:n.optionLabel},b=ve(a.useState(!1),2),C=b[0],I=b[1],A=ve(a.useState(E[0]),2),F=A[0],O=A[1],k=a.createRef(),R=a.createRef(),L=ve(a.useState(),2),P=L[0],M=L[1],N=ve(a.useState(""),2),x=N[0],w=N[1],W=ve(a.useState(""),2),H=W[0],V=W[1],z=ve(a.useState([]),2),Y=z[0],q=z[1],j=ve(a.useState(!1),2),$=j[0],K=j[1],J=ve(a.useState([{data:E[0].specialOrAdvertisedOption,value:"",index:0,codeTypeSelected:""}]),2),Q=J[0],X=J[1],Z=ve(a.useState(Vs),2),ee=Z[0],ne=Z[1],ae=ve(a.useState([]),2),re=ae[0],le=ae[1],ie=ve(a.useState(ye({},zs)),2),oe=ie[0],ce=ie[1],se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ve(a.useState(t),2),r=n[0],l=n[1];return a.useEffect((function(){var t,n;null===(n=e.find((function(e){return e.name===r})))||void 0===n||null===(t=n.reference.current)||void 0===t||t.focus()}),[r]),{setFocusInput:l}}(re),de=se.setFocusInput,ue=function(){ce(zs),le([]),ne(Vs)},me={selectedDiscountType:x,handleDiscountType:function(e){w(e),e===T.CORPORATE_OR_CONTRACTED&&(ue(),V("")),e===T.SPECIAL_OR_ADVERTISED&&(ue(),q([]),K(!0),X([]))},corporateOrContractedCodeValue:H,handleCorporateOrContractedCodeValue:function(e){V(e),e&&ce(zs)},handleSpecialOrAdvertisedCouponsData:function(e){var t=Q.filter((function(t){return t.index!==e.index}));X(Ee(t).concat([e])),e.value&&function(e){var t="special-advertised-coupon-".concat(e.index);if(oe.inputsWithErrors.includes(t)){var n=ee.specialOrAdvertised.coupons.filter((function(e){return""===e.value})).map((function(e){return"special-advertised-coupon-".concat(e.id)})).filter((function(e){return e!==t}));ce((function(e){if(e.errorCount>0){var a,r=e.errorCount-1,l=e.inputsWithErrors.filter((function(e){return!e.includes(t)})),i=null===(a=re.find((function(e){return e.name===n[0]})))||void 0===a?void 0:a.reference;return{displayErrorSummary:r>0,errorCount:r,errorLinkReference:null!=i?i:null,inputsWithErrors:l}}return e})),de(t)}}(e)},specialOrAdvertisedCouponsData:Q,handleDisabledDiscountCodeTypes:function(e){q(e)},disabledCouponTypeIndexes:Y,handleClearDiscountTypeOptionsState:function(){K(!1)}},pe=ve((0,B.useDialog)("discount-codes-dialog"),3),Se=pe[0],ge=pe[1],fe=pe[2],he="EGDSBasicSelect"===v.__typename?_e(ye({},v),{icon:{id:null===(r=v.icon)||void 0===r?void 0:r.id}}):void 0,De=function(){w(""),V(""),ce(zs),q([]),X([]),K(!0),ne(Vs),le([])},Te=function(){De(),M("")},be=function(){var e,t=ee.corporateOrContracted;return!!t.value||!t.selected||(ce({displayErrorSummary:!0,errorCount:1,errorLinkReference:null===(e=re[0])||void 0===e?void 0:e.reference,inputsWithErrors:["corporate-or-contracted-option"]}),!1)},Ce=function(){var e=ee.specialOrAdvertised;if(e.selected){var t=e.coupons.filter((function(e){return""===e.value}));if(t.length>0){var n,a=t.map((function(e){return"special-advertised-coupon-".concat(e.id)})),r=null===(n=re.find((function(e){return e.name===a[0]})))||void 0===n?void 0:n.reference;return ce({displayErrorSummary:t.length>0,errorCount:t.length,errorLinkReference:null!=r?r:null,inputsWithErrors:Ee(a)}),!1}return!0}return!0},Ie=!P,Ae=a.useCallback((function(e,t){var n={name:e,reference:t};le((function(e){return Ee(e).concat([n])}))}),[]),Fe=oe.displayErrorSummary,Oe=oe.errorCount,ke=oe.errorLinkReference,Ge=h&&Fe,Re=a.createElement(a.Fragment,null,Ge&&a.createElement(l.b,{padding:{blockend:"three"}},a.createElement("div",null,a.createElement(vl,{data:h,errorCount:Oe,inputErrorRef:ke}))),a.createElement(l.b,{padding:{blockend:"three"}},a.createElement("div",null,a.createElement(Co,{data:S,onChange:function(e){var t=E.filter((function(t){return t.preferredBrand===e.target.value}))[0];O(t),M(e.target.value),De()},emptyState:!0,selectValue:P}))),F&&he&&a.createElement(l.b,{padding:{blockend:"three"}},a.createElement("div",null,a.createElement(Us,_e(ye({data:F},he,me),{handleErrorState:function(e,t,n,a){if(e===T.CORPORATE_OR_CONTRACTED&&ne({specialOrAdvertised:{selected:!1,coupons:[]},corporateOrContracted:{selected:null!=t&&t,value:null!=n?n:""}}),e===T.SPECIAL_OR_ADVERTISED){var r={id:null!=a?a:"",value:null!=n?n:""},l=ee.specialOrAdvertised.coupons.filter((function(e){return e.id!==a}));ne({corporateOrContracted:{selected:!1,value:""},specialOrAdvertised:_e(ye({},ee.specialOrAdvertised),{selected:null!=t&&t,coupons:Ee(l).concat([r])})})}},errorState:oe,setFieldRefByTypename:Ae,isDisabled:Ie,clearDiscountTypeOptionsState:$,discountTypes:T}))))),Le=null!==(u=null===(o=(null!==(s=f.actions.secondaries)&&void 0!==s?s:[]).find((function(e){return e.icon})))||void 0===o||null===(i=o.icon)||void 0===i?void 0:i.description)&&void 0!==u?u:"";return a.createElement("div",null,a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(a.Fragment,null,a.createElement(U.h,{isVisible:Se},a.createElement(fe,null,a.createElement(U.e,{isVisible:Se,type:"full",triggerRef:k},a.createElement(c.b,{toolbarTitle:null!==(m=f.primary)&&void 0!==m?m:"",navigationContent:{navType:"close",onClick:function(){var e;De(),M(""),ge.closeDialog(),null===(e=R.current)||void 0===e||e.focus()},navIconLabel:Le},toolbarActionContent:a.createElement(yl,{data:f.actions.primary,onClick:Te})}),a.createElement(U.f,null,a.createElement(l.b,{padding:{inline:"three",blockstart:"three"}},a.createElement("div",null,Re,"UIPrimaryButton"===g.__typename&&a.createElement(ml,{data:g,onClick:function(){var e;be()&&Ce()&&(ce(zs),ge.closeDialog(),null===(e=R.current)||void 0===e||e.focus())}}))))))),a.createElement(Ar,{data:y,triggerPill:!0,onClick:function(){ge.openDialog()},domRef:R}))),a.createElement(d.rw,null,a.createElement(te.E,{isOpen:C,onTriggerClick:function(){I((function(e){return!e}))},onDismiss:function(){De(),M("")}},a.createElement(te.b,null,a.createElement("div",null,a.createElement(Ar,{data:y,triggerPill:!0,domRef:R}))),a.createElement(te.c,{position:te.P.LEFT,showOverTrigger:!0,width:500},a.createElement(l.b,{padding:{inline:"three"}},a.createElement("div",null,a.createElement(D.i,{alignItems:"center",justifyContent:"space-between"},a.createElement(G.E,null,f.primary),a.createElement(yl,{data:f.actions.primary,onClick:Te})),a.createElement(l.b,{padding:{blockstart:"three"}},a.createElement("div",null,Re)),"UIPrimaryButton"===g.__typename&&a.createElement(ml,{data:g,onClick:function(){var e;be()&&Ce()&&(I(!1),null===(e=R.current)||void 0===e||e.focus())}}))))))),P&&a.createElement("input",{type:"hidden","aria-label":"vend","data-stid":"vend",name:"vend",value:P}))};Ys.fragment=Hs,Ys.displayName="CarSearchFormDiscountCode";var qs=function(e){return e.pickUpLocation="pickUpLocation",e.dropOffLocation="dropOffLocation",e.dates="dates",e.pickUpTime="pickUpTime",e.dropOffTime="dropOffTime",e.driverAgeCheck="driverAgeCheck",e.specialRatesHeading="specialRatesHeading",e.aarpRatesAndDiscountCodes="aarpRatesAndDiscountCodes",e.search="search",e}(qs||{}),js=(0,u.J1)(jt()),$s=function(e){var t=e.disabled,n=e.data,r=e.errorMessage,l=e.setFieldRefByTypename,i=n.label,o=n.value,c=n.egdsElementId,s=n.placeholder,d=n.step,u=n.max,m=n.min,p=n.__typename,y=null===o?void 0:Number(o),_=ve(a.useState(y),2),v=_[0],S=_[1],E=a.createRef();a.useEffect((function(){l&&E&&l(p,E)}),[]);return a.createElement(le.b,{label:null!=i?i:"",id:null!=c?c:"",placeholder:null!=s?s:"",name:c?"EGDSNumberInput-".concat(c):"",value:v,step:null!=d?d:void 0,max:null!=u?u:void 0,min:null!=m?m:void 0,onChange:function(e){var t=""===e.target.value?void 0:Number(e.target.value);S(t)},disabled:t,invalid:null!=r?r:"",domRef:E})};$s.displayName="EGDSNumberInputField",$s.fragment=js;var Ks=(0,u.J1)($t(),hr.fragment,$s.fragment),Js=function(e){var t=e.data,n=e.errorState,r=e.setFieldRefByTypename,l=e.getCheckboxState,i=t.label,o=t.driverAge,c=t.driverAgeRequired,s=ve(a.useState("CHECKED"===c.state),2),d=s[0],u=s[1],m=o.validations,p=o.__typename,y=$c(n,p),_=d?function(e){var t=null==e?void 0:e.validations;if(y){var n,a,r,l;if(null==t?void 0:t.ageRange)return null!==(a=null==m||null===(n=m.find((function(e){return"EGDSRangeInputValidation"===e.__typename})))||void 0===n?void 0:n.errorMessage)&&void 0!==a?a:"";if(!(null==t?void 0:t.ageRange))return null!==(l=null==m||null===(r=m.find((function(e){return"EGDSRequiredInputValidation"===e.__typename})))||void 0===r?void 0:r.errorMessage)&&void 0!==l?l:""}return""}(y):"";return a.createElement(a.Fragment,null,a.createElement(G.E,{size:7},i),a.createElement(f.E,{columns:{small:1,medium:["max-content","24x"]},space:"three"},a.createElement(f.a,null,a.createElement(hr,{onChange:function(e){u(e.target.checked),l(e.target.checked)},data:c})),a.createElement(f.a,null,a.createElement("div",null,a.createElement($s,{data:o,errorMessage:_,disabled:!d,setFieldRefByTypename:r})))))};Js.fragment=Ks,Js.displayName="CarSearchFormDriverAgeCheck";var Qs=(0,u.J1)(Kt(),rr.fragment),Xs=function(e){var t=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL;return a.createElement(l.b,{margin:{blockend:t?"three":"six"}},a.createElement(D.i,{space:"three",alignItems:"start",wrap:"wrap"},a.createElement(D.j,{minWidth:t?"full_width":void 0},a.createElement("div",{"data-stid":"SearchFormRentalTypesSelector"},a.createElement(rr,ye({},e))))))};Xs.fragment=Qs,Xs.displayName="RentalTypesSelector";var Zs=(0,u.J1)(Jt(),Js.fragment,vl.fragment,Ys.fragment,aa.fragment,Ar.fragment,qc.fragment,Vc.fragment,dl.fragment,Co.fragment,Xs.fragment,Sc),ed=bs.DATE_RANGE_PICKER,td=bs.PICKUP_TIME,nd=bs.DROPOFF_TIME,ad=function(e){return e?"".concat(e.year,"-").concat(e.month,"-").concat(e.day):""},rd=function(e){var t,n,r,i,o,c,s,u=e.onSubmit,m=e.onFieldChange,p=e.onOpenLocationField,y=e.data,_=e.redirectToSearchResultOnSubmit,v=e.autoOpenCalendar,S=e.autoOpenPlayback,E=e.autoSubmitOnFieldChange,g=e.stickyPlayback,h=e.criteria,T=e.lastSearchLatLong,C=e.hideDiscountCodes,I=(0,N.useLocalization)(),A=I.formatDateString,F=y.egdsElementId,O=y.actionURL,k=y.search,G=y.driverAgeCheck,R=y.errorSummary,L=y.specialRates,P=y.localDateFormat,M=y.playback,x=y.pickUpLocation,B=y.dropOffLocation,w=y.alternativeDropOffLocationLabel,W=y.dates,U=y.pickUpTime,H=y.dropOffTime,V=y.searchLocation,z=ve(a.useState(M),2),Y=z[0],q=z[1],j=ve(a.useState({origin:null==x?void 0:x.value,destination:null==B?void 0:B.value}),2),$=j[0],K=j[1],J=ve(a.useState({start:null!==(c=null===(t=U.options.find((function(e){return e.selected})))||void 0===t?void 0:t.label)&&void 0!==c?c:void 0,end:null!==(s=null===(n=H.options.find((function(e){return e.selected})))||void 0===n?void 0:n.label)&&void 0!==s?s:void 0}),2),Q=J[0],X=J[1],Z=ve(a.useState("EGDSOpenDatePickerAction"===(null==W||null===(r=W.action)||void 0===r?void 0:r.__typename)&&"EGDSDateRangePicker"===W.action.datePicker.__typename?"".concat(ad(W.action.datePicker.selectedStartDate)," - ").concat(ad(W.action.datePicker.selectedEndDate)):""),2),ee=Z[0],te=Z[1],ne=ve(a.useState(!1),2),ae=ne[0],re=ne[1],le=a.useRef(null),ie=null!=F?F:"search-car-form",oe=ve(a.useState({EGDSSearchFormLocationsField:null,EGDSSearchFormDatePickerField:null}),2),ce=oe[0],se=oe[1],de={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},ue=ve(a.useState(de),2),me=ue[0],Se=ue[1],ge=ve(a.useState(!1),2),fe=ge[0],he=ge[1],De=null==G||null===(o=G.driverAge)||void 0===o||null===(i=o.validations)||void 0===i?void 0:i.find((function(e){return"EGDSRangeInputValidation"===e.__typename})),Te="EGDSRangeInputValidation"===(null==De?void 0:De.__typename)?De.min:void 0,be="EGDSRangeInputValidation"===(null==De?void 0:De.__typename)?De.max:void 0,Ce=ve(a.useState(!S),2),Ie=Ce[0],Ae=Ce[1],Fe=a.useCallback((function(e,t){var n,a=Kc(e,null===(n=t.current)||void 0===n?void 0:n.id);se((function(e){return _e(ye({},e),pe({},a,t))}))}),[]),Oe=function(e,t){if(e.includes("car-rental")||e.includes("cars.cartrawler"))window.location.href=function(e,t){return Rs(e,t,"pickupName","returnName")}(e,t);else if(e.includes("rent-a-car"))window.location.href=function(e,t){return Rs(e,t,"locn","loc2")}(e,t);else{var n=function(e,t){var n,a,r,l,i,o,c,s,d,u,m,p,y,_,v,S,E,g,f,h,D=e.primary,T=D.pickUpLocation,b=D.pickUpDateTime,C=D.dropOffLocation,I=D.dropOffDateTime,A=encodeURIComponent(As(b)),F=encodeURIComponent(As(I)),O=Is(b,t)||A,k=Is(I,t)||F,G=Fs(b),R=Fs(I),L="locn=".concat(encodeURIComponent(null!==(d=T.searchTerm)&&void 0!==d?d:""),"&pickupIATACode=").concat(null!==(u=T.airportCode)&&void 0!==u?u:"","&olat=").concat(null!==(m=null===(n=T.coordinates)||void 0===n?void 0:n.latitude)&&void 0!==m?m:"","&olon=").concat(null!==(p=null===(a=T.coordinates)||void 0===a?void 0:a.longitude)&&void 0!==p?p:"","&dpln=").concat(null!==(y=T.regionId)&&void 0!==y?y:""),P=C?"loc2=".concat(encodeURIComponent(null!==(_=C.searchTerm)&&void 0!==_?_:""),"&returnIATACode=").concat(null!==(v=C.airportCode)&&void 0!==v?v:"","&dlat=").concat(null!==(S=null===(r=C.coordinates)||void 0===r?void 0:r.latitude)&&void 0!==S?S:"","&dlon=").concat(null!==(E=null===(l=C.coordinates)||void 0===l?void 0:l.longitude)&&void 0!==E?E:"","&drid1=").concat(null!==(g=C.regionId)&&void 0!==g?g:""):"",M="d1=".concat(A,"&d2=").concat(F,"&date1=").concat(O,"&date2=").concat(k),N="time1=".concat(G,"&time2=").concat(R),x=null!==(f=null===(o=e.secondary)||void 0===o||null===(i=o.booleans)||void 0===i?void 0:i.filter((function(e){return"aarpcr"===e.id})).reduce((function(e,t){var n=t.id,a=t.value;return"".concat(e).concat(n,"=").concat(a?"on":"off")}),""))&&void 0!==f?f:"",B=null!==(h=null===(s=e.secondary)||void 0===s||null===(c=s.selections)||void 0===c?void 0:c.reduce((function(e,t){var n=t.id,a=t.value;return"".concat(e,"&").concat(n,"=").concat(a)}),""))&&void 0!==h?h:"",w="".concat(L,"&").concat(P,"&").concat(M,"&").concat(N);return x&&(w+="&".concat(x)),B&&(w+="".concat(B)),w}(t,{localDateFormat:P,formatDateString:A});window.location.href="".concat(e,"?").concat(n)}},ke=function(e,t){var n,a,r,l=t?"origin":"destination",i=null!==(r=null!==(a=null==e||null===(n=e.data)||void 0===n?void 0:n.primaryText)&&void 0!==a?a:null==e?void 0:e.term)&&void 0!==r?r:"",o=_e(ye({},$),pe({},l,i));K(o),q((function(e){var t,n,a,r,l,i;if(!e)return null;var c,s=e.primary,d=e.primaryTemplate,u=(null===(t=o.origin)||void 0===t?void 0:t.includes("("))?null===(n=o.origin)||void 0===n?void 0:n.split("(")[0].trim():null!==(c=null===(a=o.origin)||void 0===a?void 0:a.trim())&&void 0!==c?c:"",m=(null===(r=o.destination)||void 0===r?void 0:r.includes("("))?null===(l=o.destination)||void 0===l?void 0:l.split("(")[0].trim():null===(i=o.destination)||void 0===i?void 0:i.trim();if(!m)return _e(ye({},e),{primary:_e(ye({},s),{text:u})});var p=ia(null==d?void 0:d.text,"origin",u),y=_e(ye({},s),{text:ia(p,"destination",m)});return _e(ye({},e),{primary:y})}))},Ge={setFieldRefByTypename:Fe},Re=_e(ye({},Ge),{lastSearchLatLong:T,onOpenLocationField:p,searchLocationAnalytics:null==V?void 0:V.analytics,searchLocationContent:null==V?void 0:V.content}),Le=x&&a.createElement("div",null,a.createElement(Vc,_e(ye({},Re),{data:x,fieldError:me.fieldsWithErrors.find((function(e){return"EGDSSearchFormLocationFieldPickUp"===e.__typename})),onSelection:function(e){return ke(e,!0)},onClearLocation:function(){return ke(null,!0)}}))),Pe=B&&a.createElement("div",null,a.createElement(Vc,_e(ye({},Re),{data:B,fieldError:me.fieldsWithErrors.find((function(e){return"EGDSSearchFormLocationFieldDropOff"===e.__typename})),alternativeLocationLabel:w,onSelection:function(e){return ke(e,!1)},onClearLocation:function(){return ke(null,!1)},skipReflection:!0}))),Me=W&&a.createElement(dl,_e(ye({},e,Ge),{data:W,autoOpen:null!=v&&v})),Ne=U&&a.createElement("div",null,a.createElement(Co,_e(ye({fieldError:me.fieldsWithErrors.find((function(e){return"EGDSBasicSelectPickUp"===e.__typename}))},Ge),{data:U}))),xe=H&&a.createElement("div",null,a.createElement(Co,_e(ye({fieldError:me.fieldsWithErrors.find((function(e){return"EGDSBasicSelectDropOff"===e.__typename}))},Ge),{data:H}))),Be="EGDSSearchFormButton"===(null==k?void 0:k.__typename)&&a.createElement(f.E,{autoRows:["max-content"]},a.createElement(aa,{data:k})),we=me.displayErrorSummary,We=me.errorCount,Ue=me.errorLinkReference,He=!!G,Ve=function(e){var t=e.includesDriverAgeCheck,n=e.includeAarpRates,a=e.includeDiscountCodes,r=qs.pickUpLocation,l=qs.dropOffLocation,i=qs.dates,o=qs.pickUpTime,c=qs.dropOffTime,s=qs.driverAgeCheck,d=qs.aarpRatesAndDiscountCodes,u=qs.search,m=n||a?d:".",p=t?s:".",y=["".concat(Yi(r,8)),"".concat(Yi(l,8)),"".concat(Yi(i,8)),"".concat(Yi(o,4)," ").concat(Yi(c,4))].concat(Ee("."!==p?["".concat(Yi(p,8))]:[]),Ee("."!==m?["".concat(Yi(m,6)," ").concat(Yi(".",2))]:[]),["".concat(Yi(u,8))]),_=["".concat(Yi(r,3)," ").concat(Yi(l,3)),"".concat(Yi(i,2)," ").concat(Yi(o,2)," ").concat(Yi(c,2))].concat(Ee("."!==p?["".concat(Yi(p,2)," ").concat(Yi(".",4))]:[]),Ee("."!==m?["".concat(m," ").concat(Yi(".",5))]:[]),["".concat(Yi(u,2)," ").concat(Yi(".",4))]),v=["".concat(Yi(r,4)," ").concat(Yi(l,4)," ").concat(Yi(i,4)," ").concat(Yi(o,3)," ").concat(Yi(c,3)," ").concat(Yi(u,2))].concat(Ee("."!==p?["".concat(Yi(p,3)," ").concat(Yi(".",17))]:[]),Ee("."!==m?["".concat(Yi(m,4)," ").concat(Yi(".",16))]:[]));return _e(ye({},{space:"three"}),{areas:{small:y,medium:_,large:v}})}({includeAarpRates:!!(null==L?void 0:L.showAarpRate)&&!C,includeDiscountCodes:!!(null==L?void 0:L.discountCode)&&!C,includesDriverAgeCheck:He}),ze=function(){var e=qs.pickUpLocation,t=qs.dropOffLocation,n=qs.dates,a=qs.pickUpTime,r=qs.dropOffTime,l=qs.driverAgeCheck,i=qs.specialRatesHeading,o=qs.aarpRatesAndDiscountCodes;return{pickUpLocation:{area:e},dropOffLocation:{area:t},dates:{area:n},pickUpTime:{area:a},dropOffTime:{area:r},driverAgeCheck:{area:l},search:{area:qs.search},specialRatesHeading:{area:i},aarpRatesAndDiscountCodes:{area:o}}}(),Ye=a.createElement(b.E,{ref:le,id:ie,name:ie,method:"GET",action:O,onFieldChange:function(e,t){var n,a=e.name,r=e.value;(m&&m(e,t),E)&&(null===(n=le.current)||void 0===n||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));var l=a===ed,i=a===td,o=a===nd;if(l||i||o){var c=l?r:ee,s=ye({},Q);if(l)te(c);else{var d;if(i&&"EGDSBasicSelect"===(null==U?void 0:U.__typename))s.start=null===(d=U.options.find((function(e){return e.value===r})))||void 0===d?void 0:d.label;else if(o&&"EGDSBasicSelect"===(null==H?void 0:H.__typename)){var u;s.end=null===(u=H.options.find((function(e){return e.value===r})))||void 0===u?void 0:u.label}X(s)}q((function(e){if(!e)return null;var t=ve(e.secondaries,1)[0];if("EGDSPlainText"===t.__typename){var n=_e(ye({},t),{text:Pa(c,I,s)});return _e(ye({},e),{secondaries:[n]})}return e}))}Ae(!0)},hasRequiredFieldIndicator:!0,onSubmit:function(e){var t,n=Array.from(e.currentTarget.elements),a={location:{origin:n.find(ns("pick_up_location"))},dates:{startDateInput:n.find(ns("EGDSDateRangePicker-StartDate-dates")),endDateInput:n.find(ns("EGDSDateRangePicker-EndDate-dates")),config:{maxNumberOfDaysSelected:0,allowSameDateSelect:!0}},time:{dropOff:n.find(ns("EGDSBasicSelect-drop_off_time")),pickup:n.find(ns("EGDSBasicSelect-pick_up_time"))},age:fe?{ageInput:n.find(ns("EGDSNumberInput-driver_age")),config:{min:Te,max:be}}:void 0},r=es(a),l=r.length;if(!(0===l))return Se({fieldsWithErrors:r,errorCount:l,displayErrorSummary:!0,errorLinkReference:ce[null===(t=r[0])||void 0===t?void 0:t.__typename]}),void e.preventDefault();if(Se(de),u||_){var i=function(e){var t={day:0,hour:0,minute:0,month:0,second:0,year:0},n={primary:{pickUpLocation:{},pickUpDateTime:t,dropOffDateTime:t},secondary:{}};return Array.from(e.currentTarget.elements).filter((function(e){return e.name.startsWith("EGDS")||e.name.startsWith("Cars")||Ps.includes(e.name)})).reduce(Ms,n)}(e),o=_e(ye({},i),{secondary:i.secondary&&Object.keys(i.secondary).length>0?i.secondary:ye({},null==h?void 0:h.secondary)});if(u&&u(e,{carSearchCriteria:o}),_){e.preventDefault();var c=e.currentTarget.action;Oe(c,o)}}}},we&&R&&a.createElement(l.b,{margin:{block:"two"}},a.createElement("div",null,a.createElement(vl,{data:R,errorCount:We,inputErrorRef:Ue}))),a.createElement(f.E,ye({},Ve),a.createElement(f.a,ye({},ze.pickUpLocation),Le),a.createElement(f.a,ye({},ze.dropOffLocation),Pe),a.createElement(f.a,ye({},ze.dates),a.createElement("div",null,Me)),a.createElement(f.a,ye({},ze.pickUpTime),a.createElement("div",null,Ne)),a.createElement(f.a,ye({},ze.dropOffTime),a.createElement("div",null,xe)),He&&a.createElement(f.a,ye({},ze.driverAgeCheck),a.createElement("div",null,a.createElement(Js,{data:G,setFieldRefByTypename:Fe,errorState:me,getCheckboxState:function(e){he(e)}}))),!C&&a.createElement(f.a,ye({},ze.aarpRatesAndDiscountCodes),a.createElement("div",null,a.createElement(D.i,{space:"three"},(null==L?void 0:L.showAarpRate)&&!C&&a.createElement(D.j,null,a.createElement("div",null,a.createElement(Ar,{data:L.showAarpRate,active:ae,onChange:function(){re(!ae)}}))),(null==L?void 0:L.discountCode)&&!C&&a.createElement(D.j,null,a.createElement("div",null,a.createElement(Ys,{data:L.discountCode})))))),Be&&a.createElement(f.a,ye({},ze.search),a.createElement("div",null,Be))));return a.createElement(d.LM,null,a.createElement(d.NP,null,Y?a.createElement(qc,{data:Y,stickyPlayback:g,display:Ie,onDisplayToggle:function(e){Ae(e)}},Ye):Ye),a.createElement(d.rw,null,Ye))};rd.fragment=Zs,rd.displayName="CarsSearchForm";var ld={SEARCH_TOOLS_CARS_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_CARS_SEARCH_FORM_QUERY_FAILURE")},id={linkName:"Cars Search Form Fallback Presented",referrerId:"Web.Cars.Search.Form.Fallback.Presented"},od={linkName:"Cars Search Form Presented",referrerId:"Web.Cars.Search.Form.Presented"},cd=(0,u.J1)(Qt(),rd.fragment),sd={rows:[{type:"secondary"},{type:"primary"},{type:"primary"},{type:"primary"}]},dd={rows:[{type:"secondary"},{type:"primary"}]},ud=function(e){var t=e.inputs,n=e.skipSsr,r=e.batchKey,l=e.includePlayback,i=e.skipQuery,o=void 0!==i&&i,c=e.sticky,s=e.pageLocation,u=(0,m.R)().context,y=(0,p.useLoggerEvents)(ld),_=_e(ye({},t),{context:u,includePlayback:Boolean(l),pageLocation:s}),v=(0,E.I)(cd,{context:{batchKey:r},variables:_,ssr:!n,skip:o}),g=v.data,f=v.error,h=v.loading,D=v.previousData,T=ve((0,a.useState)("car_search_form_rental_types_option_car"),2),b=T[0],C=T[1];if(h&&!D)return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Zn,ye({},sd))),a.createElement(d.rw,null,a.createElement(Zn,ye({},dd))));var I=null!=g?g:D;if(f||!I||"CarSearchForm"!==(null==I?void 0:I.searchForm.car.__typename))return y.SEARCH_TOOLS_CARS_SEARCH_FORM_QUERY_FAILURE.log({name:null==f?void 0:f.name,error:new Error(null==f?void 0:f.message)}),a.createElement(Wn,null,a.createElement(S.ee,ye({},id),a.createElement(rd,_e(ye({},e),{data:ro,criteria:t.carSearchCriteria}))));var A=a.createElement(a.Fragment,null,"CarSearchForm"===(null==I?void 0:I.searchForm.car.__typename)&&I.searchForm.car.rentalTypes&&a.createElement(Xs,{onTabSelected:function(e){C("car_search_form_rental_types_option_gt"===e?"car_search_form_rental_types_option_gt":"car_search_form_rental_types_option_car")},data:I.searchForm.car.rentalTypes}),"car_search_form_rental_types_option_car"===b?a.createElement("div",{id:"car_search_form_rental_types_option_car"},a.createElement(S.ee,ye({},od),a.createElement(rd,_e(ye({},e),{data:null==I?void 0:I.searchForm.car,criteria:t.carSearchCriteria})))):a.createElement("div",{id:"car_search_form_rental_types_option_gt"},a.createElement(Ts,{inputs:{groundTransportationSearchCriteria:null},redirectToSearchResultOnSubmit:!0})));return c?a.createElement("div",{"data-stid":"search-form-sticky"},a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement("div",null,A)),a.createElement(d.rw,null,a.createElement(Gn,null,A)))):A};ud.displayName="sharedui-CarsSearchForm";var md={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Activity.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Activity.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},pd={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Activity.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},yd={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_form_field",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Location selection",referrerId:"Web.Activity.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"ACTIVITIES",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:286,typeaheadFeatures:"consistent_display|lxcategory",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by destination",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Activity.Location.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Activity.Location.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},_d=new Date,vd=new Date(_d.getFullYear(),_d.getMonth(),_d.getDate()+14),Sd=new Date(vd.getFullYear(),vd.getMonth(),vd.getDate()+1),Ed=new Date(_d.getFullYear(),_d.getMonth(),_d.getDate()+328),gd=vd.getMonth()+1,fd=Sd.getMonth()+1,hd={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Dates",placeholder:"Dates",errorMessage:"End date must be after start date",validations:[{errorMessage:"Dates must be no more than 14 days apart",__typename:"EGDSMaxLengthInputValidation"},{__typename:"EGDSRequiredInputValidation"}],action:{accessibility:null,analytics:{linkName:"Calendar selection",referrerId:"Web.Activity.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:14,sameDaySelectionAllowed:!0,selectedStartDate:{day:vd.getDate(),month:gd,year:vd.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check-in",selectedEndDate:{day:Sd.getDate(),month:fd,year:Sd.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check-out",validDaysLowerBoundInclusive:{day:_d.getDate(),month:_d.getMonth(),year:_d.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:Ed.getDate(),month:Ed.getMonth(),year:Ed.getFullYear(),__typename:"Date"},submitButtonAnalytics:{linkName:"Calendar submit",referrerId:"Web.Activity.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Activity.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Activity.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"Calendar start",referrerId:"Web.Activity.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"Calendar end",referrerId:"Web.Activity.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},Dd=(0,u.J1)(Xt()),Td=function(e){var t=e.data,n=e.inline,r=e.size;return a.createElement(G.c,{inline:n,size:r},t.text)};Td.fragment=Dd,Td.displayName="EGDSPlainText";var bd=(0,u.J1)(Zt(),Td.fragment,ei.fragment),Cd=function(e){var t=e.data;e.inline;switch(t.__typename){case"EGDSPlainText":return a.createElement(Td,{data:t,inline:!0});case"EGDSStandardLink":return a.createElement(ei,{data:t});default:return null}};Cd.fragment=bd,Cd.displayName="EGDSSpannableTextInlineContent";var Id=(0,u.J1)(en(),Td.fragment,ei.fragment),Ad=function(e){var t,n,r=e.data;return(null==r||null===(t=r.inlineContent)||void 0===t?void 0:t.length)?a.createElement("div",{"data-stid":"egds-spannable-text"},null==r||null===(n=r.inlineContent)||void 0===n?void 0:n.map((function(e,t){return a.createElement(a.Fragment,{key:"inline-content-".concat(t)},a.createElement(Cd,{data:e})," ")}))):null};Ad.displayName="EGDSSpannableText",Ad.fragment=_e(ye({},Id),{__typename:"EGDSSpannableText"});var Fd="EGDSSearchFormLocationField",Od="".concat(Fd,"-Location"),kd="".concat(Fd,"-RegionId"),Gd="".concat(Fd,"-Lat"),Rd="".concat(Fd,"-Long"),Ld="".concat(Fd,"-Values"),Pd="".concat(Fd,"-Selected"),Md="".concat(Fd,"-AmenitiesFacilitiesGroup"),Nd="".concat(Fd,"-LocGroup"),xd="".concat(Fd,"-PropertiesGoodForGroup"),Bd="".concat(Fd,"-PropertyTypeGroup"),wd="".concat(Fd,"-PropertyId"),Wd="".concat(Fd,"-PropertyFilter"),Ud="EGDSSearchFormTravelersField",Hd="".concat(Ud,"-Adult-Room"),Vd="".concat(Ud,"-ChildrenAge-Room"),zd="EGDSSearchFormTravelersField",Yd="".concat(zd,"-Adult"),qd="".concat(zd,"-ChildrenAge"),jd="".concat(zd,"-Pets"),$d="SearchFormDurationSpanField",Kd="".concat($d,"-Min"),Jd="".concat($d,"-Max"),Qd="EGDSBasicPill";function Xd(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)){var t=ve(e.split("-"),3),n=t[0],a=t[1],r=t[2];return"".concat(a,"-").concat(r,"-").concat(n)}return e}var Zd,eu,tu={ONE_WAY:"oneway",ROUND_TRIP:"roundtrip",MULTI_DESTINATION:"multi"},nu=(pe(Zd={},"LODGING",(function(e){var t=e.reduce((function(e,t){var n=t.name,a=t.value,r=t.checked;if(n.startsWith("".concat(Od,"-destination")))return _e(ye({},e),{destination:encodeURIComponent(a)});if(n.startsWith("".concat(kd,"-destination"))&&"null"!==a)return _e(ye({},e),{regionId:a});if(n.startsWith("".concat(Gd,"-destination"))&&a)return _e(ye({},e),{latLong:a});if(n.startsWith("".concat(Rd,"-destination"))&&a)return _e(ye({},e),{latLong:"".concat(e.latLong,",").concat(a)});if(n.startsWith("".concat(Md,"-destination"))&&a)return _e(ye({},e),{amenities_facilities_group:a});if(n.startsWith("".concat(Nd,"-destination"))&&a)return _e(ye({},e),{location_group:a});if(n.startsWith("".concat(xd,"-destination"))&&a)return _e(ye({},e),{properties_good_for_group:a});if(n.startsWith("".concat(Bd,"-destination"))&&a)return _e(ye({},e),{property_type_group:a});if(n.startsWith(Wd)&&a){var l=n.split("".concat(Wd,"-")).pop();return ye({},e,l?pe({},l,a):{})}if(n.startsWith(al.START_DATE_NAME_PREFIX))return _e(ye({},e),{d1:a,startDate:a});if(n.startsWith(al.END_DATE_NAME_PREFIX))return _e(ye({},e),{d2:a,endDate:a});if(n.startsWith(al.FLEXIBILITY_PREFIX))return _e(ye({},e),{flexibility:a});if(n.startsWith(al.FLEXIBILITY_NIGHTS_PREFIX))return _e(ye({},e),{flexibility:a});if(n.startsWith(al.FLEXIBILITY_WEEKEND_PREFIX))return _e(ye({},e),{flexibleSearchRequirement:a});if(n.startsWith(al.FLEXIBILITY_MONTHS_PREFIX))return _e(ye({},e),{searchRange:a});if(n.startsWith("".concat(wd)))return _e(ye({},e),{propertyId:a});if(n.startsWith(Hd)){var i=e.adults,o=i?"".concat(i,",").concat(a):a,c=o.split(",").length;return _e(ye({},e),{adults:o,rooms:c})}if(n.startsWith(Vd)){var s=e.children,d=n.substr(Vd.length,1),u="".concat(d,"_").concat(a),m=s?"".concat(s,",").concat(u):u;return _e(ye({},e),{children:m})}if(n.startsWith(Yd))return _e(ye({},e),{adults:a});if(n.startsWith(qd)){var p=e.children,y="".concat(1,"_").concat(a),_=p?"".concat(p,",").concat(y):y;return _e(ye({},e),{children:_})}return n.startsWith(jd)?ye({},e,"CHECKED"===a&&{house_rules_group:"pets_allowed"}):n.startsWith(Pd)?a?_e(ye({},e),{selected:a}):ye({},e):n.startsWith("".concat(Od,"-origin"))?_e(ye({},e),{origin:a}):n.startsWith("EGDSSoftPackagesPackageType")&&a.length>0?_e(ye({},e),{packageType:a}):n.startsWith("".concat(Qd,"-add-flight"))||n.startsWith("add-flight-switch")?ye({},e,r?{"add-flight-switch":r}:{}):n.startsWith("".concat(Qd,"-add-car"))||n.startsWith("add-car-switch")?ye({},e,r?{"add-car-switch":r}:{}):e}),{}),n=Object.keys(t).map((function(e){return e.includes("flexibility")?t[e].split(",").map((function(t){return"".concat(e,"=").concat(t)})).join("&"):e.includes("searchRange")?t[e].split("/").map((function(t){return"".concat(e,"=").concat(t)})).join("&"):"".concat(e,"=").concat(t[e])})).join("&");return"?".concat(n)})),pe(Zd,"CRUISES_ODYSSEUS",(function(e){var t=e.reduce((function(e,t){var n=t.name,a=t.value;return n.startsWith(Ld)?_e(ye({},e),{destinations:a}):n.startsWith(al.START_DATE_NAME_PREFIX)?_e(ye({},e),{startdate:Xd(a)}):n.startsWith(al.END_DATE_NAME_PREFIX)?_e(ye({},e),{enddate:Xd(a)}):n.startsWith(Kd)?_e(ye({},e),{minduration:a}):n.startsWith(Jd)?_e(ye({},e),{maxduration:a}):e}),{}),n=Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&");return"".concat(n)})),pe(Zd,"FLIGHTS",(function(e){var t={from:"",to:"",departureDate:""},n={adults:0,seniors:0,childAges:[]},a=e.reduce((function(e,a){var r=a.name,l=a.value;return r.includes("flight_type_selector")?_e(ye({},e),{trip:tu[l]}):r.includes("cabin_class")?_e(ye({},e),{options:"cabinclass:".concat(l)}):r.startsWith(Od)&&r.includes("origin_select")?(t.from=l,e):r.startsWith(Od)&&r.includes("destination_select")?(t.to=l,e):r.startsWith(al.START_DATE_NAME_PREFIX)?(t.departureDate=l,_e(ye({},e),{fromDate:l})):r.startsWith(Yd)?(n.adults=+l,e):r.startsWith(qd)?(n.childAges.push(l),e):e}),{"flight-type":"on",mode:"search"}),r=n.childAges.length||0,l=r?"".concat(r,"[").concat(n.childAges.join(";"),"]"):r.toString();a.legs=[t],a.passengers="children:".concat(l,",adults:").concat(n.adults,",seniors:0,infantinlap:Y");var i=Object.keys(a).map((function(e){return"legs"===e&&a.legs?a.legs.map((function(e,t){return"leg".concat(t+1,"=from:").concat(e.from,",to:").concat(e.to,",departure:").concat(e.departureDate,"TANYT")})).join("&"):"".concat(e,"=").concat(a[e])})).join("&");return"?".concat(i)})),pe(Zd,"ACTIVITIES",(function(e){var t=e.reduce((function(e,t){var n=t.name,a=t.value;return n.startsWith(Od)?_e(ye({},e),{location:a}):n.startsWith(kd)?_e(ye({},e),{rid:a}):n.startsWith(al.START_DATE_NAME_PREFIX)?_e(ye({},e),{d1:a,startDate:a}):n.startsWith(al.END_DATE_NAME_PREFIX)?_e(ye({},e),{d2:a,endDate:a}):e}),{}),n=Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&");return"?".concat(n)})),Zd),au=function(e,t){var n=["EGDS","SearchForm","add"],a=t.filter((function(e){var t=e.name;return n.find((function(e){return t.startsWith(e)}))}));return nu[e](a)},ru=function(e){return e.DESTINATION="destination_form_field",e.TRAVEL_DATES="EGDSDateRangePicker",e}(ru||{}),lu=function(e,t){var n=t.name,a=t.value,r=e.primary;if(n.startsWith("".concat(fc,"-destination")))return{primary:_e(ye({},r),{destination:_e(ye({},r.destination),{regionName:a})})};if(n.startsWith(hc))return{primary:_e(ye({},r),{destination:_e(ye({},r.destination),{regionId:a})})};if(n.startsWith(Tc)||n.startsWith(bc)){var l=n.startsWith("".concat(Tc)),i=l?Number(a):null,o=l?null:Number(a),c=i&&o?{latitude:i,longitude:o}:null;return{primary:_e(ye({},r),{destination:_e(ye({},r.destination),{coordinates:c})})}}var s=n.startsWith(al.START_DATE_NAME_PREFIX),d=n.startsWith(al.END_DATE_NAME_PREFIX);if(s||d){var u,m,p=ve(a.split("-").map((function(e){return Number(e)})),3),y=p[0],_=p[1],v={day:0,month:0,year:0},S={day:p[2],month:_,year:y};return{primary:_e(ye({},e.primary),{dateRange:{startDate:s?S:(null===(u=e.primary.dateRange)||void 0===u?void 0:u.startDate)||v,endDate:d?S:(null===(m=e.primary.dateRange)||void 0===m?void 0:m.endDate)||v}})}}return ye({},e)},iu={grow:1,minWidth:"zero",maxWidth:"full_width"},ou={EGDSSearchFormLocationField:iu,EGDSSearchFormDatePickerField:iu,EGDSSearchFormButton:{grow:0},default:iu},cu=(pe(eu={},d.OB.SMALL,_e(ye({},ou),{EGDSSearchFormLocationField:_e(ye({},iu),{minWidth:"full_width"}),EGDSSearchFormDatePickerField:{minWidth:"full_width"},EGDSSearchFormButton:{grow:1}})),pe(eu,d.OB.MEDIUM,_e(ye({},ou),{EGDSSearchFormLocationField:_e(ye({},iu),{minWidth:"third_width"}),EGDSSearchFormDatePickerField:{grow:1,minWidth:"third_width"}})),pe(eu,d.OB.LARGE,ou),pe(eu,d.OB.EXTRA_LARGE,ou),eu),su=[Vc,dl,aa],du=(0,u.J1)(tn(),vl.fragment,Vc.fragment,dl.fragment,aa.fragment,qc.fragment,Ad.fragment,Sc),uu=function(e){var t=e.viewSize,n=e.fields,r=e.errorState,l=e.defaultValidationProps;return a.createElement(D.i,{alignContent:"end",alignItems:"start",justifyContent:"center",wrap:"wrap",space:"three"},n.map((function(n,i){var o=n.__typename,c=su.find((function(e){return e.displayName===o}));if(!c)return null;var s,d,u=null!==(s=(d=cu[t])[o])&&void 0!==s?s:d.default,m=r.fieldsWithErrors.find((function(e){return e.__typename===o})),p=_e(ye({},l),{fieldError:m}),y=ye({},e,p);return a.createElement(D.j,ye({key:"field_".concat(o,"_").concat(i)},u),a.createElement("div",null,a.createElement(c,_e(ye({},y),{data:n}))))})))},mu=function(e){var t,n=e.data,r=e.onFieldChange,i=e.onSubmit,o=e.redirectToSearchResultOnSubmit,c=e.autoOpenPlayback,s=e.stickyPlayback,u=e.autoSubmitOnFieldChange,m=e.skipQuery,p=(0,N.useLocalization)(),y=ve(a.useState({EGDSSearchFormLocationField:null,EGDSSearchFormDatePickerField:null}),2),_=y[0],v=y[1],S=a.useRef(null),E={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},g=ve(a.useState(E),2),f=g[0],h=g[1],D=n.egdsElementId,T=n.elements,C=n.search,I=n.actionURL,A=n.errorSummary,F=n.playback,O=n.subTitle,k=n.searchLocation,R=null!=D?D:"search-activity-form",L=C?Ee(T).concat([C]):T,P=ve(a.useState(!c),2),M=P[0],x=P[1],B=ve(a.useState(F),2),w=B[0],W=B[1];a.useEffect((function(){F&&!m&&W(F)}),[F,m]);var U,H={setFieldRefByTypename:a.useCallback((function(e,t){v((function(n){return _e(ye({},n),pe({},e,t))}))}),[])},V=T.find((function(e){return"EGDSSearchFormDatePickerField"===e.__typename})),z="EGDSSearchFormDatePickerField"===(null==V?void 0:V.__typename)&&"EGDSOpenDatePickerAction"===(null===(t=V.action)||void 0===t?void 0:t.__typename)&&"EGDSDateRangePicker"===V.action.datePicker.__typename&&null!==(U=V.action.datePicker.maxNumberOfDaysSelected)&&void 0!==U?U:0,Y=f.displayErrorSummary,q=f.errorCount,j=f.errorLinkReference,$=A&&Y,K=_e(ye({},e),{viewSize:d.OB.SMALL,fields:L,errorState:f,defaultValidationProps:H,searchLocationAnalytics:null==k?void 0:k.analytics,searchLocationContent:null==k?void 0:k.content});return a.createElement(b.E,{ref:S,id:R,name:R,method:"GET",action:I,onFieldChange:function(e,t){var n;(r&&r(e,t),u)&&(null===(n=S.current)||void 0===n||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));W((function(t){var n=ru.DESTINATION,a=ru.TRAVEL_DATES,r=e.name,l=e.value,i=r===n,o=r===a;if(!t)return null;if(!o&&!i)return ye({},t);var c=t.primary,s=t.secondaries,d=i?_e(ye({},c),{text:l}):c,u=function(e,t,n){var a=t.length>1,r={__typename:"EGDSPlainText",accessibility:null,text:""};if(e){var l=Pa(n,p);return a?[_e(ye({},r),{text:l}),t[1]]:[_e(ye({},r),{text:l})]}return Ee(t)}(o,s,l);return _e(ye({},t),{primary:d,secondaries:u})})),x(!0)},onSubmit:function(e){h(E);var t,n=Array.from(e.currentTarget.elements),a={location:{destination:n.find(ns("destination_form_field"))},dates:{startDateInput:n.find(ns("EGDSDateRangePicker-StartDate-date_form_field")),endDateInput:n.find(ns("EGDSDateRangePicker-EndDate-date_form_field")),config:{maxNumberOfDaysSelected:z,allowSameDateSelect:!0}}},r=es(a),l=r.length;if(!(0===l))return h({fieldsWithErrors:r,errorCount:l,displayErrorSummary:!0,errorLinkReference:_[null===(t=r[0])||void 0===t?void 0:t.__typename]}),void e.preventDefault();var c=Array.from(e.currentTarget.elements),s=function(e){return e.filter((function(e){return e.name.startsWith("EGDS")})).reduce(lu,{primary:{},secondary:{}})}(c);if(i&&i(e,{activitySearchCriteria:s}),o){e.preventDefault();var d=au("ACTIVITIES",c);window.location.href="".concat(e.currentTarget.action).concat(d)}},hasRequiredFieldIndicator:!0},O&&a.createElement(l.b,{padding:{blockend:"two"}},a.createElement(G.b,{tag:"p"},O?a.createElement(Ad,{data:O}):"")),$&&a.createElement(vl,{data:A,errorCount:q,inputErrorRef:j}),a.createElement(l.b,{margin:{blockstart:$?"two":void 0}},a.createElement("div",null,a.createElement(d.LM,null,a.createElement(d.NP,null,w?a.createElement(qc,{data:w,stickyPlayback:s,display:M,onDisplayToggle:function(e){x(e)}},a.createElement(uu,ye({},K))):a.createElement(uu,ye({},K))),a.createElement(d.rw,null,a.createElement(uu,_e(ye({},K),{viewSize:d.OB.MEDIUM}))),a.createElement(d.zQ,null,a.createElement(uu,_e(ye({},K),{viewSize:d.OB.LARGE})))))))};mu.fragment=du,mu.displayName="ActivitySearchForm";var pu={SEARCH_TOOLS_ACTIVITY_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_ACTIVITY_SEARCH_FORM_QUERY_FAILURE")},yu={linkName:"Activity Search Form Fallback Presented",referrerId:"Web.Activity.Search.Form.Fallback.Presented"},_u={linkName:"Activity Search Form Presented",referrerId:"Web.Activity.Search.Form.Presented"},vu=(0,u.J1)(nn(),mu.fragment),Su={rows:[{type:"primary"},{type:"primary"},{type:"primary"}]},Eu={rows:[{type:"primary"}]},gu=function(e){var t=e.inputs,n=e.skipSsr,r=e.skipQuery,l=void 0!==r&&r,i=e.batchKey,o=e.includePlayback,c=e.autoSubmitOnFieldChange,s=e.pageLocation,u=(0,m.R)().context,y=(0,p.useLoggerEvents)(pu),_=_e(ye({},t),{context:u,includePlayback:!!o,pageLocation:s}),v=(0,E.I)(vu,{context:{batchKey:i},variables:_,ssr:!n,skip:l}),g=v.data,f=v.error,h=v.loading,D=v.previousData,T=null!=g?g:D;if(h&&!T)return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Zn,ye({},Su))),a.createElement(d.rw,null,a.createElement(Zn,ye({},Eu))));if(f&&y.SEARCH_TOOLS_ACTIVITY_SEARCH_FORM_QUERY_FAILURE.log({name:f.name,error:new Error(f.message)}),f||!T){var b={__typename:"ActivitySearchForm",egdsElementId:"activity-search-form",actionURL:"/things-to-do/search",errorSummary:md,elements:[yd,hd],search:pd,playback:null,subTitle:null,searchLocation:Xi};if("ActivitySearchForm"===b.__typename)return a.createElement(Wn,null,a.createElement(S.ee,ye({},yu),a.createElement(mu,_e(ye({},e),{data:b}))))}return T&&"ActivitySearchForm"===T.searchForm.activity.__typename?a.createElement(S.ee,ye({},_u),a.createElement(mu,_e(ye({},e),{autoSubmitOnFieldChange:c,data:T.searchForm.activity}))):null};gu.displayName="sharedui-ActivitySearchForm";var fu={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_form_field",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location open",referrerId:"Web.Cruises.Destinations.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"CRUISES",maxNumberOfResults:25,packageType:null,personalize:!1,regionType:null,typeaheadFeatures:null,isMultiLocation:!0,domain:"https://www.expedia.com",regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"",categorize:!0,allowExactMatch:!1,listTitle:!0,selectedItemHeading:"Selected destinations",clearAllText:"Clear all",dismissButtonText:"Done",__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Cruises.Destinations.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Cruises.Destinations.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},hu=new Date,Du=new Date(hu.getFullYear(),hu.getMonth(),hu.getDate()+2),Tu=new Date(Du.getFullYear(),Du.getMonth(),Du.getDate()+1),bu=new Date(Du.getFullYear(),Du.getMonth(),Du.getDate()+1e3),Cu={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Departing between",placeholder:"Departing between",errorMessage:null,validations:null,action:{accessibility:null,analytics:{linkName:"cruise date open",referrerId:"Web.Cruises.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!1,selectedStartDate:{day:Du.getDate(),month:Du.getMonth()+1,year:Du.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check In",selectedEndDate:{day:Tu.getDate(),month:Tu.getMonth()+1,year:Tu.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check Out",validDaysLowerBoundInclusive:{day:Du.getDate(),month:Du.getMonth(),year:Du.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:bu.getDate(),month:bu.getMonth(),year:bu.getFullYear(),__typename:"Date"},submitButtonAnalytics:{linkName:"cruise date submit",referrerId:"Web.Cruises.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Cruises.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Cruises.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"cruise date start date click",referrerId:"Web.Cruises.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"cruise date end date click",referrerId:"Web.Cruises.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},Iu={egdsElementId:"duration_span_selector_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Cruises.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Cruises.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},Au={__typename:"SearchFormDurationSpanField",egdsElementId:"duration_span_form_field",label:"Duration",labelTemplate:{__typename:"EGDSBasicLocalizedText",egdsElementId:"duration_span_form_field_label",models:[{key:"minNights",source:"minNights",__typename:"TemplateModel"},{key:"maxNights",source:"maxNights",__typename:"TemplateModel"}],template:"${minNights} – ${maxNights} nights",text:"3 – 9 nights"},leftIcon:{id:"access_time",__typename:"Icon"},action:{__typename:"OpenDurationSpanAction",analytics:{__typename:"ClientSideAnalytics",linkName:"Search form",referrerId:"Web.Cruises.Duration.Open"},durationSpan:{__typename:"DurationSpanSelector",egdsElementId:"duration_span_selector",title:"Duration",doneButton:{__typename:"UIPrimaryButton",egdsElementId:"duration_span_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Search form",referrerId:"Web.Cruises.Duration.Done",__typename:"ClientSideAnalytics"},action:null},closeButton:{__typename:"UITertiaryButton",egdsElementId:"duration_span_selector_close_button",primary:null,disabled:!1,accessibility:"Close duration dialog",icon:null,analytics:{linkName:"Search form",referrerId:"Web.Cruises.Duration.Close",__typename:"ClientSideAnalytics"},action:null},minDurationSpanLimit:{__typename:"EGDSNumberInputField",egdsElementId:"duration_span_selector_min_input",label:"Min nights",value:"3",placeholder:"Enter a number",errorMessage:"Change min nights",step:1,min:1,max:300},maxDurationSpanLimit:{__typename:"EGDSNumberInputField",egdsElementId:"duration_span_selector_max_input",label:"Max nights",value:"9",placeholder:"Enter a number",errorMessage:"Change max nights",step:1,min:1,max:300},validations:[{__typename:"DurationSpanInputValidation",errorMessage:"",type:"REQUIRED_VALUE",errorSummary:Iu},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MINIMUM_VALUE",errorSummary:Iu},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MAXIMUM_VALUE",errorSummary:Iu},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MINIMUM_LESS_THAN_MAXIMUM",errorSummary:Iu},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MAXIMUM_GREATER_THAN_MINIMUM",errorSummary:Iu}]},accessibility:"Duration selector opened"}},Fu={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Cruises.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},Ou=function(e,t){var n=t.min,a=t.max;if("EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)){var r,l=e.template,i=e.models;return function(e,t,n){return t.reduce((function(e,t){var a=t.key,r="${".concat(a,"}"),l=Number(n[a]).toString();return e.replace(r,l)}),e)}(l,i,(pe(r={},i[0].key,n),pe(r,i[1].key,a),r))}return""},ku=function(e){var t=e.minDurationInput,n=e.maxDurationInput,a=e.errorMessage,r=e.errorSummary,l=e.validationType,i=e.fieldUpdated,o=t.value,c=t.min,s=t.max,d=n.value,u=n.min,m=n.max;if(null===o||null===c||null===s||null===d||null===u||null===m)return null;var p=parseFloat(o),y=parseFloat(d),_={displayError:!1,message:a,validationType:l,errorType:"No Duration Input",errorCount:0,errorSummary:r},v=function(e){return p>y?_e(ye({},_),{errorType:e,errorCount:1}):null};switch(l){case"REQUIRED_VALUE":var S=Number.isNaN(p),E=Number.isNaN(y),g=Number(S)+Number(E),f="No Duration Input";return g?(S&&E&&(f="Both Duration Inputs"),S&&!E&&(f="Minimum Duration Input"),!S&&E&&(f="Maximum Duration Input"),_e(ye({},_),{errorType:f,errorCount:g})):null;case"MINIMUM_VALUE":var h=p<c,D=y<u,T=Number(h)+Number(D),b="No Duration Input";return T?(h&&D&&(b="Both Duration Inputs"),h&&!D&&(b="Minimum Duration Input"),!h&&D&&(b="Maximum Duration Input"),_e(ye({},_),{errorType:b,errorCount:T})):null;case"MAXIMUM_VALUE":var C=p>s,I=y>m,A=Number(C)+Number(I),F="No Duration Input";return A?(C&&I&&(F="Both Duration Inputs"),C&&!I&&(F="Minimum Duration Input"),!C&&I&&(F="Maximum Duration Input"),_e(ye({},_),{errorType:F,errorCount:A})):null;case"MINIMUM_LESS_THAN_MAXIMUM":return"MIN"===i?v("Minimum Duration Input"):null;case"MAXIMUM_GREATER_THAN_MINIMUM":return"MAX"===i?v("Maximum Duration Input"):null;default:return null}},Gu=function(e){var t=e.minDurationInput,n=e.maxDurationInput,a=e.validations,r=e.currentError,l=e.fieldUpdated;if(!a.length)return null;for(var i=null,o=0;o<a.length;o+=1){var c=a[o];if("DurationSpanInputValidation"===c.__typename&&(null==c?void 0:c.errorSummary)){var s=c.errorMessage,d=c.type,u=c.errorSummary;if(i=ku({minDurationInput:t,maxDurationInput:n,errorMessage:s,errorSummary:u,validationType:d,fieldUpdated:l}))break}}if(!i)return null;var m=(null==r?void 0:r.validationType)===(null==i?void 0:i.validationType);if(m&&(null==r?void 0:r.displayError)){var p=i.errorType,y=i.errorCount;return _e(ye({},r),{errorType:p,errorCount:y})}return!m&&(null==r?void 0:r.displayError)?_e(ye({},i),{displayError:!0}):i},Ru=a.createContext({state:{}}),Lu=function(e,t){switch(t.type){case"Update Minimum Value":var n=t.min,a=e.minDurationInput,r=e.maxDurationInput,l=e.validations,i=e.error,o=_e(ye({},a),{value:n}),c=Gu({minDurationInput:o,maxDurationInput:r,currentError:i,validations:null!=l?l:[],fieldUpdated:"MIN"});return _e(ye({},e),{error:c,minDurationInput:o});case"Update Maximum Value":var s=t.max,d=e.minDurationInput,u=e.maxDurationInput,m=e.validations,p=e.error,y=_e(ye({},u),{value:s}),_=Gu({minDurationInput:d,maxDurationInput:y,currentError:p,validations:null!=m?m:[],fieldUpdated:"MAX"});return _e(ye({},e),{error:_,maxDurationInput:y});case"Show Error Message":if(e.error){var v=_e(ye({},e.error),{displayError:!0});return _e(ye({},e),{error:v})}return e;case"Reset Duration Span State":return t.state;default:return e}},Pu=function(e){var t=e.children,n=e.durationSpan,r=ve(a.useReducer(Lu,n,(function(e){var t=e.minDurationSpanLimit,n=e.maxDurationSpanLimit,a=e.validations;return{minDurationInput:t,maxDurationInput:n,validations:null!=a?a:[],error:null}})),2),l=r[0],i=r[1];return a.useMemo((function(){return a.createElement(Ru.Provider,{value:{state:l,dispatch:i}},t)}),[l,i])},Mu=function(){return a.useContext(Ru)},Nu=function(e){var t,n,r,i,o,c,s,d,u,m,p,y,_,v=e.minDurationSpanLimit,S=e.maxDurationSpanLimit,E=e.durationSpanLimits,g=e.error,f=e.handleErrorInputRefUpdate,h=e.handleChange,T=null!==(t=null==g?void 0:g.errorType)&&void 0!==t?t:"No Duration Input",b="Minimum Duration Input"===T||"Both Duration Inputs"===T,C="Maximum Duration Input"===T||"Both Duration Inputs"===T,I=null==g?void 0:g.validationType,A=function(e){return e.errorMessage&&("MINIMUM_VALUE"===I||"MAXIMUM_VALUE"===I||"REQUIRED_VALUE"===I)?e.errorMessage:null==g?void 0:g.message},F=parseFloat(E.min),O=parseFloat(E.max),k=a.useRef(null),G=a.useRef(null),R={id:null!==(n=v.egdsElementId)&&void 0!==n?n:"duration_span_field_min_input",label:null!==(r=v.label)&&void 0!==r?r:"",min:null!==(i=v.min)&&void 0!==i?i:void 0,max:null!==(o=v.max)&&void 0!==o?o:void 0,placeholder:null!==(c=v.placeholder)&&void 0!==c?c:void 0,step:null!==(s=v.step)&&void 0!==s?s:void 0,value:Number.isNaN(F)?void 0:F,invalid:b?A(v):void 0,domRef:k},L={id:null!==(d=S.egdsElementId)&&void 0!==d?d:"duration_span_field_max_input",label:null!==(u=S.label)&&void 0!==u?u:"",min:null!==(m=S.min)&&void 0!==m?m:void 0,max:null!==(p=S.max)&&void 0!==p?p:void 0,placeholder:null!==(y=S.placeholder)&&void 0!==y?y:void 0,step:null!==(_=S.step)&&void 0!==_?_:void 0,value:Number.isNaN(O)?void 0:O,invalid:C?A(S):void 0,domRef:G};return b&&f(k),!b&&C&&f(G),a.createElement("section",null,a.createElement(l.b,{padding:{blockstart:"four",inline:"four"}},a.createElement(D.i,{wrap:"wrap"},a.createElement(l.b,{padding:{inlineend:"one"}},a.createElement(D.j,{minWidth:"half_width"},a.createElement("div",null,a.createElement(X.E,_e(ye({name:"min",hasBorder:!0,hasVisibleLabel:!0,onChange:h},R),{type:"number"}))))),a.createElement(l.b,{padding:{inlinestart:"one"}},a.createElement(D.j,{minWidth:"half_width"},a.createElement("div",null,a.createElement(X.E,_e(ye({name:"max",hasBorder:!0,hasVisibleLabel:!0,onChange:h},L),{type:"number"}))))))))},xu=(0,u.J1)(an(),ml.fragment,yl.fragment,vl.fragment),Bu=function(e){var t,n,r=e.onSave,i=e.data,o=i.doneButton,c=i.minDurationSpanLimit,s=i.maxDurationSpanLimit,u=(0,S.KY)(),m=Mu(),p=m.state,y=m.dispatch,_=p.minDurationInput,v=p.maxDurationInput,E=p.error,g=ve(a.useState(a.createRef()),2),f=g[0],h=g[1],T=ve(a.useState({min:null!==(t=_.value)&&void 0!==t?t:"",max:null!==(n=v.value)&&void 0!==n?n:""}),2),b=T[0],C=T[1];a.useEffect((function(){var e,t;C({min:null!==(e=_.value)&&void 0!==e?e:"",max:null!==(t=v.value)&&void 0!==t?t:""})}),[_,v]);var I=function(){if(E)y({type:"Show Error Message"});else{if("UIPrimaryButton"===o.__typename&&o.analytics){var e=o.analytics,t=e.referrerId,n=e.linkName;u(t,n)}E||r(p)}};return a.createElement(a.Fragment,null,(null==E?void 0:E.displayError)&&a.createElement(l.b,{padding:{blockstart:"three"}},a.createElement("div",null,a.createElement(vl,{data:E.errorSummary,errorCount:E.errorCount,inputErrorRef:f}))),a.createElement(Nu,{minDurationSpanLimit:c,maxDurationSpanLimit:s,durationSpanLimits:b,error:E,handleErrorInputRefUpdate:function(e){h(e)},handleChange:function(e){var t=e.target,n=t.name,a=t.value;C(_e(ye({},b),pe({},n,a))),"min"!==n?"max"===n&&y({type:"Update Maximum Value",max:a}):y({type:"Update Minimum Value",min:a})}}),"UIPrimaryButton"===o.__typename&&a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(K.E,{tag:"div",type:K.a.BUTTON,color:K.b.SECONDARY},a.createElement(ml,{isFullWidth:!0,onClick:I,data:o}))),a.createElement(d.rw,null,a.createElement(l.b,{padding:{blockstart:"six"}},a.createElement("div",null,a.createElement(ml,{isFullWidth:!0,onClick:I,data:o})))),a.createElement(d.zQ,null,a.createElement(l.b,{padding:{blockstart:"six"}},a.createElement(D.i,{justifyContent:"end"},a.createElement(D.j,null,a.createElement(ml,{isFullWidth:!1,onClick:I,data:o})))))))};Bu.displayName="DurationSpanSelector",Bu.fragment=xu;var wu="SearchFormDurationSpanField",Wu="".concat(wu,"-Max"),Uu="".concat(wu,"-Min"),Hu=function(e){var t,n,r=e.action,i=e.labelTemplate,o=e.egdsElementId,s=void 0===o?"duration_form_field":o,u=e.label,m=void 0===u?"":u,p=e.leftIconId,y=void 0===p?"access_time":p,_=r.analytics,v=r.durationSpan,E=v.closeButton,g=v.title,f=Mu(),h=f.state,D=f.dispatch,T=ve((0,B.useDialog)("duration-span-dialog"),3),C=T[0],I=T[1],A=T[2],F=(0,S.KY)(),O=a.useRef(null),k=ve(a.useState(!1),2),R=k[0],L=k[1],P=ve(a.useState(_e(ye({},h),{durationSummary:i.text,shouldFireChangeEvent:!1})),2),M=P[0],N=P[1],x=(0,b.u)(v.__typename,(function(e){return e})),w=M.durationSummary,W=M.shouldFireChangeEvent;a.useEffect((function(){W&&(N((function(e){return _e(ye({},e),{shouldFireChangeEvent:!1})})),Na(w,x))}),[w,W,x]);var H,V,z,Y=function(e,t){var n=Ou(i,t);N(_e(ye({},e),{durationSummary:n,shouldFireChangeEvent:!0}))};return"UITertiaryButton"!==E.__typename?null:a.createElement(a.Fragment,null,a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(a.Fragment,null,a.createElement(X.g,{id:"".concat(s,"_input"),name:"".concat(s,"_input"),label:m,value:w,icon:y,onClick:function(){var e=_.referrerId,t=_.linkName;F(e,t),I.openDialog()},domRef:O}),a.createElement(U.h,{isVisible:C},a.createElement(A,null,a.createElement(U.e,{type:"full",triggerRef:O,autoFocus:!0,isVisible:!0,returnFocusOnClose:!0},a.createElement(c.b,{id:"".concat(s,"_dialog_toolbar"),toolbarType:"standard",toolbarTitle:g,toolbarTitleTag:"h2",navigationContent:{onClick:function(){var e;if("UITertiaryButton"===E.__typename&&E.analytics){var t=E.analytics,n=t.referrerId,a=t.linkName;F(n,a)}if(h.error)D({type:"Show Error Message"});else{var r,l,i=h.minDurationInput,o=h.maxDurationInput;Y(h,{min:null!==(r=i.value)&&void 0!==r?r:"",max:null!==(l=o.value)&&void 0!==l?l:""}),D({type:"Reset Duration Span State",state:h}),null===(e=O.current)||void 0===e||e.focus(),I.closeDialog()}},navIconLabel:null!==(H=null==E?void 0:E.accessibility)&&void 0!==H?H:void 0,navType:"close"}}),a.createElement(U.f,{padded:!1},a.createElement(b.E,{hasRequiredFieldIndicator:!0},a.createElement(Bu,{onSave:function(e){var t,n,a,r=e.minDurationInput,l=e.maxDurationInput;Y(e,{min:null!==(n=null==r?void 0:r.value)&&void 0!==n?n:"",max:null!==(a=null==l?void 0:l.value)&&void 0!==a?a:""}),null===(t=O.current)||void 0===t||t.focus(),I.closeDialog()},data:v})))))))),a.createElement(d.rw,null,a.createElement(te.E,{isOpen:R,onDismiss:function(){var e;if(h.error)return L((function(e){return!e})),void D({type:"Show Error Message"});var t,n,a=h.minDurationInput,r=h.maxDurationInput;Y(h,{min:null!==(t=a.value)&&void 0!==t?t:"",max:null!==(n=r.value)&&void 0!==n?n:""}),D({type:"Reset Duration Span State",state:h}),null===(e=O.current)||void 0===e||e.focus()},onTriggerClick:function(){L((function(e){return!e}))}},a.createElement(te.b,null,a.createElement(X.g,{id:"".concat(s,"_input"),name:"".concat(s,"_input"),label:m,value:w,icon:y,onClick:function(){var e=_.referrerId,t=_.linkName;F(e,t)},domRef:O})),a.createElement(te.c,{autoPosition:!0,position:te.P.RIGHT,width:375},a.createElement(l.b,{padding:{inline:"four"}},a.createElement("div",{"data-stid":"duration-span-menu"},a.createElement(l.b,{padding:{blockstart:"three"}},a.createElement(G.E,{size:5,tag:"h5"},g)),a.createElement(Bu,{onSave:function(e){var t,n,a,r=e.minDurationInput,l=e.maxDurationInput;Y(e,{min:null!==(n=r.value)&&void 0!==n?n:"",max:null!==(a=l.value)&&void 0!==a?a:""}),L((function(e){return!e})),null===(t=O.current)||void 0===t||t.focus()},data:v}))))))),a.createElement("input",{type:"hidden","data-stid":Wu,name:"".concat(Wu,"-").concat(s),value:null!==(V=null===(t=M.maxDurationInput)||void 0===t?void 0:t.value)&&void 0!==V?V:""}),a.createElement("input",{type:"hidden","data-stid":Uu,name:"".concat(Uu,"-").concat(s),value:null!==(z=null===(n=M.minDurationInput)||void 0===n?void 0:n.value)&&void 0!==z?z:""}))},Vu=(0,u.J1)(rn(),Bu.fragment),zu=function(e){var t=e.data,n=t.egdsElementId,r=t.label,l=t.labelTemplate,i=t.leftIcon,o=t.action;return"OpenDurationSpanAction"!==(null==o?void 0:o.__typename)||"EGDSBasicLocalizedText"!==(null==l?void 0:l.__typename)?null:a.createElement(Pu,{durationSpan:o.durationSpan},a.createElement(Hu,{egdsElementId:n,label:null!=r?r:"",labelTemplate:l,leftIconId:null==i?void 0:i.id,action:o}))};zu.displayName="SearchFormDurationSpanField",zu.fragment=Vu;var Yu,qu=function(e){return e.DESTINATION="destination_form_field",e.DATES="EGDSDateRangePicker",e.DURATION="DurationSpanSelector",e}(qu||{}),ju=function(e,t,n){var a,r=ve(n.split("-"),2),l=r[0],i=r[1],o=(pe(a={},t[0].key,l),pe(a,t[1].key,i),a);return t.reduce((function(e,t){var n=t.key,a="${".concat(n,"}");return e.replace(a,o[n])}),e)},$u={grow:5,minWidth:200,maxWidth:"full_width"},Ku={EGDSSearchFormLocationField:{minWidth:200,maxWidth:288,grow:5},EGDSSearchFormDatePickerField:$u,SearchFormDurationSpanField:$u,EGDSSearchFormButton:{grow:0},default:$u},Ju=(pe(Yu={},d.OB.SMALL,_e(ye({},Ku),{EGDSSearchFormLocationField:$u,EGDSSearchFormButton:{grow:1,minWidth:315},default:$u})),pe(Yu,d.OB.MEDIUM,_e(ye({},Ku),{EGDSSearchFormLocationField:{minWidth:160,grow:5},EGDSSearchFormDatePickerField:{minWidth:160,grow:5},SearchFormDurationSpanField:{minWidth:150,grow:5},EGDSSearchFormButton:{grow:0,minWidth:32}})),pe(Yu,d.OB.LARGE,ye({},Ku)),pe(Yu,d.OB.EXTRA_LARGE,Ku),Yu),Qu=[Vc,dl,zu,aa],Xu=(0,u.J1)(ln(),Vc.fragment,dl.fragment,aa.fragment,zu.fragment,qc.fragment,Sc),Zu=pe({},Vc.displayName,{}),em=function(e){var t=e.viewSize,n=e.fields,r=e.searchLocationContent;return a.createElement(D.i,{alignContent:"end",alignItems:"start",justifyContent:"center",wrap:"wrap",space:"three"},n.map((function(e,n){var l=e.__typename,i=Qu.find((function(e){return e.displayName===l}));if(!i)return null;var o,c,s=null!==(o=(c=Ju[t])[l])&&void 0!==o?o:c.default,d=_e(ye({},Zu[l]),{searchLocationContent:r,setFieldRefByTypename:function(){}});return a.createElement(D.j,ye({key:"field_".concat(l,"_").concat(n)},s),a.createElement("div",null,a.createElement(i,ye({data:e},d))))})))},tm=function(e){var t=e.data,n=e.onFieldChange,r=e.triggerSubmitOnFieldChange,i=(0,N.useLocalization)(),o=a.useRef(null),c=t.egdsElementId,s=t.elements,u=t.search,m=t.actionURL,p=t.playback,y=t.expertAdviceInfo,_=t.searchLocation,v=ve(a.useState(p),2),S=v[0],E=v[1],g=ve(a.useState(!0),2),f=g[0],h=g[1];a.useEffect((function(){E(p)}),[p]);var D=null!=c?c:"cruise_search_form",T={fields:u?Ee(s).concat([u]):s,searchLocationAnalytics:null==_?void 0:_.analytics,searchLocationContent:null==_?void 0:_.content};return a.createElement(b.E,{ref:o,id:D,name:D,method:"GET",action:m,onFieldChange:function(e,t){var a;(n&&n(e,t),r)&&(null===(a=o.current)||void 0===a||a.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));E((function(t){if(!t)return null;var n,a,r,l,o,c,s,d,u=qu.DESTINATION,m=qu.DATES,p=qu.DURATION,y=t.primary,_=t.secondaries,v=e.value,S=e.name===u?_e(ye({},y),{text:v}):y,E=ve(_,2),g=E[0],f=E[1],h=e.name===m&&"EGDSBasicLocalizedText"===g.__typename?_e(ye({},g),{text:Pa(v,i),template:g.template,accessibilityTemplate:ju(g.template,g.models,Pa(v,i)),models:g.models,egdsElementId:g.egdsElementId}):g,D=e.name===p&&"EGDSCardinalLocalizedText"===f.__typename?_e(ye({},f),{text:v,accessibilityText:(n=f.templates,a=f.models,r=v.substring(0,v.lastIndexOf(" ")),l=ve(r.split("–"),2),o=l[0],c=l[1],s=1===Number(c)?n[Number(c)].template:n[4].template,d="".concat(o," - ").concat(c),ju(s,a,d)),models:f.models,templates:f.templates,egdsElementId:f.egdsElementId}):f;return _e(ye({},t),{primary:S,secondaries:[h,D]})}))},onSubmit:function(e){e.preventDefault();var t=Array.from(e.currentTarget.elements),n=au("CRUISES_ODYSSEUS",t),a=e.currentTarget.action.includes("?")?"&":"?";window.location.href="".concat(e.currentTarget.action).concat(a).concat(n)},hasRequiredFieldIndicator:!0},y&&a.createElement(l.b,{padding:{blockend:"two"}},a.createElement(G.b,{tag:"p"},y)),a.createElement(l.b,null,a.createElement("div",null,a.createElement(d.LM,null,a.createElement(d.NP,null,S?a.createElement(qc,{data:S,display:f,onDisplayToggle:function(e){h(e)}},a.createElement(em,ye({viewSize:d.OB.SMALL},T))):a.createElement(em,ye({viewSize:d.OB.SMALL},T))),a.createElement(d.rw,null,a.createElement(em,ye({viewSize:d.OB.MEDIUM},T))),a.createElement(d.zQ,null,a.createElement(em,ye({viewSize:d.OB.LARGE},T)))))))};tm.fragment=Xu,tm.displayName="CruiseSearchForm";var nm={SEARCH_TOOLS_CRUISES_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_CRUISES_SEARCH_FORM_QUERY_FAILURE")},am={linkName:"Cruises Search Form Fallback Presented",referrerId:"Web.Cruises.Search.Form.Fallback.Presented"},rm={linkName:"Cruises Search Form Presented",referrerId:"Web.Cruises.Search.Form.Presented"},lm=(0,u.J1)(on(),tm.fragment),im={rows:[{type:"primary"},{type:"primary"},{type:"primary"}]},om={rows:[{type:"primary"}]},cm=function(e){var t=e.inputs,n=e.skipSsr,r=e.onFieldChange,l=e.triggerSubmitOnFieldChange,i=e.batchKey,o=e.includePlayback,c=e.skipQuery,s=void 0!==c&&c,u=e.pageLocation,y=(0,m.R)().context,_=(0,p.useLoggerEvents)(nm),v=_e(ye({},t),{context:y,includePlayback:!!o,pageLocation:u}),g=ve(a.useState(s),2),f=g[0],h=g[1],D=(0,E.I)(lm,{context:{batchKey:i},variables:v,ssr:!n,skip:f}),T=D.error,b=D.loading,C=D.previousData,I=D.data;if(a.useEffect((function(){h(s&&!b)}),[s,b]),b&&!I)return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Zn,ye({},im))),a.createElement(d.rw,null,a.createElement(Zn,ye({},om))));if(!I&&C&&(I=C),T&&_.SEARCH_TOOLS_CRUISES_SEARCH_FORM_QUERY_FAILURE.log({name:T.name,error:new Error(T.message)}),T||!I){var A={__typename:"CruiseSearchForm",egdsElementId:"cruise_search_form",actionURL:"/swift/cruise?siid=1207601",elements:[fu,Cu,Au],search:Fu,playback:null,expertAdviceInfo:"For expert cruise advice, call 1-800-916-8586.",searchLocation:Xi};if("CruiseSearchForm"===A.__typename)return a.createElement(Wn,null,a.createElement(S.ee,ye({},am),a.createElement(tm,{data:A,onFieldChange:r,triggerSubmitOnFieldChange:l})))}return I&&"CruiseSearchForm"===I.searchForm.cruise.__typename?a.createElement(S.ee,ye({},rm),a.createElement(tm,{data:I.searchForm.cruise,onFieldChange:r,triggerSubmitOnFieldChange:l})):null};cm.displayName="sharedui-CruiseSearchForm";var sm=(0,u.J1)(cn()),dm="EGDSSearchFormInputFieldWithSelection",um="".concat(dm),mm=function(e){var t,n,r,l=e.data,i=e.trigger,o=e.triggerType,c=i.egdsElementId,s=i.leftIcon,u=i.label,m=l.analytics,p=l.options.filter((function(e){return"EGDSBasicOption"===e.__typename})).map((function(e){return e})),y=(0,S.KY)(),_=ve(a.useState(!1),2),v=_[0],E=_[1],g=ve(a.useState(p.findIndex((function(e){return e.selected}))),2),f=g[0],h=g[1],D=null!==(t=p.find((function(e,t){return t===f})))&&void 0!==t?t:i,T=D.label,C=D.value,A=ve(a.useState(null!=C?C:""),2),F=A[0],O=A[1],k=a.createRef(),R=a.createRef(),L=a.createRef(),P="".concat(um,"-").concat(c),M=(0,b.u)(P,(function(e){return e})),N=a.useCallback((function(e){e&&E((function(e){return!e}));var t=m.referrerId,n=m.linkName;y(t,n)}),[m,y]),x=function(){E(!1)},B=(0,b.u)(P,(function(e){return O(e.target.value),e})),w=function(){return p.map((function(e,t){return a.createElement(ae.a,{selected:t===f,key:e.label},a.createElement(ae.b,null,a.createElement(I.a,{role:"menuitemradio",onClick:function(e){return function(e,t){var n,a,r,l,i,o,c,s;h(e),E(!1),Na(p[e].value,M),y(null!==(c=null===(a=p[e])||void 0===a||null===(n=a.changeAnalytics)||void 0===n?void 0:n.referrerId)&&void 0!==c?c:"",null!==(s=null===(l=p[e])||void 0===l||null===(r=l.changeAnalytics)||void 0===r?void 0:r.linkName)&&void 0!==s?s:""),null==k||null===(i=k.current)||void 0===i||i.focus(),null===(o=L.current)||void 0===o||o.focus(),t.preventDefault()}(t,e)}},e.label)),a.createElement(G.c,{size:300},e.label))}))},W=a.createElement(X.i,{name:P,label:null!=u?u:"",icon:null!==(n=null==s?void 0:s.id)&&void 0!==n?n:"",domRef:R,onChange:B,"aria-label":null!=u?u:""},p.map((function(e){var t=e.label,n=e.value;return a.createElement("option",{key:n,label:t,value:n},n)}))),U=a.createElement(V.E,{name:P,id:c,triggerPill:!0,selected:!0,toggleState:v,onClick:function(){return N(!0)},domRef:L},null!==(r=T!==u?T:C)&&void 0!==r?r:""),H=function(e){return a.createElement(te.E,{id:"".concat(c,"_menu"),isOpen:v,onDismiss:x,disableBodyClickHandler:!1},a.createElement(te.b,null,U),a.createElement(te.c,{position:te.P.LEFT,width:e},a.createElement("div",{role:"menu"},a.createElement(ae.E,null,w()))))};return a.createElement(a.Fragment,null,"pill"===o&&a.createElement(d.LM,null,a.createElement(d.NP,null,H(210)),a.createElement(d.rw,null,H(260))),"selector"===o&&W,a.createElement("input",{type:"hidden","data-testid":P,name:P,value:"selector"===o?F:null!=C?C:""}))};mm.displayName=dm,mm.fragment=sm;var pm=(0,u.J1)(sn(),Ha.fragment,mm.fragment),ym=function(e){var t,n=e.data,r=e.triggerType;return"EGDSSearchFormSelectAction"===(null===(t=n.action)||void 0===t?void 0:t.__typename)&&r?a.createElement(mm,{data:n.action,trigger:n,triggerType:r}):null};ym.displayName="EGDSSearchFormInputField",ym.fragment=pm;var _m={egdsElementId:"cabin_class",value:"COACH",label:"Cabin class",placeholder:"Economy",leftIcon:{id:"airline_seat_recline_extra",title:null,token:"icon__airline_seat_recline_extra",description:"airline_seat_recline_extra",size:null,__typename:"Icon"},action:{analytics:{linkName:"Open Cabin Class Selector",referrerId:"Web.package.cabin.class.selector.open",__typename:"ClientSideAnalytics"},options:[{label:"Economy",selected:!0,value:"COACH",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Economy class selected",referrerId:"Web.package.cabin.class.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Premium economy",selected:!1,value:"ECONOMY_PREMIUM",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Premium economy class selected",referrerId:"Web.package.cabin.class.premium.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Business class",selected:!1,value:"BUSINESS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Business class selected",referrerId:"Web.package.cabin.class.business.class.selected",__typename:"ClientSideAnalytics"}},{label:"First class",selected:!1,value:"FIRST_CLASS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"First class selected",referrerId:"Web.package.cabin.class.first.class.selected",__typename:"ClientSideAnalytics"}}],__typename:"EGDSSearchFormSelectAction"},__typename:"EGDSSearchFormInputField"},vm=function(e){return{__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"package-type-selector-car",primary:"Car",selected:e,selectedText:"Car added",value:null,icon:null,selectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.car.selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.car.deselected",__typename:"ClientSideAnalytics"}}},Sm=function(e){return{__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"package-type-selector-flight",primary:"Flight",selected:e,selectedText:"Flight added",value:null,icon:null,selectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.flight.selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.flight.deselected",__typename:"ClientSideAnalytics"}}},Em=function(e){return{__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"package-type-selector-stay",primary:"Stay",selected:e,selectedText:"Stay added",value:null,icon:null,selectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.stay.selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.stay.deselected",__typename:"ClientSideAnalytics"}}},gm=[{__typename:"EGDSSearchFormLocationsField"},{__typename:"EGDSSearchFormDatePickerField"},{__typename:"EGDSSearchFormTravelersField"}],fm=new Map([["FLIGHT_HOTEL",{car:vm(!1),flight:Sm(!0),stay:Em(!0),__typename:"PackagesSearchFormSelection"}],["FLIGHT_CAR",{car:vm(!0),flight:Sm(!0),stay:Em(!1),__typename:"PackagesSearchFormSelection"}],["FLIGHT_HOTEL_CAR",{car:vm(!0),flight:Sm(!0),stay:Em(!0),__typename:"PackagesSearchFormSelection"}],["HOTEL_CAR",{car:vm(!0),flight:Sm(!1),stay:Em(!0),__typename:"PackagesSearchFormSelection"}]]),hm=["stay","flight","car"],Dm=[{stay:!0,flight:!0,car:!0,type:"FLIGHT_HOTEL_CAR"},{stay:!0,flight:!0,car:!1,type:"FLIGHT_HOTEL"},{stay:!1,flight:!0,car:!0,type:"FLIGHT_CAR"},{stay:!0,flight:!1,car:!0,type:"HOTEL_CAR"}],Tm=(0,u.J1)(dn(),Ar.fragment),bm=function(e){var t,n,r=e.data,l=e.onPackageTypeChange,i=r.car,o=r.flight,c=r.stay,s={stay:!!(null==c?void 0:c.selected),flight:!!(null==o?void 0:o.selected),car:!!(null==i?void 0:i.selected)},d=ve(a.useState(_e(ye({},s),{type:null!==(n=null===(t=Dm.find((function(e){return hm.every((function(t){return e[t]===s[t]}))})))||void 0===t?void 0:t.type)&&void 0!==n?n:null})),2)[1],u=function(e){var t=e.target,n=t.name,a=t.checked,r=n.split("package-type-selector-")[1];d((function(e){var t,n,i=_e(ye({},e),pe({},r,a)),o=null!==(n=null===(t=Dm.find((function(e){return hm.every((function(t){return e[t]===i[t]}))})))||void 0===t?void 0:t.type)&&void 0!==n?n:null;return null==l||l(o),_e(ye({},i),{type:o})}))};if(!c||!o)return null;var m=i?[c,o,i]:[c,o];return a.createElement(a.Fragment,null,m.map((function(e){return a.createElement(Ar,{key:e.name,data:e,onChange:u})})))};bm.displayName="PackagesSearchFormSelection",bm.fragment=Tm;var Cm=(0,u.J1)(un(),bm.fragment,ym.fragment,Ar.fragment),Im=function(e){var t,n=e.inputs,r=e.skipSsr,i=e.batchKey,o=e.onFieldChange,c=e.onCabinClassSelect,s=e.onPackageTypeChange,d=e.handleDirectFlightsOnlySwitch,u=e.showCabinClass,p=e.showDirectFlightsOnly,y=e.skipQuery,_=n.includePackageType,v=n.packageType,S=(0,m.R)().context,g=_e(ye({},n),{context:S}),f=(0,E.I)(Cm,{context:{batchKey:i},variables:g,ssr:!r,skip:y}),h=f.data,C=f.error,I=f.loading,A=f.previousData||h;if(a.useEffect((function(){if(c){var e,t="PackagesSearchForm"===(null==A?void 0:A.searchForm.packages.__typename)?A.searchForm.packages.elements.find((function(e){var t;return"EGDSSearchFormInputField"===e.__typename&&"EGDSSearchFormSelectAction"===(null===(t=e.action)||void 0===t?void 0:t.__typename)})):null;if("EGDSSearchFormInputField"===(null==t?void 0:t.__typename)&&"EGDSSearchFormSelectAction"===(null===(e=t.action)||void 0===e?void 0:e.__typename)){var n,a="".concat(um,"-").concat(t.egdsElementId),r=t.action.options.find((function(e){return e.selected}));c({name:a,value:null!==(n=null==r?void 0:r.value)&&void 0!==n?n:""})}}}),[null==A?void 0:A.searchForm,c]),a.useEffect((function(){var e,t=(null!==(e=null==A?void 0:A.searchForm)&&void 0!==e?e:{}).packages;"PackagesSearchForm"===(null==t?void 0:t.__typename)&&t.directFlightsOnly&&d&&d(t.directFlightsOnly.selected)}),[null==A?void 0:A.searchForm,d]),I&&!A)return a.createElement(l.b,{padding:{blockstart:"three",blockend:"three"}},a.createElement("div",null,a.createElement(T.b,{animation:!0,type:"secondary"})));if(!C&&A||(A=function(e,t){var n=null,a=Ee(gm);return t&&e&&(n=fm.get(e)||null),e&&"HOTEL_CAR"!==e&&(a=Ee(gm).concat([_m])),{searchForm:{packages:{__typename:"PackagesSearchForm",packageSelection:n,elements:a,directFlightsOnly:null},__typename:"SearchFormResults"}}}(v,_)),"PackagesSearchForm"!==(null==A||null===(t=A.searchForm)||void 0===t?void 0:t.packages.__typename))return null;var F=A.searchForm.packages.elements,O=A.searchForm.packages.directFlightsOnly;return a.createElement(l.b,{padding:{blockend:"three"}},a.createElement(D.i,{space:"two",wrap:"wrap"},_&&A.searchForm.packages.packageSelection&&a.createElement(D.j,null,a.createElement(b.E,{onFieldChange:function(e,t){null==o||o(e,t)},"data-stid":"package-type-selector"},a.createElement(bm,_e(ye({},e),{data:A.searchForm.packages.packageSelection,onPackageTypeChange:s})))),u&&a.createElement(D.j,null,a.createElement("div",null,a.createElement(b.E,{onFieldChange:function(e){null==c||c(e)}},F.map((function(e,t){return"EGDSSearchFormInputField"===e.__typename&&a.createElement(ym,{key:t,data:e,triggerType:"pill"})}))))),O&&p&&a.createElement(D.j,null,a.createElement("div",null,a.createElement(Ar,{data:O,onChange:function(e){null==d||d(e.target.checked)}})))))};Im.displayName="sharedui-PackagesOptions";var Am=[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],Fm=[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],Om=[{category:"ZERO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"ONE",template:"${roomCount} room",__typename:"CardinalTemplate"},{category:"TWO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"FEW",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"MANY",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"OTHER",template:"${roomCount} rooms",__typename:"CardinalTemplate"}],km={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Packages.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:Am,__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},Gm={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Packages.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},Rm={noSelectionMessage:{body:"To start building your trip, choose two or more items",heading:"Please select two or more items",icon:{id:"search",title:null,token:"icon__search",description:"search",size:null,__typename:"Icon"},__typename:"UIEmptyState"},__typename:"PackagesSearchFormSelection"},Lm=new Map([["FLIGHT_CAR","fc"],["FLIGHT_HOTEL_CAR","fhc"],["FLIGHT_HOTEL","fh"],["HOTEL_CAR","hc"]]),Pm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"HOTEL_CAR";return{__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Destination Selection",referrerId:"Web.package.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Packages.Search",drivable:!1,isDestination:!0,lineOfBusiness:"PACKAGES",maxNumberOfResults:8,packageType:Lm[e]||"hc",personalize:!0,regionType:863,typeaheadFeatures:"ta_hierarchy|postal_code|google|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:Lm[e]||"hc",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.package.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.package.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null}},Mm=function(e){return{__typename:"EGDSSearchFormLocationsField",egdsElementId:"locations",origin:{__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select an origin",validations:[{errorMessage:"Please select an origin",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Origin Selection",referrerId:"Web.package.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Packages.Search",drivable:!1,isDestination:!1,lineOfBusiness:"PACKAGES",maxNumberOfResults:8,packageType:Lm.get(e)||"hc",personalize:!0,regionType:863,typeaheadFeatures:"ta_hierarchy|postal_code|google|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:Lm.get(e)||"hc",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.package.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.package.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:Pm(e),horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"package.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"package.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}]}},Nm=new Date,xm=new Date(Nm.getFullYear(),Nm.getMonth(),Nm.getDate()+14),Bm=new Date(xm.getFullYear(),xm.getMonth(),xm.getDate()+1),wm=new Date(Nm.getFullYear(),Nm.getMonth(),Nm.getDate()+332),Wm=new Date(Nm.getFullYear(),Nm.getMonth(),Nm.getDate()+2),Um=xm.getMonth()+1,Hm=Bm.getMonth()+1,Vm={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date-range-select",label:"Dates",placeholder:"Dates",errorMessage:"Please select valid dates",validations:[{errorMessage:"Dates must be no more than 29 days apart",__typename:"EGDSMaxLengthInputValidation"},{__typename:"EGDSRequiredInputValidation"},{__typename:"EGDSSameValueInputValidation"}],action:{accessibility:null,analytics:{linkName:"Packages - Calendar Selection",referrerId:"Web.packages.calendar.selection",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:29,sameDaySelectionAllowed:!1,selectedStartDate:{day:xm.getDate(),month:Um,year:xm.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check-in",selectedEndDate:{day:Bm.getDate(),month:Hm,year:Bm.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check-out",validDaysLowerBoundInclusive:{day:Wm.getDate(),month:Wm.getMonth(),year:Wm.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:wm.getDate(),month:wm.getMonth(),year:wm.getFullYear(),__typename:"Date"},submitButtonAnalytics:{linkName:"Packages - Calendar Submit",referrerId:"Web.packages.calendar.submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Packages.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Packages.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"Packages - Calendar Start Date",referrerId:"Web.packages.calendar.start.date.click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"Packages - Calendar End Date",referrerId:"Web.packages.calendar.end.date.click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},zm={__typename:"EGDSSearchFormInputField",egdsElementId:"cabin_class",value:"COACH",label:"Cabin class",placeholder:"Economy",leftIcon:{id:"airline_seat_recline_extra",title:null,token:"icon__airline_seat_recline_extra",description:"airline_seat_recline_extra",size:null,__typename:"Icon"},action:{analytics:{linkName:"Open Cabin Class Selector",referrerId:"Web.package.cabin.class.selector.open",__typename:"ClientSideAnalytics"},options:[{label:"Economy",selected:!0,value:"COACH",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Economy class selected",referrerId:"Web.package.cabin.class.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Premium economy",selected:!1,value:"ECONOMY_PREMIUM",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Premium economy class selected",referrerId:"Web.package.cabin.class.premium.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Business class",selected:!1,value:"BUSINESS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Business class selected",referrerId:"Web.package.cabin.class.business.class.selected",__typename:"ClientSideAnalytics"}},{label:"First class",selected:!1,value:"FIRST_CLASS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"First class selected",referrerId:"Web.package.cabin.class.first.class.selected",__typename:"ClientSideAnalytics"}}],__typename:"EGDSSearchFormSelectAction"}},Ym=[{errorMessage:"We allow up to 6 travelers per booking.",maxCount:6,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 6 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for each infant in a lap.",maxCount:null,type:"MANY_INFANT_ON_LAP",infantsInSeatPerAdult:2,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for each infant in a lap.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Packages.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:Am,__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",maxCount:null,type:"MANY_INFANT_IN_SEAT",infantsInSeatPerAdult:2,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],qm=function(e,t){return{label:t||e,value:e,egdsElementId:null,changeAnalytics:{linkName:"Travelers age update",referrerId:"Web.Packages.Traveler.Child.Update.Age.".concat(e),__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"}},jm={__typename:"EGDSSearchFormTravelersField",action:{analytics:{linkName:"Packages - Travelers Selection",referrerId:"Web.packages.travelers.selection",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:null,primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers add room",referrerId:"Web.Packages.Traveler.Add.Room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:null,primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"",token:"icon__close",title:null,__typename:"Icon"},analytics:{linkName:"Travelers results not updated",referrerId:"Web.Packages.Traveler.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},doneButton:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers results updated",referrerId:"Web.Packages.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},infantSeatSelection:{airlineAgeRule:{text:"Airline age rules",action:{accessibility:null,target:"INTERNAL",resource:{value:"https://www.expedia.com/p/info-main/h_fw_default%3Frhtx=HTX_FLTSRCH_RT%23travs",__typename:"HttpURI"},analytics:{linkName:"Packages - Airline Age Rules",referrerId:"Web.packages.airline.age.rules",__typename:"ClientSideAnalytics"},__typename:"UILinkAction"},icon:null,iconPosition:null,__typename:"EGDSStandardLink",egdsElementId:null},groupName:"InfantSeating",labelTemplate:{text:"Where will the infants sit?",models:[{key:"infantCount",source:"infantCount",__typename:"TemplateModel"}],templates:[{category:"ONE",template:"Where will the infant sit?",__typename:"CardinalTemplate"},{category:"OTHER",template:"Where will the infants sit?",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},options:[{label:"On lap",value:"lap",__typename:"EGDSInfantSeatRadioButton"},{label:"In seat",value:"seat",__typename:"EGDSInfantSeatRadioButton"}],selected:"lap",__typename:"EGDSTravelerInfantSeatSelection"},maxRoomCount:6,rooms:[{label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults in this room",decreaseTextTemplate:null,increaseText:"Increase the number of adults in this room",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children in this room",decreaseTextTemplate:null,increaseText:"Increase the number of children in this room",increaseTextTemplate:null,egdsElementId:"traveler_selector_child_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Ages 2 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[qm("2"),qm("3"),qm("4"),qm("5"),qm("6"),qm("7"),qm("8"),qm("9"),qm("10"),qm("11"),qm("12"),qm("13"),qm("14"),qm("15"),qm("16"),qm("17")],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infants:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants in this room",decreaseTextTemplate:null,increaseText:"Increase the number of infants in this room",increaseTextTemplate:null,egdsElementId:"traveler_selector_infant_step_input",__typename:"EGDSTravelerStepInput",label:"Infants",max:5,min:0,step:1,subLabel:"Younger than 2",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Under 1",value:"0",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},removeRoomButton:{egdsElementId:null,primary:"Remove room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Packages.Traveler.Remove.Room",referrerId:"Web.Travelers remove room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},removeRoomAnnouncement:"Room removed",__typename:"EGDSTravelerSelectorRoom"}],title:"Travelers",validations:Ym,__typename:"EGDSRoomsTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:Om,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:Fm,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travelers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1},$m={__typename:"EGDSSearchFormTravelersField",action:{analytics:{linkName:"Packages - Travelers Selection",referrerId:"Web.packages.travelers.selection",__typename:"ClientSideAnalytics"},travelerSelector:{closeButton:{egdsElementId:null,primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"",token:"icon__close",title:null,__typename:"Icon"},analytics:null,action:null,__typename:"UITertiaryButton"},doneButton:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UIPrimaryButton"},title:"Travelers",travelers:{adults:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:null,increaseText:"Increase the number of adults",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:null,increaseText:"Increase the number of children",increaseTextTemplate:null,egdsElementId:"traveler_selector_child_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Ages 2 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[qm("2"),qm("3"),qm("4"),qm("5"),qm("6"),qm("7"),qm("8"),qm("9"),qm("10"),qm("11"),qm("12"),qm("13"),qm("14"),qm("15"),qm("16"),qm("17")],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infantsInSeat:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants",decreaseTextTemplate:null,increaseText:"Increase the number of infants",increaseTextTemplate:null,egdsElementId:"traveler_selector_infant_step_input",__typename:"EGDSTravelerStepInput",label:"Infants in seat",max:4,min:0,step:1,subLabel:"Younger than 2",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Under 1",value:"0",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},infantsOnLap:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants",decreaseTextTemplate:null,increaseText:"Increase the number of infants",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Infants on lap",max:3,min:0,step:1,subLabel:"Younger than 2",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Under 1",value:"0",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},pets:null,__typename:"EGDSTravelers"},validations:Ym,__typename:"EGDSBasicTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:Fm,secondaryTemplates:null,text:"2 travelers",__typename:"EGDSCardinalLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1},Km={__typename:"EGDSSearchFormTravelersField",action:{analytics:{linkName:"Packages - Travelers Selection",referrerId:"Web.packages.travelers.selection",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:null,primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers add room",referrerId:"Web.Packages.Traveler.Add.Room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:null,primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"",token:"icon__close",title:null,__typename:"Icon"},analytics:{linkName:"Travelers results not updated",referrerId:"Web.Packages.Traveler.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},doneButton:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers results updated",referrerId:"Web.Packages.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},infantSeatSelection:{airlineAgeRule:{text:"Airline age rules",action:{accessibility:null,target:"INTERNAL",resource:{value:"https://www.expedia.com/p/info-main/h_fw_default%3Frhtx=HTX_FLTSRCH_RT%23travs",__typename:"HttpURI"},analytics:{linkName:"Packages - Airline Age Rules",referrerId:"Web.packages.airline.age.rules",__typename:"ClientSideAnalytics"},__typename:"UILinkAction"},icon:null,iconPosition:null,__typename:"EGDSStandardLink",egdsElementId:null},groupName:"InfantSeating",labelTemplate:{text:"Where will the infants sit?",models:[{key:"infantCount",source:"infantCount",__typename:"TemplateModel"}],templates:[{category:"ONE",template:"Where will the infant sit?",__typename:"CardinalTemplate"},{category:"OTHER",template:"Where will the infants sit?",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},options:[{label:"On lap",value:"lap",__typename:"EGDSInfantSeatRadioButton"},{label:"In seat",value:"seat",__typename:"EGDSInfantSeatRadioButton"}],selected:"lap",__typename:"EGDSTravelerInfantSeatSelection"},maxRoomCount:6,rooms:[{label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults in this room",decreaseTextTemplate:null,increaseText:"Increase the number of adults in this room",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children in this room",decreaseTextTemplate:null,increaseText:"Increase the number of children in this room",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Ages 0 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[qm("0","Under 1"),qm("1"),qm("2"),qm("3"),qm("4"),qm("5"),qm("6"),qm("7"),qm("8"),qm("9"),qm("10"),qm("11"),qm("12"),qm("13"),qm("14"),qm("15"),qm("16"),qm("17")],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infants:null,removeRoomButton:{egdsElementId:null,primary:"Remove room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Packages.Traveler.Remove.Room",referrerId:"Web.Travelers remove room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},removeRoomAnnouncement:"Room removed",__typename:"EGDSTravelerSelectorRoom"}],title:"Travelers",validations:Ym,__typename:"EGDSRoomsTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:Om,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:Fm,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travelers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1},Jm=(0,u.J1)(mn(),ea),Qm=function(e){var t=e.onClick,n=e.data,r=n.egdsElementId,l=n.primary,i=n.analytics,o=null!=r?r:"search_form_secondary_button",c=(0,S.KY)(),s=a.useCallback((function(){if(i){var e=i.referrerId,n=i.linkName;c(e,n)}t()}),[i,t,c]);return a.createElement(ie.E,{id:o,onClick:s},l)};Qm.displayName="SearchToolsEGDSSecondaryButton",Qm.fragment=Jm;var Xm=(0,u.J1)(pn(),Qm.fragment,Vc.fragment),Zm="EGDSSearchFormLocationsField",ep=function(e){var t,n,r,l,o,c=e.originRef,s=e.destinationRef,u=e.data,m=e.index,p=e.skipReflection,y=e.onOpenLocationField,_=e.onLocationsSelection,v=e.lastSearchLatLong,E=e.searchLocationAnalytics,g=e.searchLocationContent,f=(0,S.KY)(),h=(0,i.kW)(),D=h.state,T=h.dispatch,b=u.origin,C=u.destination,I=u.validations,A=c.originFieldError,F=c.setFieldRefByTypename,O=s.destinationFieldError,k=s.setFieldRefByTypename,G=D.destination,R=D.origin,L={__typename:"SearchLocationBasicItem",airportCode:null,coordinates:null,geoType:null,graphic:null,locationFullName:"",itemAccessibilityText:"",primaryText:"",propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:null},P=ve(a.useState(!p&&R?R:{term:null!==(r=b.value)&&void 0!==r?r:"",data:L}),2),M=P[0],N=P[1],x=ve(a.useState(!p&&G?G:{term:null!==(l=C.value)&&void 0!==l?l:"",data:L}),2),B=x[0],w=x[1],W=function(e){var t,n;e&&"UISecondaryButton"===(null==u||null===(t=u.horizontalSwapper)||void 0===t?void 0:t.__typename)&&u.horizontalSwapper.analytics?f(u.horizontalSwapper.analytics.referrerId,u.horizontalSwapper.analytics.linkName):!e&&"UISecondaryButton"===(null==u||null===(n=u.verticalSwapper)||void 0===n?void 0:n.__typename)&&u.verticalSwapper.analytics&&f(u.verticalSwapper.analytics.referrerId,u.verticalSwapper.analytics.linkName)},U=function(){p||(T({type:"UPDATE_DESTINATION",location:{term:M.term,data:M.data}}),T({type:"UPDATE_ORIGIN",location:{term:B.term,data:B.data}})),N(ye({},B)),w(ye({},M)),_&&_({term:"",data:_e(ye({},L),{origin:B.term,destination:M.term})})},H=function(e){N(e),_&&_({term:e.term,data:_e(ye({},e.data),{origin:e.term,destination:B.term,index:m})})},V=function(e){w(e),_&&_({term:e.term,data:_e(ye({},e.data),{origin:M.term,destination:e.term,index:m})})},z={index:m,onOpenLocationField:y,lastSearchLatLong:v,skipReflection:p,searchLocationAnalytics:E,searchLocationContent:g},Y=null!==(o=null==I||null===(t=I.find((function(e){return"EGDSSameValueInputValidation"===e.__typename})))||void 0===t?void 0:t.errorMessage)&&void 0!==o?o:"",q=a.createElement(Vc,_e(ye({},z),{setFieldRefByTypename:F,fieldError:A,data:b,onSelection:H,selection:M,onLocationsSelection:H,searchLocationAnalytics:E})),j=(null==O||null===(n=O.validations)||void 0===n?void 0:n.sameLocationSelected)?Y:void 0,$=a.createElement(Vc,_e(ye({},z),{setFieldRefByTypename:k,fieldError:O,locationsErrorText:j,data:C,onSelection:V,selection:B,onLocationsSelection:V,searchLocationAnalytics:E})),K=function(e){var t,n;return"UISecondaryButton"===(null===(t=e.horizontalSwapper)||void 0===t?void 0:t.__typename)&&e.horizontalSwapper.accessibility?e.horizontalSwapper.accessibility:"UISecondaryButton"===(null===(n=e.verticalSwapper)||void 0===n?void 0:n.__typename)&&e.verticalSwapper.accessibility?e.verticalSwapper.accessibility:void 0}(u);return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(X.j,{startInput:q,isHorizontalSwapper:!1,onSwapButtonClick:function(){U(),W(!1)},endInput:$,a11ySwapButtonLabel:K})),a.createElement(d.rw,null,a.createElement(X.j,{startInput:q,onSwapButtonClick:function(){U(),W(!0)},endInput:$,a11ySwapButtonLabel:K})))};ep.displayName=Zm,ep.fragment=_e(ye({},Xm),{__typename:Zm});var tp=function(e){var t=e.children;return a.createElement(f.E,{columns:{small:2,medium:12}},a.createElement(f.a,{colSpan:{small:2,medium:4}},a.createElement("div",null,a.createElement(l.b,{padding:{blockstart:"three"}},a.createElement("div",null,t)))))},np=(0,u.J1)(yn(),dl.fragment,dl.fragment),ap=function(e){var t,n=e.data,r=e.setFieldRefByTypename,l=e.fieldError,i=n.addPartialStay,o=n.dates,c=n.errorMessage,s=ve(a.useState(null!==(t=null==i?void 0:i.state)&&void 0!==t?t:"UNCHECKED"),2),d=s[0],u=s[1],m=o&&a.createElement("div",{"data-stid":"partial-stay-date-field"},a.createElement(tp,null,a.createElement(dl,{skipReflection:!0,data:o,fieldError:l,setFieldRefByTypename:function(e,t,n){r("".concat(e,"PartialStay"),t,n)},overrideErrorMessage:c,isPartialDates:!0})));return a.createElement(a.Fragment,null,i&&a.createElement(hr,{onChange:function(e){u(e.target.checked?"CHECKED":"UNCHECKED")},data:i}),"CHECKED"===d&&m)};ap.displayName="SearchFormPartialStay",ap.fragment=np;var rp,lp,ip,op=function(e){return e.ORIGIN="origin_select",e.DESTINATION="destination_select",e.TRAVEL_DATES="EGDSDateRangePicker",e.TRAVELER_SELECTOR="EGDSRoomsTravelerSelector",e.CABIN_CLASS="EGDSSearchFormInputFieldWithSelection-cabin_class",e}(op||{}),cp={SMALL:{default:{}},MEDIUM:{default:{grow:1},EGDSSearchFormLocationsField:{minWidth:"full_width"},EGDSSearchFormButton:{}},LARGE:{default:{grow:1},EGDSSearchFormLocationsField:{minWidth:500,grow:1},EGDSSearchFormButton:{}},EXTRA_LARGE:{default:{}}},sp={prebundles:(rp={},pe(rp,d.OB.SMALL,{default:{}}),pe(rp,d.OB.MEDIUM,{EGDSSearchFormLocationField:{minWidth:"full_width"},EGDSSearchFormButton:{},default:{grow:1}}),pe(rp,d.OB.LARGE,{EGDSSearchFormButton:{},EGDSSearchFormTravelersField:{maxWidth:400,grow:1},EGDSSearchFormDatePickerField:{maxWidth:400,grow:1},default:{minWidth:"third_width",grow:1}}),pe(rp,d.OB.EXTRA_LARGE,{default:{}}),rp),FLIGHT_CAR:cp,FLIGHT_HOTEL:cp,FLIGHT_HOTEL_CAR:cp,HOTEL_CAR:{SMALL:{default:{}},MEDIUM:{default:{grow:1,minWidth:400},EGDSSearchFormTravelersField:{minWidth:500,grow:1},EGDSSearchFormButton:{}},LARGE:{EGDSSearchFormButton:{},EGDSSearchFormTravelersField:{maxWidth:300,grow:1},EGDSSearchFormDatePickerField:{maxWidth:300,grow:1},default:{grow:1}},EXTRA_LARGE:{default:{}}}},dp=function(e,t){var n,a=sp[arguments.length>2&&void 0!==arguments[2]?arguments[2]:"prebundles"][t];return null!==(n=a[e])&&void 0!==n?n:a.default},up=(pe(lp={},"FLIGHT_CAR","fc"),pe(lp,"FLIGHT_HOTEL","fh"),pe(lp,"HOTEL_CAR","hc"),pe(lp,"FLIGHT_HOTEL_CAR","fhc"),pe(lp,"HOTEL_ACTIVITY","ha"),lp),mp={BUSINESS:"b",FIRST:"f",PREMIUM_ECONOMY:"p",COACH:"e",ANY:"a"},pp=function(e,t){var n=t.day,a=t.month,r=t.year;return"&".concat(e,"=").concat(r,"-").concat(a,"-").concat(n)},yp="EGDS",_p=(pe(ip={},ui,"ADULT"),pe(ip,mi,"CHILD"),pe(ip,yi,"INFANT_IN_LAP"),pe(ip,pi,"INFANT_IN_SEAT"),ip),vp={COACH:"COACH",ECONOMY_PREMIUM:"PREMIUM_ECONOMY",BUSINESS:"BUSINESS",FIRST_CLASS:"FIRST"},Sp=function(e,t){var n=t.name,a=t.value;if(n.startsWith("".concat(um))){var r=_e(ye({},e.primary),{cabinClass:vp[a]});return _e(ye({},e),{primary:r})}if(n.startsWith(di)){var l,i,o,c=n.startsWith(ui),s=n.split("-"),d=c?ui:s.slice(0,2).join("-"),u=Number.parseInt(a,10),m=c?Array.from(Array(u).keys()).map((function(){return{type:_p[d],age:null}})):[{type:_p[d],age:a?u:null}],p=null!==(l=n.split("".concat(d,"-Room"))[1])&&void 0!==l?l:"1",y=null!==(i=parseInt(p,10))&&void 0!==i?i:1,_=Ee(null!==(o=e.primary.travelerOccupancyGroups)&&void 0!==o?o:[]);return _[y-1]={travelers:Ee(_[y-1]?_[y-1].travelers:[]).concat(Ee(m))},_e(ye({},e),{primary:_e(ye({},e.primary),{travelerOccupancyGroups:_})})}if(n.startsWith("".concat(fc,"-origin")))return _e(ye({},e),{primary:_e(ye({},e.primary),{origin:{airportCode:"",regionName:a}})});if(n.startsWith("".concat(fc,"-destination")))return _e(ye({},e),{primary:_e(ye({},e.primary),{destination:{airportCode:"",regionName:a}})});var v,S,E,g,f=n.startsWith(al.START_DATE_NAME_PREFIX),h=n.startsWith(al.END_DATE_NAME_PREFIX);if(f||h){var D,T,b=ve(a.split("-").map((function(e){return Number(e)})),3),C=b[0],I=b[1],A={day:0,month:0,year:0},F={day:b[2],month:I,year:C};return _e(ye({},e),{primary:_e(ye({},e.primary),{dateRange:{start:f?F:(null===(D=e.primary.dateRange)||void 0===D?void 0:D.start)||A,end:h?F:(null===(T=e.primary.dateRange)||void 0===T?void 0:T.end)||A}})})}if(n.startsWith("".concat(Dc,"-origin")))return _e(ye({},e),{primary:_e(ye({},e.primary),{origin:_e(ye({},e.primary.origin),{airportCode:a})})});if(n.startsWith("".concat(Dc,"-destination")))return _e(ye({},e),{primary:_e(ye({},e.primary),{destination:_e(ye({},e.primary.destination),{airportCode:a})})});if(n.startsWith("".concat(kc,"-destination")))return _e(ye({},e),{primary:_e(ye({},e.primary),{destination:_e(ye({},e.primary.destination),{airportCode:null!==(S=null===(v=e.primary.destination)||void 0===v?void 0:v.airportCode)&&void 0!==S?S:"",regionId:a})})});if(n.startsWith("".concat(hc,"-origin")))return _e(ye({},e),{primary:_e(ye({},e.primary),{origin:_e(ye({},e.primary.origin),{airportCode:null!==(g=null===(E=e.primary.destination)||void 0===E?void 0:E.airportCode)&&void 0!==g?g:"",regionId:a})})});if(n.startsWith("".concat(Cc,"-destination"))&&a){return _e(ye({},e),{primary:ye({},e.primary),secondary:{selections:[{id:"hotelId",value:a}]}})}var O=n.startsWith(al.PARTIAL_STAY_START_DATE_NAME_PREFIX),k=n.startsWith(al.PARTIAL_STAY_END_DATE_NAME_PREFIX);if(O||k){var G,R,L=ve(a.split("-").map((function(e){return Number(e)})),3),P=L[0],M=L[1],N={day:0,month:0,year:0},x={day:L[2],month:M,year:P};return _e(ye({},e),{primary:_e(ye({},e.primary),{partialStayDateRange:{start:O?x:(null===(G=e.primary.partialStayDateRange)||void 0===G?void 0:G.start)||N,end:k?x:(null===(R=e.primary.partialStayDateRange)||void 0===R?void 0:R.end)||N}})})}return ye({},e)},Ep=function(e,t){var n=t.name,a=t.value;if(n.startsWith("".concat(um))&&e.primarySearchCriteria.flight){var r,l=_e(ye({},e.primarySearchCriteria),{flight:_e(ye({},e.primarySearchCriteria.flight),{searchPreferences:_e(ye({},null===(r=e.primarySearchCriteria.flight)||void 0===r?void 0:r.searchPreferences),{cabinClass:vp[a]})})});return _e(ye({},e),{primarySearchCriteria:l})}if(n.startsWith(di)){var i,o,c=n.startsWith(ui),s=n.split("-"),d=c?ui:s.slice(0,2).join("-"),u=Number.parseInt(a,10),m=c?Array.from(Array(u).keys()).map((function(){return{type:_p[d]}})):[{type:_p[d],age:a?u:null}],p=null!==(i=n.split("".concat(d,"-Room"))[1])&&void 0!==i?i:"1",y=null!==(o=parseInt(p,10))&&void 0!==o?o:1;if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){var _,v=Ee(e.primarySearchCriteria.property.rooms),S=m.filter((function(e){return"ADULT"!==e.type})).map((function(e){return{age:e.age||0}}));v[y-1]={adults:v[y-1]?v[y-1].adults+m.filter((function(e){return"ADULT"===e.type})).length:m.filter((function(e){return"ADULT"===e.type})).length,children:Ee((null===(_=v[y-1])||void 0===_?void 0:_.children)||[]).concat(Ee(S))};var E=_e(ye({},e.primarySearchCriteria),{flight:_e(ye({},e.primarySearchCriteria.flight),{travelers:Ee(e.primarySearchCriteria.flight.travelers).concat(Ee(m))}),property:_e(ye({},e.primarySearchCriteria.property),{rooms:Ee(v)})});return _e(ye({},e),{primarySearchCriteria:E})}}if(n.startsWith("".concat(fc,"-origin"))&&e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){var g,f,h=_e(ye({},e.primarySearchCriteria),{flight:_e(ye({},e.primarySearchCriteria.flight),{journeyCriterias:[_e(ye({},null===(g=e.primarySearchCriteria.flight.journeyCriterias)||void 0===g?void 0:g[0]),{origin:a}),_e(ye({},null===(f=e.primarySearchCriteria.flight.journeyCriterias)||void 0===f?void 0:f[1]),{destination:a})]})});return _e(ye({},e),{primarySearchCriteria:h})}if(n.startsWith("".concat(fc,"-destination"))&&e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){var D,T,b=_e(ye({},e.primarySearchCriteria),{flight:_e(ye({},e.primarySearchCriteria.flight),{journeyCriterias:[_e(ye({},null===(D=e.primarySearchCriteria.flight.journeyCriterias)||void 0===D?void 0:D[0]),{destination:a}),_e(ye({},null===(T=e.primarySearchCriteria.flight.journeyCriterias)||void 0===T?void 0:T[1]),{origin:a})]}),property:_e(ye({},e.primarySearchCriteria.property),{destination:_e(ye({},e.primarySearchCriteria.property.destination),{regionName:a})})});return _e(ye({},e),{primarySearchCriteria:b})}var C=n.startsWith(al.START_DATE_NAME_PREFIX),I=n.startsWith(al.END_DATE_NAME_PREFIX);if(C||I){var A=ve(a.split("-").map((function(e){return Number(e)})),3),F=A[0],O=A[1],k={day:0,month:0,year:0},G={day:A[2],month:O,year:F};if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){var R,L,P,M,N,x,B=_e(ye({},e.primarySearchCriteria),{flight:_e(ye({},e.primarySearchCriteria.flight),{journeyCriterias:[_e(ye({},null===(R=e.primarySearchCriteria.flight.journeyCriterias)||void 0===R?void 0:R[0]),{departureDate:C?G:(null===(L=e.primarySearchCriteria.flight.journeyCriterias)||void 0===L?void 0:L[0].departureDate)||k}),_e(ye({},null===(P=e.primarySearchCriteria.flight.journeyCriterias)||void 0===P?void 0:P[1]),{departureDate:I?G:(null===(M=e.primarySearchCriteria.flight.journeyCriterias)||void 0===M?void 0:M[1].departureDate)||k})]}),property:_e(ye({},e.primarySearchCriteria.property),{dateRange:{checkInDate:C?G:(null===(N=e.primarySearchCriteria.property.dateRange)||void 0===N?void 0:N.checkInDate)||k,checkOutDate:I?G:(null===(x=e.primarySearchCriteria.property.dateRange)||void 0===x?void 0:x.checkOutDate)||k}})});return _e(ye({},e),{primarySearchCriteria:B})}}if(n.startsWith("".concat(hc,"-destination"))&&e.primarySearchCriteria.property){var w=_e(ye({},e.primarySearchCriteria),{property:_e(ye({},e.primarySearchCriteria.property),{destination:_e(ye({},e.primarySearchCriteria.property.destination),{regionId:a})})});return _e(ye({},e),{primarySearchCriteria:w})}var W=n.startsWith(al.PARTIAL_STAY_START_DATE_NAME_PREFIX),U=n.startsWith(al.PARTIAL_STAY_END_DATE_NAME_PREFIX);if(W||U){var H=ve(a.split("-").map((function(e){return Number(e)})),3),V=H[0],z=H[1],Y={day:0,month:0,year:0},q={day:H[2],month:z,year:V};if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){var j,$,K=_e(ye({},e.primarySearchCriteria),{property:_e(ye({},e.primarySearchCriteria.property),{dateRange:{checkInDate:W?q:(null===(j=e.primarySearchCriteria.property.dateRange)||void 0===j?void 0:j.checkInDate)||Y,checkOutDate:U?q:(null===($=e.primarySearchCriteria.property.dateRange)||void 0===$?void 0:$.checkOutDate)||Y}})});return _e(ye({},e),{primarySearchCriteria:K})}}return ye({},e)},gp=function(e,t){var n=t.name,a=t.value;if(n.startsWith("".concat(um))&&e.primarySearchCriteria.flight){var r,l=_e(ye({},e.primarySearchCriteria),{flight:_e(ye({},e.primarySearchCriteria.flight),{searchPreferences:_e(ye({},null===(r=e.primarySearchCriteria.flight)||void 0===r?void 0:r.searchPreferences),{cabinClass:vp[a]})})});return _e(ye({},e),{primarySearchCriteria:l})}if(n.startsWith(di)){var i=n.startsWith(ui),o=n.split("-"),c=i?ui:o.slice(0,2).join("-"),s=Number.parseInt(a,10),d=i?Array.from(Array(s).keys()).map((function(){return{type:_p[c]}})):[{type:_p[c],age:a?s:null}];if(e.primarySearchCriteria.flight){var u=_e(ye({},e.primarySearchCriteria),{flight:_e(ye({},e.primarySearchCriteria.flight),{travelers:Ee(e.primarySearchCriteria.flight.travelers).concat(Ee(d))})});return _e(ye({},e),{primarySearchCriteria:u})}}if(n.startsWith("".concat(fc,"-origin"))&&e.primarySearchCriteria.flight){var m,p,y=_e(ye({},e.primarySearchCriteria),{flight:_e(ye({},e.primarySearchCriteria.flight),{journeyCriterias:[_e(ye({},null===(m=e.primarySearchCriteria.flight.journeyCriterias)||void 0===m?void 0:m[0]),{origin:a}),_e(ye({},null===(p=e.primarySearchCriteria.flight.journeyCriterias)||void 0===p?void 0:p[1]),{destination:a})]})});return _e(ye({},e),{primarySearchCriteria:y})}if(n.startsWith("".concat(fc,"-destination"))&&e.primarySearchCriteria.flight&&e.primarySearchCriteria.car){var _,v,S=_e(ye({},e.primarySearchCriteria),{flight:_e(ye({},e.primarySearchCriteria.flight),{journeyCriterias:[_e(ye({},null===(_=e.primarySearchCriteria.flight.journeyCriterias)||void 0===_?void 0:_[0]),{destination:a}),_e(ye({},null===(v=e.primarySearchCriteria.flight.journeyCriterias)||void 0===v?void 0:v[1]),{origin:a})]}),car:_e(ye({},e.primarySearchCriteria.car),{pickUpLocation:_e(ye({},e.primarySearchCriteria.car.pickUpLocation),{searchTerm:a}),dropOffLocation:_e(ye({},e.primarySearchCriteria.car.dropOffLocation),{searchTerm:a})})});return _e(ye({},e),{primarySearchCriteria:S})}var E=n.startsWith(al.START_DATE_NAME_PREFIX),g=n.startsWith(al.END_DATE_NAME_PREFIX);if(E||g){var f=ve(a.split("-").map((function(e){return Number(e)})),3),h=f[0],D=f[1],T={day:0,month:0,year:0},b={day:f[2],month:D,year:h},C=_e(ye({},b),{hour:0,minute:0,second:0});if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.car){var I,A,F,O,k=_e(ye({},e.primarySearchCriteria),{flight:_e(ye({},e.primarySearchCriteria.flight),{journeyCriterias:[_e(ye({},null===(I=e.primarySearchCriteria.flight.journeyCriterias)||void 0===I?void 0:I[0]),{departureDate:E?b:(null===(A=e.primarySearchCriteria.flight.journeyCriterias)||void 0===A?void 0:A[0].departureDate)||T}),_e(ye({},null===(F=e.primarySearchCriteria.flight.journeyCriterias)||void 0===F?void 0:F[1]),{departureDate:g?b:(null===(O=e.primarySearchCriteria.flight.journeyCriterias)||void 0===O?void 0:O[1].departureDate)||T})]}),car:_e(ye({},e.primarySearchCriteria.car),{pickUpDateTime:E?C:e.primarySearchCriteria.car.pickUpDateTime,dropOffDateTime:g?C:e.primarySearchCriteria.car.dropOffDateTime})});return _e(ye({},e),{primarySearchCriteria:k})}}if(n.startsWith("".concat(hc,"-destination"))&&e.primarySearchCriteria.car){var G=_e(ye({},e.primarySearchCriteria),{car:_e(ye({},e.primarySearchCriteria.car),{pickUpLocation:_e(ye({},e.primarySearchCriteria.car.pickUpLocation),{regionId:a}),dropOffLocation:_e(ye({},e.primarySearchCriteria.car.dropOffLocation),{regionId:a})})});return _e(ye({},e),{primarySearchCriteria:G})}return ye({},e)},fp=function(e,t){var n=t.name,a=t.value;if(n.startsWith(di)){var r,l,i=n.startsWith(ui),o=n.split("-"),c=i?ui:o.slice(0,2).join("-"),s=Number.parseInt(a,10),d=i?Array.from(Array(s).keys()).map((function(){return{type:_p[c]}})):[{type:_p[c],age:a?s:null}],u=null!==(r=n.split("".concat(c,"-Room"))[1])&&void 0!==r?r:"1",m=null!==(l=parseInt(u,10))&&void 0!==l?l:1;if(e.primarySearchCriteria.property){var p,y=Ee(e.primarySearchCriteria.property.rooms),_=d.filter((function(e){return"ADULT"!==e.type})).map((function(e){return{age:e.age||0}}));y[m-1]={adults:y[m-1]?y[m-1].adults+d.filter((function(e){return"ADULT"===e.type})).length:d.filter((function(e){return"ADULT"===e.type})).length,children:Ee((null===(p=y[m-1])||void 0===p?void 0:p.children)||[]).concat(Ee(_))};var v=_e(ye({},e.primarySearchCriteria),{property:_e(ye({},e.primarySearchCriteria.property),{rooms:Ee(y)})});return _e(ye({},e),{primarySearchCriteria:v})}}if(n.startsWith("".concat(fc,"-destination"))&&e.primarySearchCriteria.car&&e.primarySearchCriteria.property){var S=_e(ye({},e.primarySearchCriteria),{property:_e(ye({},e.primarySearchCriteria.property),{destination:_e(ye({},e.primarySearchCriteria.property.destination),{regionName:a})}),car:_e(ye({},e.primarySearchCriteria.car),{pickUpLocation:_e(ye({},e.primarySearchCriteria.car.pickUpLocation),{searchTerm:a}),dropOffLocation:_e(ye({},e.primarySearchCriteria.car.dropOffLocation),{searchTerm:a})})});return _e(ye({},e),{primarySearchCriteria:S})}var E=n.startsWith(al.START_DATE_NAME_PREFIX),g=n.startsWith(al.END_DATE_NAME_PREFIX);if(E||g){var f=ve(a.split("-").map((function(e){return Number(e)})),3),h=f[0],D=f[1],T={day:0,month:0,year:0},b={day:f[2],month:D,year:h},C=_e(ye({},b),{hour:0,minute:0,second:0});if(e.primarySearchCriteria.car&&e.primarySearchCriteria.property){var I,A,F=_e(ye({},e.primarySearchCriteria),{property:_e(ye({},e.primarySearchCriteria.property),{dateRange:{checkInDate:E?b:(null===(I=e.primarySearchCriteria.property.dateRange)||void 0===I?void 0:I.checkInDate)||T,checkOutDate:g?b:(null===(A=e.primarySearchCriteria.property.dateRange)||void 0===A?void 0:A.checkOutDate)||T}}),car:_e(ye({},e.primarySearchCriteria.car),{pickUpDateTime:E?C:e.primarySearchCriteria.car.pickUpDateTime,dropOffDateTime:g?C:e.primarySearchCriteria.car.dropOffDateTime})});return _e(ye({},e),{primarySearchCriteria:F})}}if(n.startsWith("".concat(hc,"-destination"))&&e.primarySearchCriteria.property){var O=_e(ye({},e.primarySearchCriteria),{property:_e(ye({},e.primarySearchCriteria.property),{destination:_e(ye({},e.primarySearchCriteria.property.destination),{regionId:a})})});return _e(ye({},e),{primarySearchCriteria:O})}if(n.startsWith("".concat(Dc,"-destination"))&&e.primarySearchCriteria.car){var k=_e(ye({},e.primarySearchCriteria),{car:_e(ye({},e.primarySearchCriteria.car),{pickUpLocation:_e(ye({},e.primarySearchCriteria.car.pickUpLocation),{airportCode:a}),dropOffLocation:_e(ye({},e.primarySearchCriteria.car.dropOffLocation),{airportCode:a})})});return _e(ye({},e),{primarySearchCriteria:k})}var G=n.startsWith(al.PARTIAL_STAY_START_DATE_NAME_PREFIX),R=n.startsWith(al.PARTIAL_STAY_END_DATE_NAME_PREFIX);if(G||R){var L=ve(a.split("-").map((function(e){return Number(e)})),3),P=L[0],M=L[1],N={day:0,month:0,year:0},x={day:L[2],month:M,year:P};if(e.primarySearchCriteria.car&&e.primarySearchCriteria.property){var B,w,W=_e(ye({},e.primarySearchCriteria),{property:_e(ye({},e.primarySearchCriteria.property),{dateRange:{checkInDate:G?x:(null===(B=e.primarySearchCriteria.property.dateRange)||void 0===B?void 0:B.checkInDate)||N,checkOutDate:R?x:(null===(w=e.primarySearchCriteria.property.dateRange)||void 0===w?void 0:w.checkOutDate)||N}})});return _e(ye({},e),{primarySearchCriteria:W})}}return ye({},e)},hp=function(e){return{tripType:"ROUND_TRIP",journeyCriterias:[],travelers:[],searchPreferences:{advancedFilters:e?["NONSTOP"]:[],cabinClass:"COACH"}}},Dp=function(e,t){var n={};switch(e){case"FLIGHT_HOTEL":n={flight:hp(t),property:{rooms:[],destination:{regionId:""}}};break;case"FLIGHT_HOTEL_CAR":n={flight:hp(t),property:{rooms:[],destination:{regionId:""}},car:{dropOffDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpLocation:{}}};break;case"FLIGHT_CAR":n={flight:hp(t),car:{dropOffDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpLocation:{}}};break;case"HOTEL_CAR":n={property:{rooms:[],destination:{regionId:""}},car:{dropOffDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpLocation:{}}}}return{primarySearchCriteria:n,secondaryCriteria:{}}},Tp=[Vc,ep,dl,Ci,ym,ap,aa],bp=(0,u.J1)(_n(),vl.fragment,aa.fragment,Vc.fragment,ep.fragment,dl.fragment,Ci.fragment,ym.fragment,qc.fragment,ap.fragment,Ar.fragment,Sc),Cp=function(e){var t=e.viewportSize,n=e.packageType,r=e.defaultValidationProps,l=e.renderableElements,i=e.errorState,o=e.autoOpenCalendar,c=e.lastSearchLatLong,s=e.onOpenLocationField,d=e.searchLocationAnalytics,u=e.searchLocationContent,m=e.onLocationsSelection;return a.createElement(a.Fragment,null,l.map((function(e,l){var p=e.__typename,y=Tp.find((function(e){return e.displayName===p&&"EGDSSearchFormInputField"!==p}));if(!y)return null;var _=dp(p,t,n),v=["EGDSSearchFormDatePickerField","EGDSSearchFormInputField","EGDSSearchFormLocationField","EGDSSearchFormLocationsField","EGDSSearchFormTravelersField","SearchFormDurationSpanField"].includes(p)?p:"EGDSSearchFormDatePickerFieldPartialStay",S=ye(_e(ye({},r),{fieldError:$c(i,v)}),"EGDSSearchFormLocationsField"===p&&{originFieldError:$c(i,"".concat(e.origin.__typename,"Origin")),destinationFieldError:$c(i,"".concat(e.destination.__typename,"Destination")),lastSearchLatLong:c,onOpenLocationField:s,searchLocationAnalytics:d,searchLocationContent:u,onLocationsSelection:m},"EGDSSearchFormLocationField"===p&&{lastSearchLatLong:c,onOpenLocationField:s,searchLocationAnalytics:d,searchLocationContent:u},"EGDSSearchFormDatePickerField"===p&&{autoOpen:o}),E={originRef:"EGDSSearchFormLocationsField"===p?S:null,destinationRef:"EGDSSearchFormLocationsField"===p?S:null};return a.createElement(D.j,ye({key:"field_".concat(p,"_").concat(l)},_),a.createElement("div",null,a.createElement(y,_e(ye({},S,E),{data:e}))))})))},Ip=function(e){var t,n=e.data,r=e.onSubmit,i=e.onFieldChange,o=e.autoOpenCalendar,c=e.packageType,s=e.cabinClass,u=e.redirectToSearchResultOnSubmit,m=e.autoOpenPlayback,p=e.stickyPlayback,y=e.lastSearchLatLong,_=e.directFlightsOnlySwitch,v=e.onOpenLocationField,S=e.handleDirectFlightsOnlySwitch,E=e.showDirectFlightsOnly,g=(0,N.useLocalization)(),f=ve(a.useState({EGDSSearchFormLocationFieldOrigin:null,EGDSSearchFormLocationFieldDestination:null,EGDSSearchFormDatePickerField:null,EGDSSearchFormInputField:null,EGDSSearchFormDatePickerFieldPartialStay:null}),2),h=f[0],T=f[1],C={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},I=ve(a.useState(C),2),A=I[0],F=I[1],O=ve(a.useState(!m),2),k=O[0],G=O[1];a.useEffect((function(){var e=null==n?void 0:n.directFlightsOnly;e&&S&&S(e.selected)}),[n,S]);var R=a.useCallback((function(e,t){var n,a=Kc(e,null===(n=t.current)||void 0===n?void 0:n.id);T((function(e){return _e(ye({},e),pe({},a,t))}))}),[]),L=n.elements,P=n.errorSummary,M=n.search,x=n.actionURL,B=n.playback,w=n.searchLocation,W=n.partialStay,U=n.directFlightsOnly,H=ve(a.useState(B),2),V=H[0],z=H[1],Y=A.displayErrorSummary,q=A.errorCount,j=A.errorLinkReference;if(!M)return null;var $,K=Ee(L).concat([M]),J=Ee(L).concat([W,M]).filter(Boolean),Q=L.find((function(e){return"EGDSSearchFormDatePickerField"===e.__typename})),X="EGDSSearchFormDatePickerField"===(null==Q?void 0:Q.__typename)&&"EGDSOpenDatePickerAction"===(null===(t=Q.action)||void 0===t?void 0:t.__typename)&&"EGDSDateRangePicker"===Q.action.datePicker.__typename&&"FLIGHT_CAR"!==c&&null!==($=Q.action.datePicker.maxNumberOfDaysSelected)&&void 0!==$?$:0,Z={setFieldRefByTypename:R},ee={space:"three",direction:"row"},te={packageType:c,viewportSize:d.OB.SMALL,renderableElements:K,defaultValidationProps:Z,errorState:A,autoOpenCalendar:o,lastSearchLatLong:y,onOpenLocationField:v,searchLocationAnalytics:null==w?void 0:w.analytics,searchLocationContent:null==w?void 0:w.content,onLocationsSelection:function(e){var t,n,a,r,l=ca(null!==(a=null==e||null===(t=e.data)||void 0===t?void 0:t.origin)&&void 0!==a?a:e.term),i=ca(null!==(r=null===(n=e.data)||void 0===n?void 0:n.destination)&&void 0!==r?r:e.term);z((function(e){if(!e)return null;var t=e.primary,n=e.primaryTemplate;if(!n||"EGDSBasicLocalizedText"!==n.__typename)return e;var a=ia(n.text,"origin",l),r=ia(a,"destination",i);return _e(ye({},e),{primary:_e(ye({},t),{text:r})})}))}},ne=_e(ye({},te),{renderableElements:K}),ae="HOTEL_CAR"!==c?a.createElement("input",{type:"hidden",name:null==s?void 0:s.name,value:null==s?void 0:s.value}):null,re=W&&("FLIGHT_HOTEL"===c||"FLIGHT_HOTEL_CAR"===c),le=U&&a.createElement(D.j,null,a.createElement("div",null,a.createElement(Ar,{data:U,onChange:function(e){null==S||S(e.target.checked)}}))),ie=J.find((function(e){return"EGDSSearchFormInputField"===e.__typename})),oe=ie?a.createElement(D.j,null,a.createElement("div",null,a.createElement(ym,_e(ye({},Z),{triggerType:"pill",data:ie})))):null;return a.createElement(b.E,{id:"package-search-form",name:"packages-search-form-".concat(c),action:x,onSubmit:function(e){F(C);var t,n=Array.from(e.currentTarget.elements),a=rs(n),l={location:{origin:n.find(ns("origin_select")),destination:n.find(ns("destination_select")),config:{sameLocationSelected:!0}},dates:{startDateInput:n.find(ns("EGDSDateRangePicker-StartDate-date-range-select")),endDateInput:n.find(ns("EGDSDateRangePicker-EndDate-date-range-select")),partialStayStartDateInput:n.find(ns("EGDSDateRangePartialStay-StartDate-partial-stay-date-range-select")),partialStayEndDateInput:n.find(ns("EGDSDateRangePartialStay-EndDate-partial-stay-date-range-select")),config:{maxNumberOfDaysSelected:X,validateWhenEmpty:!0}},travelers:{totalTravelers:a,config:{maxTotalTravelers:6}}},i=es(l);if(!(0===i.length))return F({fieldsWithErrors:i,errorCount:i.length,displayErrorSummary:!0,errorLinkReference:h[null===(t=i[0])||void 0===t?void 0:t.__typename]}),void e.preventDefault();if(r||u){var o=Array.from(e.currentTarget.elements),s=function(e){return e.filter((function(e){return e.name.startsWith(yp)})).reduce(Sp,{primary:{},secondary:{}})}(o),d=function(e,t,n){var a=e.filter((function(e){return e.name.startsWith(yp)})),r=Dp(t,n);switch(t){case"FLIGHT_HOTEL_CAR":default:return a.reduce(Ep,r);case"FLIGHT_CAR":return a.reduce(gp,r);case"HOTEL_CAR":return a.reduce(fp,r)}}(o,c,_);if(r&&r(e,{packageSearchCriteria:s,packageType:c,packageShoppingCriteria:d}),u){e.preventDefault();var m=e.currentTarget.action,p=function(e,t,n){var a,r,l,i,o,c,s=e.primary,d=s.cabinClass,u=s.dateRange,m=s.destination,p=s.origin,y=s.travelerOccupancyGroups,_=s.partialStayDateRange,v=null==y?void 0:y.map((function(e){return e.travelers})).length,S="&numberOfRooms=".concat(v),E=null!==(l=null==y?void 0:y.map((function(e){return e.travelers.filter((function(e){return"INFANT_IN_SEAT"===e.type}))})))&&void 0!==l?l:[],g=E.filter((function(e){return e.length>0})),f="&infantsInSeats=".concat(g.length>0?1:0),h=null!==(i=null==y?void 0:y.map((function(e){return e.travelers.filter((function(e){return"INFANT_IN_LAP"===e.type}))})))&&void 0!==i?i:[],D=h.filter((function(e){return e.length>0})),T="&infantsOnLap=".concat(D.length>0?1:0),b=null!==(o=null==y?void 0:y.map((function(e){return e.travelers.filter((function(e){return"CHILD"===e.type||"INFANT_IN_LAP"===e.type||"INFANT_IN_SEAT"===e.type}))})))&&void 0!==o?o:[],C=b.length>0?b.map((function(e,t){return e.map((function(e,n){return"&childAges[".concat(t+1,"][").concat(n,"]=").concat(e.age)})).join("")})).join(""):"",I=b.length>0?"".concat(b.map((function(e,t){return"&childrenPerRoom[".concat(t+1,"]=").concat(e.length)})).join("")):"",A=null!==(c=null==y?void 0:y.map((function(e){return e.travelers.filter((function(e){return"ADULT"===e.type}))})))&&void 0!==c?c:[],F=A.length>0?A.map((function(e,t){return"&adultsPerRoom[".concat(t+1,"]=").concat(e.length)})).join(""):"",O=h.length>0,k=E.length>0,G=O||k?"&InfantSeating=".concat(O?"lap":"seat"):"",R="".concat(S).concat(F).concat(C).concat(I).concat(T).concat(f).concat(G),L="HOTEL_CAR"!==t?"origin=".concat(null==p?void 0:p.regionName):"",P="&destination=".concat(null==m?void 0:m.regionName),M=(null==m?void 0:m.regionId)?"&destinationId=".concat(null==m?void 0:m.regionId):"",N=(null==m?void 0:m.airportCode)?"&ttla=".concat(null==m?void 0:m.airportCode):"",x="".concat(L).concat(P).concat(M).concat(N),B=u?"".concat(pp("fromDate",u.start)).concat(u.end?pp("toDate",u.end):"").concat(pp("d1",u.start)).concat(u.end?pp("d2",u.end):""):"",w="FLIGHT_HOTEL_CAR"===t||"FLIGHT_HOTEL"===t||"HOTEL_CAR"===t,W=_?"".concat(pp("checkInDate",_.start)).concat(pp("checkOutDate",_.end),"&isPartialStay=1\n  &partialStayCheckbox=true"):"&isPartialStay=0",U=w?W:"",H="&packageType=".concat(up[t]),V="HOTEL_CAR"!==t&&d?"&cabinClass=".concat(mp[d]):"",z="HOTEL_CAR"!==t&&(null==p?void 0:p.regionId)?"&originId=".concat(p.regionId):"",Y="HOTEL_CAR"!==t&&(null==p?void 0:p.airportCode)?"&ftla=".concat(p.airportCode):"",q="FLIGHT_HOTEL"===t?"&tripType=ROUND_TRIP":"",j="FLIGHT_CAR"!==t?null===(r=e.secondary)||void 0===r||null===(a=r.selections)||void 0===a?void 0:a.find((function(e){return"hotelId"===e.id})):void 0,$=(null==j?void 0:j.value)?"&hotelId=".concat(j.value):"",K=n&&"HOTEL_CAR"!==t?"&isDirectFlight=true":"";return"?".concat(x).concat(R).concat(B).concat(H).concat(V).concat(z).concat(Y).concat(q).concat(U).concat($).concat(K)}(s,c,_);window.location.href="".concat(m).concat(p)}}},onFieldChange:function(e,t){null==i||i(e,t),z((function(t){if(!t)return null;var n=op.TRAVELER_SELECTOR,a=op.TRAVEL_DATES,r=t.secondaries,l=e.value,i=ve(r,2),o=i[0],c=i[1],s=e.name===a&&"EGDSPlainText"===o.__typename?_e(ye({},o),{text:Pa(l,g)}):o,d=e.name===n?_e(ye({},c),{text:l}):c;return _e(ye({},t),{secondaries:[s,d]})}))},hasRequiredFieldIndicator:!0},Y&&P&&a.createElement(l.b,{margin:{blockend:"two"}},a.createElement("div",null,a.createElement(vl,{data:P,errorCount:q,inputErrorRef:j}))),a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(a.Fragment,null,V?a.createElement(qc,{data:V,stickyPlayback:p,display:k,onDisplayToggle:function(e){G(e)}},E&&(oe||le)&&a.createElement(D.i,{space:"two",wrap:"wrap"},oe,le),a.createElement(D.i,_e(ye({},ee),{direction:"column"}),a.createElement(Cp,_e(ye({},te),{viewportSize:d.OB.SMALL,includeCabinClassField:!0}))),re&&a.createElement(l.b,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(ap,{data:W,setFieldRefByTypename:R,fieldError:A.fieldsWithErrors.find((function(e){return"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename}))})))):a.createElement(a.Fragment,null,a.createElement(D.i,_e(ye({},ee),{direction:"column"}),a.createElement(Cp,_e(ye({},te),{viewportSize:d.OB.SMALL})),ae),re&&a.createElement(l.b,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(ap,{data:W,setFieldRefByTypename:R,fieldError:A.fieldsWithErrors.find((function(e){return"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename}))})))))),a.createElement(d.rw,null,a.createElement(a.Fragment,null,a.createElement(D.i,_e(ye({},ee),{wrap:"wrap"}),a.createElement(Cp,_e(ye({},ne),{viewportSize:d.OB.MEDIUM})),ae),re&&a.createElement(l.b,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(ap,{data:W,setFieldRefByTypename:R,fieldError:A.fieldsWithErrors.find((function(e){return"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename}))}))))),a.createElement(d.zQ,null,a.createElement(a.Fragment,null,a.createElement(D.i,_e(ye({},ee),{wrap:"wrap"}),a.createElement(Cp,_e(ye({},ne),{viewportSize:d.OB.LARGE})),ae),re&&a.createElement(l.b,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(ap,{data:W,setFieldRefByTypename:R,fieldError:A.fieldsWithErrors.find((function(e){return"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename}))})))))))};Ip.fragment=bp,Ip.displayName="MultiPackagesSearchForm";var Ap=(0,u.J1)(vn(),Ha.fragment),Fp=function(e){var t=e.data,n=t.icon,r=t.heading,i=t.body;return a.createElement(l.b,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(D.i,{direction:"column",alignItems:"center"},a.createElement(D.j,null,n&&a.createElement(Ha,{data:n})),a.createElement(D.j,null,a.createElement(G.E,null,r)),a.createElement(D.j,null,a.createElement(G.a,null,i)))))};Fp.displayName="NoSelectionMessage",Fp.fragment=Ap;var Op=[Vc,dl,Ci,aa],kp=(0,u.J1)(Sn(),vl.fragment,qc.fragment,aa.fragment,Vc.fragment,dl.fragment,Ci.fragment),Gp={space:"three",direction:"row"},Rp=function(e){var t,n=e.data,r=e.onFieldChange,i=e.onSubmit,o=ve(a.useState({EGDSSearchFormLocationField:null,EGDSSearchFormDatePickerField:null}),2),c=o[0],s=o[1],u=ve(a.useState({displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]}),2),m=u[0],p=u[1],y=ve(a.useState(!0),2),_=y[0],v=y[1],S=a.useCallback((function(e,t){s((function(n){return _e(ye({},n),pe({},e,t))}))}),[]),E=n.elements,g=n.errorSummary,f=n.playback,h=n.search,T=m.displayErrorSummary,C=m.errorCount,I=m.errorLinkReference;if(!h)return null;var A,F=Ee(E).concat([h]),O={setFieldRefByTypename:S},k=E.find((function(e){return"EGDSSearchFormDatePickerField"===e.__typename})),G="EGDSSearchFormDatePickerField"===(null==k?void 0:k.__typename)&&"EGDSOpenDatePickerAction"===(null===(t=k.action)||void 0===t?void 0:t.__typename)&&"EGDSDateRangePicker"===k.action.datePicker.__typename&&null!==(A=k.action.datePicker.maxNumberOfDaysSelected)&&void 0!==A?A:0,R=function(e){return F.map((function(t,n){var r=t.__typename,l=Op.find((function(e){return e.displayName===r}));if(!l)return null;var i=dp(r,e),o=m.fieldsWithErrors.find((function(e){return e.__typename===r})),c=_e(ye({},O),{fieldError:o});return a.createElement(D.j,ye({key:"field_".concat(r,"_").concat(n)},i),a.createElement("div",null,a.createElement(l,ye({data:t},c))))}))};return a.createElement(b.E,{id:"package-search-form",name:"package-search-form",onFieldChange:function(e,t){null==r||r(e,t)},onSubmit:function(e){e.preventDefault();var t,n=Array.from(e.currentTarget.elements),a={location:{origin:n.find(ns("origin-select"))},dates:{startDateInput:n.find(ns("EGDSDateRangePicker-StartDate-date-range-select")),endDateInput:n.find(ns("EGDSDateRangePicker-EndDate-date-range-select")),config:{maxNumberOfDaysSelected:G}}},r=es(a);0===r.length?null==i||i(e):p({fieldsWithErrors:r,errorCount:r.length,displayErrorSummary:!0,errorLinkReference:c[null===(t=r[0])||void 0===t?void 0:t.__typename]})},hasRequiredFieldIndicator:!0},T&&g&&a.createElement(l.b,{margin:{blockend:"two"}},a.createElement("div",null,a.createElement(vl,{data:g,errorCount:C,inputErrorRef:I}))),a.createElement(d.LM,null,a.createElement(d.NP,null,f?a.createElement(qc,{data:f,display:_,onDisplayToggle:function(e){v(e)}},a.createElement(D.i,_e(ye({},Gp),{direction:"column"}),R(d.OB.SMALL))):a.createElement(D.i,_e(ye({},Gp),{direction:"column"}),R(d.OB.SMALL))),a.createElement(d.rw,null,a.createElement(D.i,_e(ye({},Gp),{wrap:"wrap"}),R(d.OB.MEDIUM))),a.createElement(d.zQ,null,a.createElement(D.i,_e(ye({},Gp),{wrap:"wrap"}),R(d.OB.LARGE)))))};Rp.fragment=kp,Rp.displayName="PrebundlesSearchForm";var Lp={SEARCH_TOOLS_PACKAGES_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_PACKAGES_SEARCH_FORM_QUERY_FAILURE")},Pp={linkName:"Packages Search Form Fallback Presented",referrerId:"Web.Packages.Search.Form.Fallback.Presented"},Mp={linkName:"Packages Search Form Presented",referrerId:"Web.Packages.Search.Form.Presented"},Np=(0,u.J1)(En(),Rp.fragment,Ip.fragment,Fp.fragment),xp={rows:[{type:"primary"},{type:"primary"},{type:"primary"}]},Bp={rows:[{type:"primary"}]},wp=function(e){var t,n,r,l=e.inputs,i=e.skipSsr,o=e.includePlayback,c=e.batchKey,s=e.skipQuery,u=void 0!==s&&s,y=e.pageLocation,_=l.packageType,v=(0,m.R)().context,g=(0,p.useLoggerEvents)(Lp),f=ve(a.useState(u),2),h=f[0],D=f[1],T=_e(ye({},l),{context:v,includePlayback:Boolean(o),pageLocation:y}),b=(0,E.I)(Np,{context:{batchKey:c},variables:T,ssr:!i,skip:h}),C=b.data,I=b.error,A=b.loading,F=b.previousData;a.useEffect((function(){D(u&&!A)}),[A,u]);var O=C||F;if(A)return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Zn,ye({},xp))),a.createElement(d.rw,null,a.createElement(Zn,ye({},Bp))));if(I||!O||!(null==O||null===(t=O.searchForm)||void 0===t?void 0:t.packages)){var k,G;g.SEARCH_TOOLS_PACKAGES_SEARCH_FORM_QUERY_FAILURE.log({name:null==I?void 0:I.name,error:new Error(null==I?void 0:I.message)});var R=function(e){var t=[];switch(e){case"HOTEL_CAR":t=[Pm(),Vm,Km];break;case"FLIGHT_HOTEL_CAR":case"FLIGHT_HOTEL":t=[Mm(e),Vm,jm,zm];break;case"FLIGHT_CAR":t=[Mm(e),Vm,$m,zm]}return{searchForm:{packages:{errorSummary:km,search:Gm,elements:t,__typename:"PackagesSearchForm",actionURL:"/flexibleshopping",packageSelection:Rm,searchLocation:Xi},__typename:"SearchFormResults"}}}(_);return(null==R||null===(k=R.searchForm)||void 0===k?void 0:k.packages)&&"PackagesSearchForm"===R.searchForm.packages.__typename&&"PackagesSearchFormSelection"===(null===(G=R.searchForm.packages.packageSelection)||void 0===G?void 0:G.__typename)?null===_?a.createElement(Wn,null,a.createElement(Fp,{data:R.searchForm.packages.packageSelection.noSelectionMessage})):a.createElement(Wn,null,a.createElement(S.ee,ye({},Pp),_?a.createElement(Ip,_e(ye({},e),{packageType:_,data:R.searchForm.packages,includeCabinClassField:Boolean(o)})):a.createElement(Rp,_e(ye({},e),{data:R.searchForm.packages})))):null}return(null==O||null===(n=O.searchForm)||void 0===n?void 0:n.packages)&&"PackagesSearchForm"===O.searchForm.packages.__typename&&"PackagesSearchFormSelection"===(null===(r=O.searchForm.packages.packageSelection)||void 0===r?void 0:r.__typename)?null===_?a.createElement(Fp,{data:O.searchForm.packages.packageSelection.noSelectionMessage}):a.createElement(S.ee,ye({},Mp),_?a.createElement(Ip,_e(ye({},e),{packageType:_,data:O.searchForm.packages,includeCabinClassField:Boolean(o)})):a.createElement(Rp,_e(ye({},e),{data:O.searchForm.packages}))):null};wp.displayName="sharedui-PackagesSearchForm";var Wp=function(e){var t=e.inputs,n=e.onPackageTypeChange,r=e.includePlayback,l=e.enableReflection,o=e.sticky,c=ve(a.useState(t.packageType),2),s=c[0],u=c[1],m=ve(a.useState({name:"",value:""}),2),p=m[0],y=m[1],_=ve(a.useState(!0),2),v=_[0],S=_[1],E=ve(a.useState(!0),2),g=E[0],f=E[1],h=ve(a.useState(!1),2),D=h[0],T=h[1],b=ve(a.useState(!1),2),C=b[0],I=b[1],A=o?Gn:a.Fragment,F=a.useCallback((function(e){u(e),null==n||n(e);var t="HOTEL_CAR"===e;S(!t&&null!==e),f(!t&&null!==e)}),[u,n]),O=a.useCallback((function(e){y(e),T(!0)}),[y]),k=a.useCallback((function(e){I(e)}),[I]),G=a.createElement(Im,_e(ye({},e),{onPackageTypeChange:F,onCabinClassSelect:O,inputs:ye({},t),showCabinClass:v,showDirectFlightsOnly:g,skipQuery:D,handleDirectFlightsOnlySwitch:k})),R=a.createElement(wp,_e(ye({},e),{inputs:_e(ye({},t),{packageType:s}),cabinClass:p,directFlightsOnlySwitch:C,showDirectFlightsOnly:g,handleDirectFlightsOnlySwitch:k})),L=a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(a.Fragment,null,!r&&G,R)),a.createElement(d.rw,null,a.createElement(A,null,G,R)));return l?a.createElement(i.tb,null,a.createElement("div",{"data-stid":"search-form-with-reflection"},L)):L},Up=(0,u.J1)(gn()),Hp=(0,u.J1)(fn(),Up),Vp=function(e){var t=(0,S.KY)(),n=e.data,r=e.onChange,l=n.accessibilityText,i=n.id,o=n.isApplied,c=n.label,s=n.selectAnalytics,d=n.unselectAnalytics;return a.createElement(j.E,{a11yLabel:null!=l?l:"",id:i,checked:o,onChange:function(e){var n=e.currentTarget.checked?s:d;n&&t(n.referrerId,n.linkName),null==r||r(e)}},c)};Vp.displayName="SearchFormDirectFlight",Vp.fragment=Hp;var zp=(0,u.J1)(hn(),ml.fragment),Yp={ONE_WAY:"ONE_WAY",ROUND_TRIP:"ROUND_TRIP",MULTI_CITY:"MULTI_DESTINATION"},qp=function(e){var t=e.data,n=e.onFlightTypeSelect,r=e.flightTypeOverride,l=(0,d.eg)({viewSizes:d.pf}),i=(0,S.KY)(),o=t.options.filter((function(e){return"EGDSBasicOption"===e.__typename})),c=ve(a.useState(r?o.findIndex((function(e){return e.value===r})):o.findIndex((function(e){return e.selected}))),2),s=c[0],u=c[1],m={selectedTab:s,onTabSelect:function(e){var t=o[e],a=t.value,r=t.changeAnalytics;if(u(e),null==n||n(Pn[Yp[a]]),r){var l=r.linkName,c=r.referrerId;i(l,c)}},tabsType:l<=d.pf.SMALL?v.c.EQUAL_WIDTH:v.c.NATURAL};return a.createElement(v.f,ye({},m),o.map((function(e){var t=e.value,n=e.label;return a.createElement(v.E,{id:"FlightSearchForm_".concat(t),key:t,name:n,targetURI:"?flightType=".concat(t)})})))};qp.fragment=zp,qp.displayName="FlightTypeSelectorOptions";var jp={SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_QUERY_FAILURE"),SEARCH_TOOLS_FLIGHTS_OPTIONS_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_FLIGHTS_OPTIONS_QUERY_FAILURE")},$p={SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_FALLBACK_IMPRESSION:{linkName:"Flights Search Form Fallback Presented",referrerId:"Web.Flights.Search.Form.Fallback.Presented"},SEARCH_TOOLS_FLIGHTS_OPTIONS_FALLBACK_IMPRESSION:{linkName:"Flights Options Fallback Presented",referrerId:"Web.Flights.Options.Fallback.Presented"},SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_IMPRESSION:{linkName:"Flights Search Form Presented",referrerId:"Web.Flights.Search.Form.Presented"},SEARCH_TOOLS_FLIGHTS_OPTIONS_IMPRESSION:{linkName:"Flights Options Presented",referrerId:"Web.Flights.Options.Presented"}},Kp=(0,u.J1)(Dn(),qp.fragment,ym.fragment,Vp.fragment),Jp=function(e){var t,n,r=e.inputs,l=e.skipSsr,i=(e.onFlightTypeSelect,e.onCabinClassSelect),o=e.onDirectFlightsSelect,c=e.directFlightsOnlySwitch,s=e.batchKey,u=r.includeFlightType,y=(0,m.R)().context,_=_e(ye({},r),{context:y}),v=(0,p.useLoggerEvents)(jp),g=(0,E.I)(Kp,{context:{batchKey:s},variables:_,ssr:!l}),f=g.data,h=g.error,C=g.loading,I=f;if(a.useEffect((function(){if(i){var e,t="FlightSearchForm"===(null==I?void 0:I.searchForm.flight.__typename)?I.searchForm.flight.elements.find((function(e){var t;return"EGDSSearchFormInputField"===e.__typename&&"EGDSSearchFormSelectAction"===(null===(t=e.action)||void 0===t?void 0:t.__typename)})):null;if("EGDSSearchFormInputField"===(null==t?void 0:t.__typename)&&"EGDSSearchFormSelectAction"===(null===(e=t.action)||void 0===e?void 0:e.__typename)){var n,a="".concat(um,"-").concat(t.egdsElementId),r=t.action.options.find((function(e){return e.selected}));i({name:a,value:null!==(n=null==r?void 0:r.value)&&void 0!==n?n:""})}}}),[null==I?void 0:I.searchForm,i]),C)return a.createElement(T.b,{animation:!0,type:"secondary"});var A=h||!f;(A||"FlightSearchForm"!==(null===(t=f.searchForm)||void 0===t?void 0:t.flight.__typename))&&(I={searchForm:{flight:{directFlight:null,flightTypeSelector:{action:{analytics:{linkName:"Web.Flight - Open Flight Type Selector",referrerId:"Web.Flight.flight.type.selector.open",__typename:"ClientSideAnalytics"},options:[{changeAnalytics:{linkName:"Flight roundtrip change",referrerId:"Web.Flight.Search.Tab.Roundtrip",__typename:"ClientSideAnalytics"},value:"ROUND_TRIP",label:"Roundtrip",selected:!0,__typename:"EGDSBasicOption"},{changeAnalytics:{linkName:"Flight one way change",referrerId:"Web.Flight.Search.Tab.Oneway",__typename:"ClientSideAnalytics"},value:"ONE_WAY",label:"One-way",selected:!1,__typename:"EGDSBasicOption"},{changeAnalytics:{linkName:"Flight multicity change",referrerId:"Web.Flight.Search.Tab.Multicity",__typename:"ClientSideAnalytics"},value:"MULTI_CITY",label:"Multi-city",selected:!1,__typename:"EGDSBasicOption"}],apply:{egdsElementId:"flight_type_selector",primary:"Apply",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Web.Flight - Flight Type Apply",referrerId:"Web.Flight.flight.type.selector.apply.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},__typename:"EGDSSearchFormSelectAction"},__typename:"EGDSSearchFormInputField"},elements:[{egdsElementId:"cabin_class",value:"COACH",label:"Cabin class",placeholder:"Economy",leftIcon:{id:"airline_seat_recline_extra",title:null,token:"icon__airline_seat_recline_extra",description:"airline_seat_recline_extra",size:null,__typename:"Icon"},action:{analytics:{linkName:"Open Cabin Class Selector",referrerId:"Web.Flight.cabin.class.selector.open",__typename:"ClientSideAnalytics"},options:[{label:"Economy",selected:!0,value:"COACH",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Economy class selected",referrerId:"Web.Flight.cabin.class.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Premium economy",selected:!1,value:"ECONOMY_PREMIUM",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Premium economy class selected",referrerId:"Web.Flight.cabin.class.premium.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Business class",selected:!1,value:"BUSINESS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Business class selected",referrerId:"Web.Flight.cabin.class.business.class.selected",__typename:"ClientSideAnalytics"}},{label:"First class",selected:!1,value:"FIRST_CLASS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"First class selected",referrerId:"Web.Flight.cabin.class.first.class.selected",__typename:"ClientSideAnalytics"}}],__typename:"EGDSSearchFormSelectAction"},__typename:"EGDSSearchFormInputField"}],__typename:"FlightSearchForm"},__typename:"SearchFormResults"}},v.SEARCH_TOOLS_FLIGHTS_OPTIONS_QUERY_FAILURE.log({name:null==h?void 0:h.name,error:new Error(null==h?void 0:h.message)}));var F=A?Wn:a.Fragment,O=null==I?void 0:I.searchForm.flight,k=O.elements,G=O.flightTypeSelector,R=O.directFlight,L={space:"three",alignItems:"start",wrap:"wrap"},P=u&&"EGDSSearchFormSelectAction"===(null==G||null===(n=G.action)||void 0===n?void 0:n.__typename)&&a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(D.j,{minWidth:"full_width"},a.createElement("div",null,a.createElement(qp,_e(ye({},e),{data:G.action}))))),a.createElement(d.rw,null,a.createElement(D.j,null,a.createElement("div",null,a.createElement(qp,_e(ye({},e),{data:G.action})))))),M=k.find((function(e){return"EGDSSearchFormInputField"===e.__typename})),N=M&&a.createElement(D.j,null,a.createElement("div",null,a.createElement(b.E,{onFieldChange:function(e){null==i||i(e)}},a.createElement(ym,{data:M,triggerType:"pill"})))),x=R&&a.createElement(D.j,null,a.createElement("div",null,a.createElement(Vp,{data:_e(ye({},R),{isApplied:null!=c?c:R.isApplied}),onChange:function(e){var t=e.target.checked;null==o||o(t)}})));return a.createElement(F,null,a.createElement(S.ee,ye({},A?$p.SEARCH_TOOLS_FLIGHTS_OPTIONS_FALLBACK_IMPRESSION:$p.SEARCH_TOOLS_FLIGHTS_OPTIONS_IMPRESSION),a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(D.i,ye({},L),P,N,x)),a.createElement(d.rw,null,a.createElement(D.i,_e(ye({},L),{alignItems:"center"}),P,N,x)))))};Jp.displayName="sharedui-FlightOptions";var Qp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=new Date,n=new Date(t);n.setDate(t.getDate()+e);var a=new Date(n);return a.setDate(n.getDate()+4),{departureDate:{day:n.getDate(),month:n.getMonth()+1,year:n.getFullYear()},arrivalDate:{day:a.getDate(),month:a.getMonth()+1,year:a.getFullYear()}}},Xp=new Date,Zp=new Date;Zp.setDate(Zp.getDate()+14);var ey=new Date;ey.setDate(ey.getDate()+15);var ty=new Date;function ny(e){return{__typename:"Date",day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}ty.setMonth(ty.getMonth()+10),ty.setDate(ty.getDate()-5);var ay=function(e){return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getDate())},ry={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Flight.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},ly={__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},iy={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},oy={__typename:"UISecondaryButton",egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null},cy={__typename:"UISecondaryButton",egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null},sy=[{__typename:"EGDSSameValueInputValidation",errorMessage:"Please make sure your departure and arrival cities are different"}],dy={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Dates",placeholder:"".concat(ay(Zp)," - ").concat(ay(ey)),errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!1,selectedStartDate:ye({},ny(Zp)),startDatePlaceholderText:ay(Zp),selectedEndDate:ye({},ny(ey)),endDatePlaceholderText:ay(ey),validDaysLowerBoundInclusive:ye({},ny(Xp)),validDaysUpperBoundInclusive:ye({},ny(ty)),submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Flight.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Flight.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"flight calendar end date click",referrerId:"Web.Flight.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},uy={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Date",placeholder:ay(Zp),errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",firstDayOfWeek:"SUN",selectedStartDate:ye({},ny(Zp)),startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},validDaysLowerBoundInclusive:ye({},ny(Xp)),validDaysUpperBoundInclusive:ye({},ny(ty)),__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"}},my={action:{analytics:{linkName:"Travelers selector displayed",referrerId:"Travelers selector updated",__typename:"ClientSideAnalytics"},travelerSelector:{closeButton:{egdsElementId:"travelers_selector_close_button",primary:"Close",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Close button",referrerId:"Web.Flight.Search.Traveler.Selector.Close.Button.Clicked",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"travelers_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Done button",referrerId:"Web.Flight.Search.Traveler.Selector.Done.Button.Clicked",__typename:"ClientSideAnalytics"},action:{__typename:"ActivityAddOfferToTripAction",accessibility:""},__typename:"UIPrimaryButton"},title:"Travelers",travelers:{adults:{decreaseAnalytics:{linkName:"Adult traveler removed",referrerId:"Web.Flights.Traveler.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Adult traveler added",referrerId:"Web.Flights.Traveler.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:null,increaseText:"Increase the number of adults",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",label:"Adults",max:6,min:1,step:1,subLabel:null,value:1,__typename:"EGDSTravelerStepInput"},children:{count:{decreaseAnalytics:{linkName:"Children traveler removed",referrerId:"Web.Flights.Traveler.Remove.Children",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Children traveler added",referrerId:"Web.Flights.Traveler.Add.Children",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:null,increaseText:"Increase the number of children",increaseTextTemplate:null,egdsElementId:"traveler_selector_children_step_input",label:"Children",max:5,min:0,step:1,subLabel:"Ages 2 to 17",value:0,__typename:"EGDSTravelerStepInput"},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Select age",value:"",egdsElementId:"children_age_option",__typename:"EGDSBasicOption",changeAnalytics:null},{label:"2",value:"2",egdsElementId:"children_age_option_2",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"3",value:"3",egdsElementId:"children_age_option_3",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"4",value:"4",egdsElementId:"children_age_option_4",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"5",value:"5",egdsElementId:"children_age_option_5",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"6",value:"6",egdsElementId:"children_age_option_6",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"7",value:"7",egdsElementId:"children_age_option_7",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"8",value:"8",egdsElementId:"children_age_option_8",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"9",value:"9",egdsElementId:"children_age_option_9",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"10",value:"10",egdsElementId:"children_age_option_10",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"11",value:"11",egdsElementId:"children_age_option_11",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"12",value:"12",egdsElementId:"children_age_option_12",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"13",value:"13",egdsElementId:"children_age_option_13",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"14",value:"14",egdsElementId:"children_age_option_14",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"15",value:"15",egdsElementId:"children_age_option_15",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"16",value:"16",egdsElementId:"children_age_option_16",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"17",value:"17",egdsElementId:"children_age_option_17",changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_children_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infantsInSeat:{count:{decreaseAnalytics:{linkName:"Infant traveler removed",referrerId:"Web.Flights.Traveler.Remove.InfantsInSeat",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Infant traveler added",referrerId:"Web.Flights.Traveler.Add.InfantsInSeat",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants in seat",decreaseTextTemplate:null,increaseText:"Increase the number of infants in seat",increaseTextTemplate:null,egdsElementId:"traveler_selector_infants_in_seat_step_input",label:"Infants in seat",max:4,min:0,step:1,subLabel:"Younger than 2",value:0,__typename:"EGDSTravelerStepInput"},ages:[],ageTemplate:{labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Select age",value:"",egdsElementId:"infants_age_option",__typename:"EGDSBasicOption",changeAnalytics:null},{label:"0",value:"0",egdsElementId:"infants_age_option_0",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:"infants_age_option_1",changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_infant_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},infantsOnLap:{count:{decreaseAnalytics:{linkName:"Infant traveler removed",referrerId:"Web.Flights.Traveler.Remove.InfantsOnLap",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Infant traveler added",referrerId:"Web.Flights.Traveler.Add.InfantsOnLap",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants on lap",decreaseTextTemplate:null,increaseText:"Increase the number of infants on lap",increaseTextTemplate:null,egdsElementId:"traveler_selector_infants_on_lap_step_input",label:"Infants on lap",max:4,min:0,step:1,subLabel:"Younger than 2",value:0,__typename:"EGDSTravelerStepInput"},ages:[],ageTemplate:{labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Select age",value:"",egdsElementId:"infants_age_option",__typename:"EGDSBasicOption",changeAnalytics:null},{label:"0",value:"0",egdsElementId:"infants_age_option_0",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:"infants_age_option_1",changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_infant_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},pets:null,__typename:"EGDSTravelers"},validations:[{errorMessage:"We allow up to 6 travelers per booking.",maxCount:6,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 6 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Flight.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for each infant on lap.",maxCount:null,type:"MANY_INFANT_ON_LAP",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for each infant on lap.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",maxCount:null,type:"MANY_INFANT_IN_SEAT",infantsInSeatPerAdult:2,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSBasicTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],secondaryTemplates:null,text:"1 traveler",__typename:"EGDSCardinalLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1,__typename:"EGDSSearchFormTravelersField"},py={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Flight.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},yy=[{id:"multiDestinationLeg_0",locations:{egdsElementId:"locations",origin:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}],__typename:"EGDSSearchFormLocationsField"},date:{egdsElementId:"date_form_field",label:"Date",placeholder:ay(Zp),errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:ye({},ny(Zp)),validDaysLowerBoundInclusive:ye({},ny(Xp)),validDaysUpperBoundInclusive:ye({},ny(ty)),submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},__typename:"FlightSearchFormLeg"},{id:"multiDestinationLeg_1",locations:{egdsElementId:"locations",origin:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}],__typename:"EGDSSearchFormLocationsField"},date:{egdsElementId:"date_form_field",label:"Date",placeholder:ay(Zp),errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:ye({},ny(Zp)),validDaysLowerBoundInclusive:ye({},ny(Xp)),validDaysUpperBoundInclusive:ye({},ny(ty)),submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},__typename:"FlightSearchFormLeg"}],_y={accessibility:null,action:null,analytics:{linkName:"Add Leg button clicked",referrerId:"Web.Flight.Search.AddLeg.Button.Clicked",__typename:"ClientSideAnalytics"},disabled:!1,egdsElementId:"add_leg_button",icon:{description:"ADD",id:"add",title:null,token:"icon__add",__typename:"Icon"},primary:"Add another flight",__typename:"UITertiaryButton"},vy={accessibility:null,action:null,analytics:{linkName:"Remove Leg button clicked",referrerId:"Web.Flight.Search.RemoveLeg.Button.Clicked",__typename:"ClientSideAnalytics"},disabled:!1,egdsElementId:"remove_leg_button",icon:null,primary:"Remove",__typename:"UITertiaryButton"},Sy={models:[{key:"legNumber",source:"legNumber",__typename:"TemplateModel"}],template:"Flight ${legNumber}",__typename:"EGDSBasicLocalizedText"},Ey=function(e){return e.valueOf()==="ROUND_TRIP".valueOf()?dy:uy},gy=function(e){var t=function(e){if(e.valueOf()==="MULTI_DESTINATION".valueOf())return{legs:yy,addLeg:_y,removeLeg:vy,legHeading:Sy};var t,n,a=Ey(e);return{legs:(t=e,n=a,[{id:t,locations:{__typename:"EGDSSearchFormLocationsField",egdsElementId:"locations",origin:{__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:"Results available.",analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}]},date:n,__typename:"FlightSearchFormLeg"}]),addLeg:null,removeLeg:null,legHeading:null}}(e);return{__typename:"FlightSearchForm",egdsElementId:"flight-search-form",actionURL:"/Flights-Search",errorSummary:ry,elements:[{egdsElementId:"flight_locations",origin:ly,destination:iy,horizontalSwapper:oy,verticalSwapper:cy,validations:sy,__typename:"EGDSSearchFormLocationsField"},Ey(e),my,{__typename:"EGDSSearchFormInputField"}],search:py,addLeg:t.addLeg,removeLeg:t.removeLeg,legHeading:t.legHeading,legs:t.legs,playback:null,maxAllowedLegs:5,localDateFormat:"M/d/yyyy",softPackages:null,searchLocation:Xi,valuePropMessage:null}},fy="LeftIconFlexItem",hy="default",Dy={SMALL:{LeftIconFlexItem:{alignSelf:void 0},default:{alignSelf:"center"}},MEDIUM:{LeftIconFlexItem:{alignSelf:"center"},default:{}},LARGE:{default:{}},EXTRA_LARGE:{default:{}}},Ty=function(e,t){var n,a=Dy[t];return null!==(n=a[e])&&void 0!==n?n:a.default},by="mainLayout",Cy="contentLayout",Iy={space:"three",alignItems:"center"},Ay={SMALL:{mainLayout:_e(ye({},Iy),{justifyContent:"start"}),contentLayout:{direction:"column",space:"two"}},MEDIUM:{mainLayout:ye({},Iy),contentLayout:{alignItems:"center",space:"three"}},LARGE:{mainLayout:{}},EXTRA_LARGE:{mainLayout:{}}},Fy=function(e,t){var n;return null!==(n=Ay[t][e])&&void 0!==n?n:Ay[t].mainLayout},Oy=function(e){var t=e.viewSize,n=e.toggleVisibility,l=e.triggerRef,i=e.data,o=e.children,c=i.illustration,s=i.moreInfoTrigger,d=i.primary;return a.createElement(r.i,null,a.createElement(D.i,ye({},Fy(by,t)),c&&a.createElement(D.j,ye({},Ty(fy,t)),a.createElement(ce.E,{url:c.url,alt:""})),a.createElement(D.j,ye({},Ty(hy,t)),a.createElement(D.i,ye({},Fy(Cy,t)),a.createElement("div",null,s&&a.createElement(ja,{data:s,onHandleClick:n,ref:l},a.createElement(G.E,{size:7},s.text)),d&&a.createElement(G.E,{size:7},d)),o))))},ky=(0,u.J1)(Tn(),ja.fragment),Gy=function(e){var t=e.data,n=e.children,r=t.moreInfoTrigger,l=a.useRef(null),i=ve(a.useState(!1),2),o=i[0],c=i[1],s=function(){var e;(c(!o),o)&&(null===(e=l.current)||void 0===e||e.focus())},u={data:t,toggleVisibility:s,triggerRef:l,viewSize:d.OB.SMALL},m=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.OB.SMALL)===d.OB.SMALL?l:null;return r&&a.createElement(Ya,{isVisible:o,data:r.triggerAction.sheet,ref:e,toggleVisibility:s,sheetTypesByView:{mobile:"POPOVER",desktop:"POPOVER"}},a.createElement(G.a,{size:2},r.triggerAction.text))};return a.createElement(h.d,{type:"relative"},a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(a.Fragment,null,a.createElement(Oy,ye({},u),n),m())),a.createElement(d.rw,null,a.createElement(a.Fragment,null,a.createElement(Oy,_e(ye({},u),{viewSize:d.OB.MEDIUM}),n),m(d.OB.MEDIUM)))))};Gy.fragment=ky,Gy.displayName="SearchFormMessaging";var Ry=(0,u.J1)(bn(),hr.fragment,Vc.fragment),Ly="EGDSSoftPackagesPackageType",Py=function(e){var t=e.data,n=e.onProductSelect,r=e.setFieldRefByTypename,l=e.fieldError,i=e.currentSearchFormProduct,o=e.searchLocationContent,c=e.searchFormMessaging,s=t.addCar,d=t.addFlight,u=t.origin,m=t.addHotel,p=t.datesForHotelStay,y=function(e){n(e)},_=u&&"EGDSBasicCheckBox"===(null==d?void 0:d.__typename)&&"CHECKED"===d.state,v=u&&a.createElement(tp,null,a.createElement(Vc,{data:u,searchLocationContent:o,setFieldRefByTypename:r,fieldError:l})),S=p&&"EGDSBasicCheckBox"===(null==m?void 0:m.__typename)&&"CHECKED"===m.state,E=p&&a.createElement(tp,null,a.createElement(dl,{data:p,setFieldRefByTypename:function(e,t,n){r("".concat(e,"SoftPackages"),t,n)},fieldError:l})),g=function(e){return"EGDSBasicCheckBox"===(null==e?void 0:e.__typename)&&"CHECKED"===e.state},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hotels";if("hotels"===t){var n=e.flightAdded,a=e.carAdded;if(n&&a)return"fhc";if(n)return"fh";if(a)return"hc"}else if("flights"===t){var r=e.hotelAdded,l=e.carAdded;if(r&&l)return"fhc";if(r)return"fh";if(l)return"fc"}return""}({flightAdded:g(d),carAdded:g(s),hotelAdded:g(m)},i),h=[m,d,s],T=a.createElement(D.i,{direction:"row",space:"three"},h.map((function(e){return e?a.createElement(D.j,{key:null==e?void 0:e.egdsElementId},a.createElement("div",null,a.createElement(hr,{data:e,onChange:y}))):null})));return a.createElement(a.Fragment,null,c?a.createElement(Gy,{data:c},T):T,_&&v,S&&E,a.createElement("input",{"data-stid":Ly,type:"hidden",name:Ly,value:f}))};Py.fragment=Ry,Py.displayName="SoftPackages";var My,Ny,xy,By=function(e){return e.TRAVEL_DATES="EGDSDateRangePicker",e.TRAVELER_SELECTOR="EGDSBasicTravelerSelector",e}(By||{}),wy={ONE_WAY:"oneway",ROUND_TRIP:"roundtrip",MULTI_DESTINATION:"multi"},Wy={COACH:"economy",PREMIUM_ECONOMY:"premium",BUSINESS:"business",FIRST:"first",ANY:"any"},Uy=function(e,t){var n=e.day,a=e.month,r=e.year,l=n<10?"0".concat(n):n,i=a<10?"0".concat(a):a;return t.formatDateString("".concat(r,"-").concat(i,"-").concat(l),{raw:t.localDateFormat})},Hy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.day,r=t.month,l=t.year,i=r<10?"0".concat(r):r,o=a<10?"0".concat(a):a;return"&".concat(e,"=").concat(l,"-").concat(n?i:r,"-").concat(n?o:a)},Vy=function(e,t,n,a){var r,l,i=e.primary,o=i.tripType,c=i.journeyCriterias,s=i.travelers,d=i.searchPreferences,u="trip=".concat(wy[o]),m=c.reduce((function(e,t,r){var l,i,o=t.origin,c=t.destination,s=t.departureDate,d=t.arrivalDate,u=null!==(l=null==a?void 0:a.get(o))&&void 0!==l?l:"U",m=null!==(i=null==a?void 0:a.get(c))&&void 0!==i?i:"U",p="&leg".concat(r+1,"=from:").concat(o,",to:").concat(c,",departure:").concat(Uy(s,n),"TANYT,fromType:").concat(u,",toType:").concat(m),y=d?"&leg2=from:".concat(c,",to:").concat(o,",departure:").concat(Uy(d,n),"TANYT,fromType:").concat(m,",toType:").concat(u):"";return"".concat(e).concat(p).concat(y)}),""),p=d?"cabinclass:".concat(Wy[d.cabinClass]):"",y=(null===(l=e.primary.searchPreferences)||void 0===l||null===(r=l.advancedFilters)||void 0===r?void 0:r.includes("NONSTOP"))?"maxhops:0":"",_="options=".concat(p).concat(y),v=s.some((function(e){return"INFANT_IN_SEAT"===e.type}))?"&ChildInSeat=seat":"",S=s.some((function(e){return"INFANT_IN_LAP"===e.type})),E=s.filter((function(e){return"CHILD"===e.type||"INFANT_IN_LAP"===e.type||"INFANT_IN_SEAT"===e.type})),g=s.filter((function(e){return"ADULT"===e.type})),f=E.length>0?"children:".concat(E.length,"[").concat(E.map((function(e){return e.age})).join(";"),"],"):"",h=g.length>0?"adults:".concat(g.length,","):"",D=S?"infantinlap:Y":"infantinlap:N",T="passengers=".concat(f).concat(h).concat(D),b=ve(c,1)[0],C=b.departureDate,I=b.arrivalDate,A="&fromDate=".concat(Uy(C,n)).concat(I?"&toDate=".concat(Uy(I,n)):"").concat(Hy("d1",C)).concat(I?Hy("d2",I):""),F="true"===(null==t?void 0:t.get("airCreditIntent"))?"&airCreditIntent=true":"";return"?".concat("flight-type=on","&").concat("mode=search","&").concat(u).concat(m,"&").concat(_).concat(v).concat(A,"&").concat(T).concat(F)},zy=function(e,t,n,a){var r=["EGDS","add-"],l=e.filter((function(e){var t=e.name;return r.some((function(e){return t.startsWith(e)}))})),i="tripType=".concat(t),o=l.reduce((function(e,t){var n=t.name,r=t.value,i=t.checked;if(n.startsWith("EGDSSoftPackagesPackageType")){var o=r.includes("h")?"&isPartialStay=1":"";return"".concat(e,"&packageType=").concat(r).concat(o)}var c="EGDSSearchFormLocationField";if(n.startsWith(c)){if(n.startsWith("".concat(c,"-AirportCode-origin_select")))return"".concat(e,"&ftla=").concat(r);if(n.startsWith("".concat(c,"-RegionId-origin_select")))return"".concat(e,"&originId=").concat(r);if(n.startsWith("".concat(c,"-AirportCode-destination_select")))return"".concat(e,"&ttla=").concat(r);if(n.startsWith("".concat(c,"-Location-destination_select")))return"".concat(e,"&destination=").concat(r);if(n.startsWith("".concat(c,"-DestinationId-destination_select")))return"".concat(e,"&destinationId=").concat(r)}var s="EGDSSearchFormTravelersField";if(n.startsWith(s)){if(n.startsWith("".concat(s,"-Adult")))return"".concat(e,"&numberOfRooms=1&adultsPerRoom[1]=").concat(r);if(n.startsWith("".concat(s,"-ChildrenAge"))){var d=ve(n.split("".concat(s,"-ChildrenAge-")),2)[1];return"".concat(e,"&childAges[1][").concat(d,"]=").concat(r)}if(n.startsWith("".concat(s,"-InfantOnLapAge"))){var u=e.includes("InfantSeating")?"":"&InfantSeating=lap",m=e.includes("infantsInSeats")?"":"&infantsInSeats=0",p=(e.match(/childAges/g)||[]).length+1,y="&childAges[1][".concat(p,"]=").concat(r);return"".concat(e).concat(u).concat(m).concat(y)}if(n.startsWith("".concat(s,"-InfantInSeatAge"))){var _=e.includes("InfantSeating")?"":"&InfantSeating=seat",v=e.includes("infantsInSeats")?"":"&infantsInSeats=1",S=(e.match(/childAges/g)||[]).length+1,E="&childAges[1][".concat(S,"]=").concat(r);return"".concat(e).concat(_).concat(v).concat(E)}}var g="EGDSSingleDatePicker",f="EGDSDateRangePickerSoftPackages",h="EGDSDateRangePicker";if(n.includes(g)||n.includes(f)||n.includes(h)){var D=function(e){var t=ve(e.split("-"),3),n=t[0],a=t[1],r=t[2];return{__typename:"Date",year:Number(n),month:Number(a),day:Number(r)}}(r),T=Uy(D,a);if(n.startsWith(g)){var b="&fromDate=".concat(T);return"".concat(e).concat(b)}if(n.startsWith(f)){var C=n.startsWith("".concat(f,"-StartDate-soft_packages_date_form_field")),I=Hy(C?"d1":"d2",D,!0),A="&".concat(C?"checkInDate":"checkOutDate","=").concat(T);return"".concat(e).concat(I).concat(A)}if(n.startsWith(h)){var F=n.startsWith("".concat(h,"-StartDate-date_form_field")),O="&".concat(F?"fromDate":"toDate","=").concat(T),k=Hy(F?"startDate":"endDate",D,!0),G=l.some((function(e){return e.name.startsWith("EGDSSoftPackagesPackageType")&&e.value.includes("h")})),R=G&&l.some((function(e){return e.name.startsWith(f)})),L=Hy(F?"d1":"d2",D,!0),P="&".concat(F?"checkInDate":"checkOutDate","=").concat(T),M=R?"":"".concat(L).concat(G?P:"");return"".concat(e).concat(O).concat(k).concat(M)}}var N="add-";if(N){if(n.startsWith("".concat(N,"hotel-switch"))&&i)return"".concat(e,"&add-hotel-checkbox=");if(n.startsWith("".concat(N,"car-switch"))&&i)return"".concat(e,"&add-car-checkbox=")}return e}),"?".concat(i)),c=n?"&isDirectFlight=true":"",s=(o.match(/childAges/g)||[]).length;return"".concat(o,"&childrenPerRoom[1]=").concat(s).concat(c)},Yy=(pe(My={},ui,"ADULT"),pe(My,mi,"CHILD"),pe(My,yi,"INFANT_IN_LAP"),pe(My,pi,"INFANT_IN_SEAT"),My),qy={ROUND_TRIP:"ROUND_TRIP",ONE_WAY:"ONE_WAY",MULTI_CITY:"MULTI_DESTINATION"},jy={ECONOMY:"COACH",ECONOMY_PREMIUM:"PREMIUM_ECONOMY",BUSINESS:"BUSINESS",FIRST_CLASS:"FIRST",ANY:"ANY"},$y=function(e,t){var n=null==e?void 0:e.current,a={primary:{journeyCriterias:[],travelers:[],tripType:t},secondary:null};return n?Array.from(n.elements).filter((function(e){return e.name.startsWith("EGDS")})).reduce(Ky,a):a},Ky=function(e,t){var n=t.name,a=t.value;if(n.startsWith("".concat(um,"-flight_type_selector"))){var r,l=_e(ye({},e.primary),{tripType:null!==(r=qy[a])&&void 0!==r?r:"ROUND_TRIP"});return _e(ye({},e),{primary:l})}if(n.startsWith("".concat(um,"-cabin_class"))||"EGDS-defaultCabinClass"===n){var i,o,c=_e(ye({},null!==(i=e.primary.searchPreferences)&&void 0!==i?i:{}),{cabinClass:null!==(o=jy[a])&&void 0!==o?o:"COACH"}),s=_e(ye({},e.primary),{searchPreferences:c});return _e(ye({},e),{primary:s})}if(n.startsWith(di)){var d=n.startsWith(ui),u=n.split("-"),m=d?ui:u.slice(0,u.length-1).join("-"),p=Number.parseInt(a,10),y=d?Array.from(Array(p).keys()).map((function(e){return{type:Yy[m],age:null}})):[{type:Yy[m],age:a?p:null}];return _e(ye({},e),{primary:_e(ye({},e.primary),{travelers:Ee(e.primary.travelers).concat(Ee(y))})})}if(n.startsWith("".concat(fc,"-origin_select"))){var _="".concat(fc,"-origin_select-");if(n.startsWith(_)){var v,S=ve(n.split(_),2)[1],E=Ee(e.primary.journeyCriterias);E[Number(S)]=_e(ye({},null!==(v=E[Number(S)])&&void 0!==v?v:E[0]),{origin:a});var g=_e(ye({},e.primary),{journeyCriterias:Ee(E)});return _e(ye({},e),{primary:g})}var f,h=e.primary.journeyCriterias.length,D=_e(ye({},null!==(f=e.primary.journeyCriterias[h-1])&&void 0!==f?f:{}),{origin:a}),T=_e(ye({},e.primary),{journeyCriterias:[D]});return _e(ye({},e),{primary:T})}if(n.startsWith("".concat(fc,"-destination_select"))){var b,C="".concat(fc,"-destination_select-");if(n.startsWith(C)){var I,A=ve(n.split(C),2)[1],F=Ee(e.primary.journeyCriterias);F[Number(A)]=_e(ye({},null!==(I=F[Number(A)])&&void 0!==I?I:F[0]),{destination:a});var O=_e(ye({},e.primary),{journeyCriterias:Ee(F)});return _e(ye({},e),{primary:O})}var k=_e(ye({},null!==(b=e.primary.journeyCriterias[0])&&void 0!==b?b:{}),{destination:a}),G=_e(ye({},e.primary),{journeyCriterias:[k]});return _e(ye({},e),{primary:G})}if(n.startsWith(al.START_DATE_NAME_PREFIX)||n.startsWith(al.END_DATE_NAME_PREFIX)){var R,L=ve(a.split("-").map((function(e){return Number(e)})),3),P=L[0],M=L[1],N=L[2],x=_e(ye({},null!==(R=e.primary.journeyCriterias[0])&&void 0!==R?R:{}),pe({},n.startsWith(al.START_DATE_NAME_PREFIX)?"departureDate":"arrivalDate",{day:N,month:M,year:P})),B=_e(ye({},e.primary),{journeyCriterias:[x]});return _e(ye({},e),{primary:B})}if(n.startsWith(il)){var w,W=ve(a.split("-").map((function(e){return Number(e)})),3),U=W[0],H=W[1],V=W[2],z="".concat(il,"-date_form_field-");if(n.startsWith(z)){var Y,q=ve(n.split(z),2)[1],j=Ee(e.primary.journeyCriterias);j[Number(q)]=_e(ye({},null!==(Y=j[Number(q)])&&void 0!==Y?Y:j[0]),{departureDate:{day:V,month:H,year:U}});var $=_e(ye({},e.primary),{journeyCriterias:Ee(j)});return _e(ye({},e),{primary:$})}var K=_e(ye({},null!==(w=e.primary.journeyCriterias[0])&&void 0!==w?w:{}),{departureDate:{day:V,month:H,year:U}}),J=_e(ye({},e.primary),{journeyCriterias:[K]});return _e(ye({},e),{primary:J})}return e},Jy="yyyy-MM-dd",Qy=function(e){var t,n=e.action,r=e.egdsElementId,l=e.label,o=e.placeholder,c=e.origin,s=e.destination,d=e.skipReflection,u=n.datePicker,m=(0,N.useLocalization)().formatDateString,p=(0,i.kW)(),y=p.state,_=p.dispatch,v=null!==(t=y.dates)&&void 0!==t?t:{},S=v.start,E=v.end,g=y.origin,f=y.destination,h=ve(a.useState({startDate:(null==u?void 0:u.selectedStartDate)?m(_a(null==u?void 0:u.selectedStartDate),{raw:Jy}):"",endDate:(null==u?void 0:u.selectedEndDate)?m(_a(null==u?void 0:u.selectedEndDate),{raw:Jy}):"",shouldFireChangeEvent:!1}),2),D=h[0],T=h[1],C=D.startDate,I=D.endDate,A=D.shouldFireChangeEvent,F="EGDSDateRangePicker"===u.__typename?se.Yk.ROUND_TRIP:se.Yk.ONE_WAY,O=(0,b.u)("FlightsFareCalendar-".concat(F),(function(e){return e}));a.useEffect((function(){T({startDate:S||(u.selectedStartDate?m(_a(u.selectedStartDate),{raw:Jy}):""),endDate:E||(u.selectedEndDate?m(_a(u.selectedEndDate),{raw:Jy}):""),shouldFireChangeEvent:!1})}),[u]),a.useEffect((function(){if(A){T((function(e){return _e(ye({},e),{shouldFireChangeEvent:!1})}));var e=F===se.Yk.ROUND_TRIP?"".concat(C," - ").concat(I):"".concat(C);Na(e,O)}}),[D]);var k,G,R={startName:r,startId:r,startLabel:l,endLabel:l,startPlaceholder:o,buttonText:u.buttonText},L={startDate:C,endDate:I,singleMode:F===se.Yk.ONE_WAY,dateFieldProps:R,onChange:function(e){var t,n;null==e||e.forEach((function(e){var a=e.value;"startDate"===e.fieldName?t=a:n=a})),t===D.startDate&&n===D.endDate||(d||_({type:"UPDATE_DATES",end:n,start:t}),T({startDate:t,endDate:n,shouldFireChangeEvent:!0}))},origin:null!==(k=null==g?void 0:g.term)&&void 0!==k?k:c,destination:null!==(G=null==f?void 0:f.term)&&void 0!==G?G:s,firstDayOfWeek:Ea[u.firstDayOfWeek],tripType:F,onSubmitAnalytics:!0,singleTrigger:F===se.Yk.ROUND_TRIP};return a.createElement(a.Fragment,null,a.createElement(se.x3,ye({},L)),F===se.Yk.ONE_WAY&&a.createElement("input",{type:"hidden","data-stid":il,name:"".concat(il,"-").concat(r),value:C}),F===se.Yk.ROUND_TRIP&&a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden","data-stid":al.START_DATE_NAME_PREFIX,name:"".concat(al.START_DATE_NAME_PREFIX,"-").concat(r),value:C}),a.createElement("input",{type:"hidden","data-stid":al.END_DATE_NAME_PREFIX,name:"".concat(al.END_DATE_NAME_PREFIX,"-").concat(r),value:I})))},Xy={},Zy=(pe(Ny={},d.OB.SMALL,{default:{minWidth:"full_width"}}),pe(Ny,d.OB.MEDIUM,{EGDSSearchFormLocationsField:{grow:1,minWidth:"half_width"},EGDSSearchFormDatePickerField:{minWidth:"third_width",maxWidth:"third_width"},EGDSSearchFormTravelersField:{grow:1},default:Xy}),pe(Ny,d.OB.LARGE,{EGDSSearchFormLocationsField:{minWidth:"half_width",maxWidth:"half_width"},EGDSSearchFormDatePickerField:{grow:2},EGDSSearchFormTravelersField:{grow:2},EGDSSearchFormButton:{grow:0},default:Xy}),pe(Ny,d.OB.EXTRA_LARGE,{EGDSSearchFormLocationsField:{minWidth:"half_width",maxWidth:"full_width"},EGDSSearchFormDatePickerField:{grow:2},EGDSSearchFormTravelersField:{grow:2},EGDSSearchFormButton:{grow:0},default:Xy}),Ny),e_=function(e,t){var n,a=Zy[t];return null!==(n=a[e])&&void 0!==n?n:a.default},t_=[vl,ep,dl,Ci],n_=function(e){var t=e.viewSize,n=e.fields,r=e.legs,l=e.defaultValidationProps,i=e.errorState,o=e.onLocationsSelection,c=e.updatePlaybackDates,s=e.fareCalendarData,u=e.search,m=e.softPackages,p=e.lastSearchLatLong,y=e.searchLocationAnalytics,_=e.searchLocationContent,v=e.onOpenLocationField,S=r.length>0?[r[0].locations,r[0].date]:[],E=n.filter((function(e){return"EGDSSearchFormTravelersField"===e.__typename}));E.length>0&&E[0]&&S.push(E[0]);var g=a.useContext(S_),f=g.enablePriceCalendar,h=g.priceCalendarInputs,T=g.onLocationChange,b=f?{lobName:"flights",enablePriceCalendar:f,priceCalendarInputs:h,onLocationChange:T}:void 0;return a.createElement(D.i,{alignContent:"start",justifyContent:"start",wrap:"wrap",space:"three"},S.map((function(e,n){var r=e.__typename,d=t_.find((function(e){return e.displayName===r})),u=e_(r,t),m=ye(_e(ye({},l),{fieldError:$c(i,r)}),"EGDSSearchFormLocationsField"===r&&{originFieldError:$c(i,"".concat(e.origin.__typename,"Origin")),destinationFieldError:$c(i,"".concat(e.destination.__typename,"Destination"))}),S={originRef:"EGDSSearchFormLocationsField"===r?m:null,destinationRef:"EGDSSearchFormLocationsField"===r?m:null,onLocationsSelection:"EGDSSearchFormLocationsField"===r?o:null,onOpenLocationField:"EGDSSearchFormLocationsField"===r?v:null,updatePlaybackDates:"EGDSSearchFormDatePickerField"===r?c:null,searchLocationAnalytics:"EGDSSearchFormLocationsField"===r?y:null,searchLocationContent:"EGDSSearchFormLocationsField"===r?_:null,lastSearchLatLong:"EGDSSearchFormLocationsField"===r?p:null};if("EGDSSearchFormDatePickerField"===r&&(null==s?void 0:s.enabled)){var E={action:e.action,egdsElementId:e.egdsElementId,label:e.label,placeholder:e.placeholder,origin:s.origin,destination:s.destination};return a.createElement(D.j,ye({key:"field_".concat(r,"_").concat(n)},u),a.createElement("div",null,a.createElement(Qy,_e(ye({},E,e),{key:"SearchFormFareCalendarWrapper"}))))}return d&&a.createElement(D.j,ye({key:"field_".concat(r,"_").concat(n)},u),a.createElement("div",null,a.createElement(d,ye(_e(ye({},m,S),{data:e}),{priceCalendarProps:b}))))})),t===d.OB.SMALL&&a.createElement(D.j,ye({},e_("SoftPackages",t)),a.createElement("div",null,m)),u&&"EGDSSearchFormButton"===u.__typename&&a.createElement(D.j,ye({},e_("EGDSSearchFormButton",t)),a.createElement("div",null,a.createElement(aa,{data:u}))))},a_={grow:5,minWidth:315,maxWidth:"full_width"},r_={EGDSSearchFormButton:{},EGDSSearchFormLocationsField:_e(ye({},a_),{grow:10}),EGDSSearchFormDatePickerField:_e(ye({},a_),{grow:1}),EGDSSearchFormTravelersField:{grow:3,minWidth:225,maxWidth:225},default:a_},l_=(pe(xy={},d.OB.SMALL,_e(ye({},r_),{EGDSSearchFormTravelersField:{grow:3},EGDSSearchFormButton:{grow:1,minWidth:315}})),pe(xy,d.OB.MEDIUM,_e(ye({},r_),{EGDSSearchFormButton:{grow:0,minWidth:32}})),pe(xy,d.OB.LARGE,r_),pe(xy,d.OB.EXTRA_LARGE,r_),xy),i_=[vl,ep,dl,Ci,aa,yl],o_=function(e){var t,n,r=e.element,l=e.index,i=e.defaultValidationProps,o=e.viewSize,c=e.errorState,s=e.onLocationsSelection,d=e.legsElements,u=e.updatePlaybackDates,m=e.lastSearchLatLong,p=e.searchLocationAnalytics,y=e.searchLocationContent,_=r.__typename,v=i_.find((function(e){return e.displayName===_})),S=null!==(t=(n=l_[o])[_])&&void 0!==t?t:n.default,E=ye(_e(ye({},i),{fieldError:$c(c,_)}),"EGDSSearchFormLocationsField"===_&&{originFieldError:$c(c,"".concat(r.origin.__typename,"Origin-leg").concat(l)),destinationFieldError:$c(c,"".concat(r.destination.__typename,"Destination-leg").concat(l))}),g=function(e,t){i.setFieldRefByTypename(e,t,l.toString())},f=_e(ye({originRef:"EGDSSearchFormLocationsField"===_?_e(ye({},E),{setFieldRefByTypename:g}):null,destinationRef:"EGDSSearchFormLocationsField"===_?_e(ye({},E),{setFieldRefByTypename:g}):null,lastSearchLatLong:"EGDSSearchFormLocationsField"===_?m:null,index:l},l>0?{skipReflection:!0}:{}),{onLocationsSelection:"EGDSSearchFormLocationsField"===_?s:null,updatePlaybackDates:"EGDSSearchFormDatePickerField"===_?u:null,totalLegs:d.length,input1Stid:"EGDSSearchFormDatePickerField"===_&&0!==l?l:null,searchLocationAnalytics:"EGDSSearchFormLocationsField"===_?p:null,searchLocationContent:"EGDSSearchFormLocationsField"===_?y:null,menuPosition:"EGDSSearchFormTravelersField"===_?te.P.LEFT:te.P.RIGHT});return a.createElement(D.j,ye({key:"field_".concat(_,"_").concat(l)},S),a.createElement("div",null,v&&a.createElement(v,ye({data:r},E,f))))};o_.displayName="MultiCityFormField";var c_=a.forwardRef((function(e,t){var n,r=e.leg,i=e.indexLeg,o=e.removeLegClick,c=e.addLegButtonRef,s=e.formProps,d=a.useRef(null);return a.useImperativeHandle(t,(function(){return{focus:function(){var e;null===(e=d.current)||void 0===e||e.focus()}}})),a.createElement(l.b,{margin:{block:"three"},key:"field_leg_".concat(r.uniqueKey)},a.createElement("div",null,a.createElement(l.b,{margin:{blockend:"three",blockstart:"six"}},a.createElement(D.i,{wrap:"wrap",alignItems:"center",direction:"row",space:"three"},r.heading&&"EGDSBasicLocalizedText"===r.heading.__typename&&a.createElement(D.j,null,a.createElement("div",null,a.createElement(G.E,{size:6,tabIndex:-1,domRef:d,tag:"h3","aria-live":"polite","aria-label":ia(r.heading.template,r.heading.models[0].key,(i+1).toString())},ia(r.heading.template,r.heading.models[0].key,(i+1).toString())))),"UITertiaryButton"===(null===(n=r.removeButton)||void 0===n?void 0:n.__typename)&&a.createElement(D.j,null,a.createElement("div",null,a.createElement(Q.E,{size:"medium",onClick:function(){return o(i,c)}},a.createElement("button",{type:"button"},r.removeButton.primary)))))),a.createElement(D.i,{alignItems:"start",justifyContent:"space-between",wrap:"wrap",space:"three"},r.items.map((function(e,t){return a.createElement(o_,ye({key:"multicity_leg_item_".concat(t),element:e,index:i},s))})))))}));c_.displayName="MultiCityLegItem";var s_=function(e){var t,n,r=e.beforeLegsSlot,l=e.addLeg,i=e.search,o=e.legsElements,c=e.addLegClick,s=e.removeLegClick,u=e.addLegDisabled,m=e.focusLastFlight,p=a.createRef(),y=a.createElement(a.Fragment,null,"UITertiaryButton"===(null==l?void 0:l.__typename)&&a.createElement(D.j,null,a.createElement("div",null,a.createElement(Q.E,{size:"medium",onClick:c,domRef:p},a.createElement("button",{type:"button",disabled:u},a.createElement(_.a,{name:null!==(n=null===(t=l.icon)||void 0===t?void 0:t.id)&&void 0!==n?n:""}),l.primary)))),i&&a.createElement(o_,ye({element:i,index:0},e))),v=ve(a.useState({}),2),S=v[0],E=v[1];return a.useEffect((function(){var e=o.reduce((function(e,t,n){return e["leg-heading-".concat(n)]=a.createRef(),e}),{});E(e)}),[o]),a.useEffect((function(){if(m){var e,t,n="leg-heading-".concat(o.length-1);null===(t=S[n])||void 0===t||null===(e=t.current)||void 0===e||e.focus()}}),[S,m,o.length]),a.createElement(a.Fragment,null,a.createElement(D.i,{alignContent:"start",justifyContent:"start",wrap:"wrap",space:"three"},r.map((function(t,n){return a.createElement(o_,ye({key:"multicity_before_leg_".concat(n),element:t,index:n},e))}))),o.map((function(t,n){var r="leg-heading-".concat(n);return a.createElement(c_,{key:n,ref:S[r],leg:t,indexLeg:n,removeLegClick:s,addLegButtonRef:p,formProps:e})})),a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(D.i,{justifyContent:"space-between",space:"three",direction:"column"},y)),a.createElement(d.rw,null,a.createElement(D.i,{justifyContent:"space-between",wrap:"wrap",space:"three",alignItems:"center"},y))))};s_.displayName="MultiCityFormFieldsLayout";var d_=function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"","_").concat(Math.random().toString(16).slice(2))},u_=function(e){var t,n=(0,S.KY)(),r=e.legs,l=e.search,o=e.addLeg,c=e.removeLeg,s=e.legHeading,u=e.elements,m=e.maxAllowedLegs,p=e.playback,y=e.autoOpenPlayback,_=e.stickyPlayback,v=e.getFlightSearchCriteria,E=e.searchLocationAnalytics,g=e.searchLocationContent,f=u.filter((function(e){return"EGDSSearchFormTravelersField"===e.__typename})),h=(null!==(t=(0,i.kW)().state.dates)&&void 0!==t?t:{}).start,D=r.map((function(e,t){var n,a=e.date;if(h&&/^\d{4}-\d{2}-\d{2}$/.test(h)&&t>0&&"EGDSOpenDatePickerAction"===(null===(n=r[0].date.action)||void 0===n?void 0:n.__typename)){var l=h.split("-");a=_e(ye({},r[0].date),{action:_e(ye({},r[0].date.action),{datePicker:_e(ye({},r[0].date.action.datePicker),{selectedStartDate:_e(ye({},r[0].date.action.datePicker.selectedStartDate),{day:parseInt(l[2],10),month:parseInt(l[1],10),year:parseInt(l[0],10)})})})})}return{items:[e.locations,a],heading:s,removeButton:null,uniqueKey:d_()}})),T=ve(a.useState(D),2),b=T[0],C=T[1],I=ve(a.useState(D.length),2),A=I[0],F=I[1],O=ve(a.useState(!1),2),k=O[0],G=O[1],R=ve(a.useState(!1),2),L=R[0],P=R[1],M=ve(a.useState(!y),2),N=M[0],x=M[1],B=_e(ye({},e),{beforeLegsSlot:f,legsElements:b,addLegClick:function(){var e;if(P(!0),"UITertiaryButton"===(null==o?void 0:o.__typename)&&o.analytics){var t=o.analytics,a=t.referrerId,l=t.linkName;n(a,l)}A+1===m&&G(!0),F((function(e){return e+1}));var i=_e(ye({},r[0].locations),{origin:_e(ye({},r[0].locations.origin),{value:""}),destination:_e(ye({},r[0].locations.destination),{value:""})}),d=v().primary.journeyCriterias,u=r[0].date;if("EGDSOpenDatePickerAction"===(null===(e=r[0].date.action)||void 0===e?void 0:e.__typename)){var p,y,_=null!==(y=null===(p=d[A-1])||void 0===p?void 0:p.departureDate)&&void 0!==y?y:{};u=_e(ye({},u),{action:_e(ye({},r[0].date.action),{datePicker:_e(ye({},r[0].date.action.datePicker),{selectedStartDate:ye({},r[0].date.action.datePicker.selectedStartDate,_)})})})}C((function(e){return Ee(e).concat([{items:[i,u],uniqueKey:d_(),heading:s,removeButton:c}])}))},removeLegClick:function(e,t){var a;if("UITertiaryButton"===(null==c?void 0:c.__typename)&&c.analytics){var r=c.analytics,l=r.referrerId,i=r.linkName;n(l,i)}null==t||null===(a=t.current)||void 0===a||a.focus(),k&&A-1<(null!=m?m:5)&&G(!1),F((function(e){return e-1})),C((function(t){var n=Ee(t);return n.splice(e,1),n}))},addLeg:o,search:l,addLegDisabled:k,searchLocationAnalytics:E,searchLocationContent:g,focusLastFlight:L});return a.createElement(d.LM,null,a.createElement(d.NP,null,p?a.createElement(qc,{data:p,stickyPlayback:_,display:N,onDisplayToggle:function(e){x(e)}},a.createElement(s_,_e(ye({},B),{viewSize:d.OB.SMALL}))):a.createElement(s_,_e(ye({},B),{viewSize:d.OB.SMALL}))),a.createElement(d.rw,null,a.createElement(s_,_e(ye({},B),{viewSize:d.OB.MEDIUM}))),a.createElement(d.zQ,null,a.createElement(s_,_e(ye({},B),{viewSize:d.OB.LARGE}))))},m_=function(e,t,n,a,r){var l=a&&r;return{startDateInput:e.find(ns(t)),endDateInput:n?e.find(ns(n)):void 0,softPackagesStartDateInput:a?e.find(ns(a)):void 0,softPackageEndDateInput:r?e.find(ns(r)):void 0,config:{maxNumberOfDaysSelected:0,allowSameDateSelect:!l}}},p_=(0,u.J1)(Cn(),vl.fragment,ep.fragment,dl.fragment,Ci.fragment,aa.fragment,yl.fragment,xl,qc.fragment,Py.fragment,Sc,Gy.fragment),y_=new Map,__=function(e){var t,n,r,i,o=e.onFieldChange,c=e.flightType,s=e.useFareCalendar,u=e.onSubmit,m=e.redirectToSearchResultOnSubmit,p=e.stickyPlayback,y=e.displayPlayback,_=e.onDisplayPlaybackToggle,v=e.cabinClass,S=e.directFlightsOnlySwitch,E=e.data,g=e.additionalQueryParams,f=E.errorSummary,h=E.elements,D=E.search,T=E.addLeg,C=E.removeLeg,I=E.legHeading,A=E.localDateFormat,F=E.legs,O=E.maxAllowedLegs,k=E.playback,G=E.softPackages,R=E.searchLocation,L=E.valuePropMessage,P=(0,M.Yj)().publish,B=(0,N.useLocalization)(),w=a.useRef(null),W=new URLSearchParams((0,oe.zy)().search),U=ve(a.useState(k),2),H=U[0],V=U[1],z=ve(a.useState({EGDSSearchFormLocationsField:null,EGDSSearchFormDatePickerField:null,EGDSDatePickerFieldSoftPackages:null}),2),Y=z[0],q=z[1],j={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},$=ve(a.useState(j),2),K=$[0],J=$[1],Q=K.displayErrorSummary,X=K.errorCount,Z=K.errorLinkReference,ee=a.useCallback((function(e,t,n){var a,r=Kc(e,null===(a=t.current)||void 0===a?void 0:a.id),l=n?"".concat(r,"-leg").concat(n):r;q((function(e){return _e(ye({},e),pe({},l,t))}))}),[]),te=a.useRef(!0),ne=F.length>0?F[0].locations:null,ae=ne||null,re=null!==(r=null==ae?void 0:ae.origin.value)&&void 0!==r?r:"",le=null!==(i=null==ae?void 0:ae.destination.value)&&void 0!==i?i:"",ie=ve(a.useState({origin:re,destination:le,enabled:null!=s&&s}),2),ce=ie[0],se=ie[1],de=ve(a.useState([{type:"ONE_WAY",hasRendered:!1},{type:"ROUND_TRIP",hasRendered:!1},{type:"MULTI_DESTINATION",hasRendered:!1}]),2),ue=de[0],me=de[1],Se=function(){var e=ue.map((function(e){var t=e;return e.type!==c||e.hasRendered||(t.hasRendered=!0),t}));me(e)};a.useEffect((function(){var e;te.current?(Se(),te.current=!1):((null===(e=ue.find((function(e){return e.type===c})))||void 0===e?void 0:e.hasRendered)&&"MULTI_DESTINATION"!==c||ce.enabled&&se(_e(ye({},ce),{origin:"",destination:""})),Se())}),[c]);var ge=ve(a.useState(G),2),fe=ge[0],he=ge[1],De="EGDSBasicCheckBox"===(null==fe||null===(t=fe.addHotel)||void 0===t?void 0:t.__typename)&&"CHECKED"===fe.addHotel.state,Te="EGDSBasicCheckBox"===(null==fe||null===(n=fe.addCar)||void 0===n?void 0:n.__typename)&&"CHECKED"===fe.addCar.state||De,be=fe&&a.createElement(Py,{data:fe,onProductSelect:function(e){var t=e.currentTarget,n=t.name,a=t.checked;he((function(e){var t,r;return"EGDSBasicCheckBox"===(null==e||null===(t=e.addCar)||void 0===t?void 0:t.__typename)&&null!==e.addCar.name&&n.includes(e.addCar.name)?_e(ye({},e),{addCar:_e(ye({},e.addCar),{state:a?"CHECKED":"UNCHECKED"})}):"EGDSBasicCheckBox"===(null==e||null===(r=e.addHotel)||void 0===r?void 0:r.__typename)&&null!==e.addHotel.name&&n.includes(e.addHotel.name)?_e(ye({},e),{addHotel:_e(ye({},e.addHotel),{state:a?"CHECKED":"UNCHECKED"})}):e}))},setFieldRefByTypename:ee,currentSearchFormProduct:"flights",fieldError:K.fieldsWithErrors.find((function(e){return"EGDSSearchFormDatePickerFieldSoftPackages"===e.__typename})),searchFormMessaging:L});a.useEffect((function(){he(G)}),[G]);var Ce,Ie,Ae=a.useContext(S_),Fe=h,Oe=_e(ye({},e),{flightType:c,errorState:K,defaultValidationProps:{setFieldRefByTypename:ee},fields:Fe,legs:F,onLocationsSelection:function(e){var t,n,a,r,l;(null==e||null===(t=e.data)||void 0===t?void 0:t.locationFullName)&&(null==e||null===(n=e.data)||void 0===n?void 0:n.geoType)&&y_.set(e.data.locationFullName,e.data.geoType.toUpperCase());var i,o=ca(null!==(l=null==e||null===(a=e.data)||void 0===a?void 0:a.origin)&&void 0!==l?l:e.term),c=ca(null!==(i=null===(r=e.data)||void 0===r?void 0:r.destination)&&void 0!==i?i:e.term);V((function(t){var n;if(!t)return null;var a,r=t.primary,l=t.primaryTemplate;if((null!==(a=null===(n=e.data)||void 0===n?void 0:n.index)&&void 0!==a?a:0)>0)return ye({},t);if(!l||"EGDSBasicLocalizedText"!==l.__typename)return t;var i=ia(l.text,"origin",o),s=ia(i,"destination",c);return _e(ye({},t),{primary:_e(ye({},r),{text:s})})}))},maxAllowedLegs:O,fareCalendarData:ce,search:D,softPackages:be,updatePlaybackDates:function(e,t){V((function(n){if(!n)return null;var a=ve(n.secondaries,2),r=a[0],l=a[1],i="EGDSPlainText"===r.__typename?_e(ye({},r),{text:Ma(e,r.text,t,B)}):r;return _e(ye({},n),{secondaries:[i,l]})}))},searchLocationAnalytics:null==R?void 0:R.analytics,searchLocationContent:null==R?void 0:R.content});return a.createElement(b.E,{id:null!==(Ce=E.egdsElementId)&&void 0!==Ce?Ce:"search-flight-form",name:null!==(Ie=E.egdsElementId)&&void 0!==Ie?Ie:"search-flight-form",method:"GET",action:Te&&(null==fe?void 0:fe.actionURL)?fe.actionURL:E.actionURL,ref:w,onFieldChange:function(e,t){var n;"origin_select"!==e.name&&"destination_select"!==e.name||!(null==Ae?void 0:Ae.enablePriceCalendar)||(null===(n=Ae.onLocationChange)||void 0===n||n.call(Ae,{name:e.name,value:e.value}));if(o){var a=$y(w,c),r=a.primary,l=r.travelers,i=(null==Ae?void 0:Ae.enablePriceCalendar)?{primary:_e(ye({},r),{journeyCriterias:Ae.priceCalendarInputs.journeyCriteria,travelers:l,tripType:c}),secondary:null}:a,s=Vy(i,W,{localDateFormat:A,formatDateString:B.formatDateString},y_);o(e,t,s)}if(ce.enabled)switch(e.name){case"origin_select":se(_e(ye({},ce),{origin:e.value}));break;case"destination_select":se(_e(ye({},ce),{destination:e.value}))}V((function(t){if(!t)return null;var n=By.TRAVELER_SELECTOR,a=t.secondaries,r=e.value,l=ve(a,2),i=l[0],o=l[1],c=e.name===n?_e(ye({},o),{text:r}):o;return _e(ye({},t),{secondaries:[i,c]})}))},onSubmit:function(e){J(j);var t=Array.from(e.currentTarget.elements),n="MULTI_DESTINATION"===c,a=rs(t),r=function(e,t,n){if("MULTI_DESTINATION"===e){var a=m_(t,"EGDSSingleDatePicker-Date-date_form_field-0","EGDSSingleDatePicker-Date-date_form_field-1");return{location:{origin:t.filter(ns("origin_select")),destination:t.filter(ns("destination_select")),config:{sameLocationSelected:!0}},dates:a,travelers:{totalTravelers:rs(t),config:{maxTotalTravelers:6}}}}var r=n?["EGDSDateRangePickerSoftPackages-StartDate-soft_packages_date_form_field","EGDSDateRangePickerSoftPackages-EndDate-soft_packages_date_form_field"]:[];if("ONE_WAY"===e){var l=m_.apply(void 0,[t,"EGDSSingleDatePicker-Date-date_form_field",void 0].concat(Ee(r)));return{location:{origin:t.find(ns("origin_select")),destination:t.find(ns("destination_select")),config:{sameLocationSelected:!0}},dates:l,travelers:{totalTravelers:rs(t),config:{maxTotalTravelers:6}}}}var i=m_.apply(void 0,[t,"EGDSDateRangePicker-StartDate-date_form_field","EGDSDateRangePicker-EndDate-date_form_field"].concat(Ee(r)));return{location:{origin:t.find(ns("origin_select")),destination:t.find(ns("destination_select")),config:{sameLocationSelected:!0}},dates:i,travelers:{totalTravelers:rs(t),config:{maxTotalTravelers:6}}}}(c,t,Te);r.travelers={totalTravelers:a,config:{maxTotalTravelers:6}};var l,i=function(e,t){return e?ts(t):es(t)}(n,r);if(!(0===i.length))return J({fieldsWithErrors:i,errorCount:i.length,displayErrorSummary:!0,errorLinkReference:Y[null===(l=i[0])||void 0===l?void 0:l.__typename]}),void e.preventDefault();var o=function(e,t,n){var a={primary:{journeyCriterias:[],travelers:[],tripType:t,searchPreferences:{advancedFilters:n?["NONSTOP"]:[],cabinClass:"COACH"}},secondary:null};return Array.from(e.currentTarget.elements).filter((function(e){return e.name.startsWith("EGDS")})).reduce(Ky,a)}(e,c,S),s={event:e,lineOfBusiness:x.p_.FLIGHTS,criteria:o};if(P(new x.KD("SEARCH_TOOLS_FORM_SUBMIT",s)),(u||m)&&(u&&u(e,{flightSearchCriteria:o}),m)){e.preventDefault();var d=e.currentTarget,p=d.action,y=d.elements,_=Array.from(y),v=Te?zy(_,c,S,{localDateFormat:A,formatDateString:B.formatDateString}):Vy(o,W,{localDateFormat:A,formatDateString:B.formatDateString},y_);window.location.href="".concat(p).concat(v).concat(null!=g?g:"")}},hasRequiredFieldIndicator:!0},Q&&f&&a.createElement(l.b,{margin:{block:"two"}},a.createElement("div",null,a.createElement(vl,{data:f,errorCount:X,inputErrorRef:Z}))),a.createElement(l.b,{margin:{blockstart:"six"}},a.createElement("div",{id:"FlightSearchForm_".concat(c),"data-testid":"FlightSearchForm_".concat(c)},"MULTI_DESTINATION"===c&&"EGDSSearchFormButton"===(null==D?void 0:D.__typename)?a.createElement(u_,_e(ye({},Oe),{addLeg:T,removeLeg:C,legHeading:I,search:D,legs:F,elements:h,playback:H,getFlightSearchCriteria:function(){return $y(w,c)}})):a.createElement(d.LM,null,a.createElement(d.NP,null,H?a.createElement(qc,{data:H,stickyPlayback:p,display:y,onDisplayToggle:_},a.createElement(n_,_e(ye({},Oe),{viewSize:d.OB.SMALL}))):a.createElement(n_,_e(ye({},Oe),{viewSize:d.OB.SMALL}))),a.createElement(d.rw,null,a.createElement(n_,_e(ye({},Oe),{viewSize:d.OB.MEDIUM}))),a.createElement(d.zQ,null,a.createElement(n_,_e(ye({},Oe),{viewSize:d.OB.LARGE})))))),be&&a.createElement(d.LM,null,a.createElement(d.rw,null,a.createElement(l.b,{margin:{blockstart:"three"}},a.createElement("div",null,be)))),a.createElement("input",{type:"hidden",name:v.name,value:v.value}))};__.fragment=p_,__.displayName="FlightSearchForm";var v_=(0,u.J1)(In(),__.fragment),S_=a.createContext({lobName:"flights",enablePriceCalendar:!1,priceCalendarInputs:{flightsSearchContext:{tripType:"ROUND_TRIP"},journeyCriteria:[]},onLocationChange:void 0}),E_=function(e){var t,n,r,o,c,s,u,y,_,v,g=e.inputs,f=e.skipSsr,h=e.skipQuery,D=void 0!==h&&h,T=e.batchKey,b=e.includePlayback,C=e.features,I=e.enablePriceCalendar,A=e.pageLocation,F=(0,m.R)().context,O=(0,i.kW)(),k=O.state,G=O.dispatch,R=_e(ye({},g),{context:F,includePlayback:!!b,features:C,pageLocation:A}),L=null!==(v=null===(t=g.flightSearchCriteria)||void 0===t?void 0:t.primary.tripType)&&void 0!==v?v:"ROUND_TRIP",P=(0,p.useLoggerEvents)(jp),M=(0,E.I)(v_,{context:{batchKey:T},variables:R,ssr:!f,skip:D}),N=M.data,x=M.error,B=M.loading,w=_e(ye({},e),{flightType:L}),W={origin:(null===(n=k.origin)||void 0===n?void 0:n.term)||"",destination:(null===(r=k.destination)||void 0===r?void 0:r.term)||"",departureDate:Qp(14).departureDate,flightsCabinClass:"COACH"},U=ve(a.useState((null===(c=g.flightSearchCriteria)||void 0===c||null===(o=c.primary.journeyCriterias)||void 0===o?void 0:o.length)?g.flightSearchCriteria.primary.journeyCriterias:[W]),2),H=U[0],V=U[1];a.useEffect((function(){var e,t,n,a,r,l=null==N||null===(e=N.searchForm)||void 0===e?void 0:e.flight,i=null==l||null===(r=l.legs)||void 0===r||null===(a=r[0])||void 0===a||null===(n=a.locations)||void 0===n||null===(t=n.origin)||void 0===t?void 0:t.value;V((function(e){var t,n,a,r,l,o;return[_e(ye({},e[0]),{origin:(null===(t=k.origin)||void 0===t?void 0:t.term)||(null===(n=e[0])||void 0===n?void 0:n.origin)||i||"",destination:(null===(a=k.destination)||void 0===a?void 0:a.term)||(null===(r=e[0])||void 0===r?void 0:r.destination)||"",departureDate:(null===(l=e[0])||void 0===l?void 0:l.departureDate)||W.departureDate,flightsCabinClass:(null===(o=e[0])||void 0===o?void 0:o.flightsCabinClass)||"COACH"})]}))}),[null===(s=k.origin)||void 0===s?void 0:s.term,null===(u=k.destination)||void 0===u?void 0:u.term]);var z="MULTI_DESTINATION"===L,Y=a.useCallback((function(e){z||("origin_select"===e.name?G({type:"UPDATE_ORIGIN",location:{term:e.value,data:ye({},yc)}}):"destination_select"===e.name&&G({type:"UPDATE_DESTINATION",location:{term:e.value,data:ye({},yc)}}),V((function(t){return[ye({},t[0],"origin_select"===e.name?{origin:e.value}:{},"destination_select"===e.name?{destination:e.value}:{})]})))}),[G,z]),q=a.useMemo((function(){var e,t;return{lobName:"flights",enablePriceCalendar:null!=I&&I,priceCalendarInputs:{flightsSearchContext:{tripType:(null===(t=g.flightSearchCriteria)||void 0===t||null===(e=t.primary)||void 0===e?void 0:e.tripType)||"ROUND_TRIP"},journeyCriteria:H},onLocationChange:Y}}),[I,null===(_=g.flightSearchCriteria)||void 0===_||null===(y=_.primary)||void 0===y?void 0:y.tripType,H,Y,z]);return B?a.createElement(l.b,{padding:{blockstart:"six"}},a.createElement("div",null,a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Zn,{rows:[{type:"primary"},{type:"primary"},{type:"primary"}]})),a.createElement(d.rw,null,a.createElement(Zn,{rows:[{type:"primary"}]}))))):x||"FlightSearchForm"!==(null==N?void 0:N.searchForm.flight.__typename)?(P.SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_QUERY_FAILURE.log({name:null==x?void 0:x.name,error:new Error(null==x?void 0:x.message)}),a.createElement(Wn,null,a.createElement(S.ee,ye({},$p.SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_FALLBACK_IMPRESSION),a.createElement(__,_e(ye({},w),{data:gy(L)}))))):a.createElement(S.ee,ye({},$p.SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_IMPRESSION),a.createElement(S_.Provider,{value:q},a.createElement(__,_e(ye({},w),{data:N.searchForm.flight}))))};E_.displayName="sharedui-FlightsSearchForm";var g_=function(e){var t,n,r,l,o,c=(0,oe.zy)().search,s=e.inputs,u=e.onFlightTypeSelect,m=e.enableReflection,p=e.sticky,y=e.autoOpenPlayback,_=e.includePlayback,v=e.useFareCalendar,S=e.enablePriceCalendar,E=null!==(r=new URLSearchParams(c).get("flightType"))&&void 0!==r?r:"",g=ve(a.useState(null!==(o=null!==(l=Pn[{ROUND_TRIP:"ROUND_TRIP",ONE_WAY:"ONE_WAY",MULTI_CITY:"MULTI_DESTINATION"}[E]])&&void 0!==l?l:null===(t=s.flightSearchCriteria)||void 0===t?void 0:t.primary.tripType)&&void 0!==o?o:"ROUND_TRIP"),2),f=g[0],h=g[1],D=ve(a.useState({name:"EGDS-defaultCabinClass",value:"ANY"}),2),T=D[0],b=D[1],C=ve(a.useState(!1),2),I=C[0],A=C[1],F=ve(a.useState(!y),2),O=F[0],k=F[1],G=function(e){k(e)};a.useEffect((function(){var e;(null===(e=s.flightSearchCriteria)||void 0===e?void 0:e.primary.tripType)&&h(s.flightSearchCriteria.primary.tripType)}),[null===(n=s.flightSearchCriteria)||void 0===n?void 0:n.primary.tripType]);var R=a.useCallback((function(e){h(e),null==u||u(e)}),[h,u]),L=a.useCallback((function(e){b(e)}),[b]),P=a.useCallback((function(e){A(e)}),[A]),M=function(t){var n=function(t){var n,r;return a.createElement(a.Fragment,null,(!t||!_)&&a.createElement(Jp,_e(ye({},e),{inputs:_e(ye({},s),{flightSearchCriteria:s.flightSearchCriteria?{primary:{journeyCriterias:[],travelers:[],tripType:s.flightSearchCriteria.primary.tripType}}:null}),onFlightTypeSelect:R,flightTypeOverride:E,onCabinClassSelect:L,onDirectFlightsSelect:P,directFlightsOnlySwitch:I})),a.createElement(E_,_e(ye({},e),{inputs:_e(ye({},s),{flightSearchCriteria:_e(ye({},s.flightSearchCriteria),{primary:_e(ye({},null!==(r=null===(n=s.flightSearchCriteria)||void 0===n?void 0:n.primary)&&void 0!==r?r:{journeyCriterias:[],travelers:[]}),{tripType:f})})}),displayPlayback:O,onDisplayPlaybackToggle:G,cabinClass:T,useFareCalendar:v,enablePriceCalendar:S,directFlightsOnlySwitch:I})))}(O&&t===d.OB.SMALL);return m?a.createElement(i.tb,null,a.createElement("div",{"data-stid":"search-form-with-reflection"},n)):n};return a.createElement("div",{"data-stid":"search-form-sticky"},a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement("div",null,M(d.OB.SMALL))),a.createElement(d.rw,null,a.createElement(a.Fragment,null,p?a.createElement(Gn,null,M(d.OB.MEDIUM)):a.createElement("div",null,M(d.OB.MEDIUM))))))},f_={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to the error",goToFirstErrorLinkText:"Go to the first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked on search form",referrerId:"Web.Hotels.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed on search form",referrerId:"Web.Hotels.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"ONE",template:"To continue, please correct the error below.",__typename:"CardinalTemplate"},{category:"TWO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"FEW",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"MANY",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"OTHER",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},h_={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_form_field",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"},{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},closeAnalytics:{linkName:"Location selection",referrerId:"Web.Hotels.Location.Open",__typename:"ClientSideAnalytics"},action:{accessibility:"Results available.",analytics:{linkName:"Location selection",referrerId:"Web.Hotels.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!0,isDestination:!0,lineOfBusiness:"HOTELS",maxNumberOfResults:8,packageType:null,personalize:!0,regionType:2047,typeaheadFeatures:"ta_hierarchy|postal_code|google|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by destination, accommodations, or landmark",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},multiLocations:null,changeAnalytics:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},D_=new Date,T_=new Date(D_.getFullYear(),D_.getMonth(),D_.getDate()+14),b_=new Date(T_.getFullYear(),T_.getMonth(),T_.getDate()+1),C_=T_.getMonth()+1,I_=b_.getMonth()+1,A_={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Dates",placeholder:"Dates",errorMessage:"Check-out date must be after check-in date",validations:[{errorMessage:"Check out date must be within 29 days of check in date",__typename:"EGDSMaxLengthInputValidation"},{__typename:"EGDSRequiredInputValidation"}],action:{accessibility:null,analytics:{linkName:"Calendar selection",referrerId:"Web.Hotels.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:{__typename:"EGDSDatePickerFlexibilityContent",calendarContent:{__typename:"EGDSDatePickerFlexibilityCalendarContent",flexibleDateOptions:[{accessibility:"Exact dates",disabled:!1,name:null,primary:"Exact dates",selected:!0,selectedText:null,value:"0_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.0_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 1 day",disabled:!1,name:null,primary:"± 1 day",selected:!1,selectedText:null,value:"1_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.1_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 2 days",disabled:!1,name:null,primary:"± 2 days",selected:!1,selectedText:null,value:"2_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.2_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 3 days",disabled:!1,name:null,primary:"± 3 days",selected:!1,selectedText:null,value:"3_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.3_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 7 days",disabled:!1,name:null,primary:"± 7 days",selected:!1,selectedText:null,value:"7_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.7_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"}],formElementId:"date_form_nested_flexible_field",title:null},contentSelector:{__typename:"EGDSBasicTabs",egdsElementId:"date_form_nested_flexible_tabs",selectedTabId:"date_form_nested_flexible_tab_calendar",tabs:[{__typename:"EGDSBasicTab",accessibility:"Calendar",clickAnalytics:{linkName:"Calendar tab select",referrerId:"Web.Hotels.Calendar.Select",__typename:"ClientSideAnalytics"},label:"Calendar",tabId:"date_form_nested_flexible_tab_calendar"},{__typename:"EGDSBasicTab",accessibility:"Flexible dates",clickAnalytics:{linkName:"Flexible dates tab select",referrerId:"Web.Hotels.FlexDateTab.Select",__typename:"ClientSideAnalytics"},label:"Flexible dates",tabId:"date_form_nested_flexible_tab_dates"}]},flexibleDatesContent:{__typename:"EGDSDatePickerFlexibilityDatesContent",nightsSelection:{heading:"How long do you want to stay?",includeWeekend:{__typename:"EGDSBasicCheckBox",egdsElementId:"date_form_flexible_checkbox",description:null,enabled:!0,checkedAnalytics:{linkName:"Flexible dates include weekend select",referrerId:"Web.Hotels.FlexDateForm.Weekend.Select",__typename:"ClientSideAnalytics"},uncheckedAnalytics:{linkName:"Flexible dates does not include weekend select",referrerId:"Web.Hotels.FlexDateForm.Weekend.Deselect",__typename:"ClientSideAnalytics"},label:{text:"Must include weekend",__typename:"EGDSPlainText"},name:null,required:!1,state:"CHECKED"},options:[{__typename:"EGDSBasicPill",accessibility:"1 night stay",disabled:!1,name:"date_form_flexible_nights_pill_1",primary:"1 night",selected:!1,selectedText:null,value:"1_DAY",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.1_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null},{__typename:"EGDSBasicPill",accessibility:"2 to 3 night stay",disabled:!1,name:"date_form_flexible_nights_pill_2",primary:"2-3 nights",selected:!0,selectedText:null,value:"2_DAY_LOWER,3_DAY_UPPER",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.2_DAY_LOWER,3_DAY_UPPER",__typename:"ClientSideAnalytics"},deselectAnalytics:null},{__typename:"EGDSBasicPill",accessibility:"4 to 5 night stay",disabled:!1,name:"date_form_flexible_nights_pill_3",primary:"4-5 nights",selected:!1,selectedText:null,value:"4_DAY_LOWER,5_DAY_UPPER",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.4_DAY_LOWER,5_DAY_UPPER",__typename:"ClientSideAnalytics"},deselectAnalytics:null},{__typename:"EGDSBasicPill",accessibility:"6 to 7 night stay",disabled:!1,name:"date_form_flexible_nights_pill_4",primary:"6-7 nights",selected:!1,selectedText:null,value:"6_DAY_LOWER,7_DAY_UPPER",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.6_DAY_LOWER,7_DAY_UPPER",__typename:"ClientSideAnalytics"},deselectAnalytics:null}],__typename:"EGDSDatePickerFlexibleNights"},monthsSelection:{heading:"When do you want to travel?",subHeading:"You can select more than one month.",options:{__typename:"EGDSToggleButtonGroup",options:[{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"August",subText:"2024",name:"date_form_flexible_toggle_button_Aug_2024-08-01_2024-08-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.8.1",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.8.1",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"September",subText:"2024",name:"date_form_flexible_toggle_button_Sep_2024-09-01_2024-09-30",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.9.2",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.9.2",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"October",subText:"2024",name:"date_form_flexible_toggle_button_Oct_2024-10-01_2024-10-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.10.3",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.10.3",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"November",subText:"2024",name:"date_form_flexible_toggle_button_Nov_2024-11-01_2024-11-30",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.11.4",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.11.4",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"December",subText:"2024",name:"date_form_flexible_toggle_button_Dec_2024-12-01_2024-12-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.12.5",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.12.5",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"January",subText:"2025",name:"date_form_flexible_toggle_button_Jan_2025-01-01_2025-01-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.1.6",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.1.6",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1}]},__typename:"EGDSDatePickerFlexibleMonths"}},flexibilityLabel:{templates:[{template:"${nightsSelected} in ${monthSelected}",category:"ZERO",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}",category:"ONE",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}",category:"TWO",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}, ${fourthMonthSelected}",category:"FEW",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}, ${fourthMonthSelected}...",category:"MANY",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}, ${fourthMonthSelected}...",category:"OTHER",__typename:"CardinalTemplate"}],models:[{key:"nightsSelected",__typename:"TemplateModel"},{key:"monthSelected",__typename:"TemplateModel"},{key:"secondMonthSelected",__typename:"TemplateModel"},{key:"thirdMonthSelected",__typename:"TemplateModel"},{key:"fourthMonthSelected",__typename:"TemplateModel"},{key:"fifthMonthSelected",__typename:"TemplateModel"},{key:"sixthMonthSelected",__typename:"TemplateModel"}],__typename:"EGDSCardinalLocalizedText"}},nextButtonAnalytics:null,previousButtonAnalytics:null,buttonText:"Done",clearButtonText:"Clear dates",firstDayOfWeek:"SUN",maxNumberOfDaysSelected:29,sameDaySelectionAllowed:!1,selectedStartDate:{day:T_.getDate(),month:C_,year:T_.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check-in",selectedEndDate:{day:b_.getDate(),month:I_,year:b_.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check-out",validDaysLowerBoundInclusive:{day:D_.getDate(),month:D_.getMonth(),year:D_.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:D_.getDate(),month:D_.getMonth()+4,year:D_.getFullYear()+1,__typename:"Date"},submitButtonAnalytics:{__typename:"ClientSideAnalytics",referrerId:"date picker submit",linkName:"date.picker.submit"},startDateButtonAnalytics:{__typename:"ClientSideAnalytics",linkName:"date picker start date",referrerId:"date.picker.start.date"},endDateButtonAnalytics:{__typename:"ClientSideAnalytics",linkName:"date picker end date",referrerId:"date.picker.end.date"},showClearDatesButton:!1,buttonTextTemplate:null,clearDatesButtonAnalytics:null,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},F_={__typename:"EGDSSearchFormTravelersField",readOnly:!1,action:{analytics:{linkName:"Guests selection",referrerId:"Web.Hotels.Traveler.GuestPicker.Open",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:"traveler_selector_add_room",primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:"traveler_selector_close_button",primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"close",token:"icon__close",title:"",__typename:"Icon"},analytics:{linkName:"Travelers results not updated",referrerId:"Web.Hotels.Traveler.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"traveler_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers results updated",referrerId:"Web.Hotels.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},maxRoomCount:8,rooms:[{label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"Adult traveler removed",referrerId:"Web.Hotels.Traveler.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Adult traveler added",referrerId:"Web.Hotels.Traveler.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Decrease the number of adults in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},increaseText:"Increase the number of adults",increaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Increase the number of adults in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:14,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Child traveler removed",referrerId:"Web.Hotels.Traveler.Remove.Child",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Child traveler added",referrerId:"Web.Hotels.Traveler.Add.Child",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Decrease the number of children in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},increaseText:"Increase the number of children",increaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Increase the number of children in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},egdsElementId:"traveler_selector_children_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:6,min:0,step:1,subLabel:"Ages 0 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{changeAnalytics:null,label:"Select age",value:"",egdsElementId:"children_age_option",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"Under 1",value:"0",egdsElementId:"children_age_option_0",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"1",value:"1",egdsElementId:"children_age_option_1",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"2",value:"2",egdsElementId:"children_age_option_2",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"3",value:"3",egdsElementId:"children_age_option_3",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"4",value:"4",egdsElementId:"children_age_option_4",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"5",value:"5",egdsElementId:"children_age_option_5",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"6",value:"6",egdsElementId:"children_age_option_6",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"7",value:"7",egdsElementId:"children_age_option_7",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"8",value:"8",egdsElementId:"children_age_option_8",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"9",value:"9",egdsElementId:"children_age_option_9",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"10",value:"10",egdsElementId:"children_age_option_10",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"11",value:"11",egdsElementId:"children_age_option_11",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"12",value:"12",egdsElementId:"children_age_option_12",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"13",value:"13",egdsElementId:"children_age_option_13",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"14",value:"14",egdsElementId:"children_age_option_14",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"15",value:"15",egdsElementId:"children_age_option_15",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"16",value:"16",egdsElementId:"children_age_option_16",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"17",value:"17",egdsElementId:"children_age_option_17",__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_children_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infants:null,removeRoomButton:{egdsElementId:"traveler_selector_remove_room",primary:"Remove room",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},removeRoomAnnouncement:"Room removed",__typename:"EGDSTravelerSelectorRoom"}],infantSeatSelection:null,title:"Travelers",validations:[{errorMessage:"We allow up to 20 travelers per booking.",maxCount:20,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 20 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed on travelers",referrerId:"Web.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:"Go to the error",goToFirstErrorLinkText:"Go to the first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked on travelers",referrerId:"Web.Hotels.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed on travelers",referrerId:"Web.Hotels.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"ONE",template:"To continue, please correct the error below.",__typename:"CardinalTemplate"},{category:"TWO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"FEW",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"MANY",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"OTHER",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSRoomsTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"ONE",template:"${roomCount} room",__typename:"CardinalTemplate"},{category:"TWO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"FEW",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"MANY",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"OTHER",template:"${roomCount} rooms",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travelers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"}},O_={egdsElementId:"submit_button",primary:"Search",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Hotels.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},k_=function(e){var t,n=e.data,r=e.children;return a.createElement(S.ee,{referrerId:n.referrerId,linkName:null!==(t=n.linkName)&&void 0!==t?t:n.referrerId,intersectionOptions:{threshold:.5}},r)};k_.displayName="ClientSideImpressionEventAnalytics",k_.fragment=Up;var G_=function(e){return e.DESTINATION="destination_form_field",e.TRAVEL_DATES="EGDSDateRangePicker",e.TRAVEL_DATES_FLEXIBLE="EGDSDateRangePicker-Flexible",e.TRAVELER_ROOM_SELECTOR="EGDSRoomsTravelerSelector",e.TRAVELER_BASIC_SELECTOR="EGDSBasicTravelerSelector",e}(G_||{}),R_=function(e){return e.SORT="sort",e.HOTEL_NAME="hotelName",e.REWARDS="rewards",e.STAR="star",e.GUEST_RATING="guestRating",e.CLEANING_AND_SAFETY="cleaningAndSafetyPractices",e.LODGING="lodging",e.MEAL_PLAN="mealPlan",e.AMENITIES="amenities",e.TRAVELER_TYPE="travelerType",e.PAYMENT_TYPE="paymentType",e.DEALS="deals",e.PROPERTY_STYLE="propertyStyle",e.BEDROOM_FILTER="bedroomFilter",e.NEIGHBORHOOD="neighborhood",e.STAY_TYPE="stayType",e.ACCESSIBILITY="accessibility",e.POI="poi",e.MIN_BEDROOMS="bedroom_count_gt",e.MIN_BATHROOMS="us_bathroom_count_gt",e.PROPERTY_TYPE="property_type_group",e.LOCATION="location_group",e.ACCESSIBILITY_FEATURES="accessibility_features_group",e.BOOKING_OPTIONS="booking_options_group",e.DISCOUNTS_GROUP="discounts_group",e.AMENITIES_FACILITIES="amenities_facilities_group",e.FREE_CANCELLATION_GROUP="free_cancellation_group",e.HOUSE_RULES="house_rules_group",e.NEARBY_ACTIVITIES="nearby_activities_group",e.NEIGHBORHOOD_GROUP="neighborhood_group",e.PREMIER_HOST="premier_host_group",e.PROPERTIES_GOOD="properties_good_for_group",e.PROPERTY_REVIEWS="property_reviews_group",e.ROOMS_SPACES="rooms_spaces_group",e.SAFETY="safety_group",e.VIRTUAL_TOUR_GROUP="virtual_tour_group",e.PRICING_GROUP="pricing_group",e.PROPERTY_NAME="propertyName",e.AVAILABLE_FILTER="availableFilter",e.AGENCY_BUSINESS_MODELS="agencyBusinessModels",e.COMMISSION_TIERS="commissionTiers",e.USE_REWARDS="useRewards",e.BED_TYPE_GROUP="bed_type_group",e.STAY_OPTIONS_GROUP="stay_options_group",e.HOTEL_BRAND="hotel_brand",e.MULTI_NEIGHBORHOOD_GROUP="multi_neighborhood_group",e.SPECIAL_DISCOUNTS_GROUP="special_discounts_group",e.HIGHLY_RATED_FOR_GROUP="highly_rated_for_group",e.AI_SEARCH_QUERY="ai_search_query",e.AVAILABILITY_GROUP="availableFilter",e.EXPEDIA_REWARDS_GROUP="expedia_rewards_group",e.AVAILABILITY_GROUP_VRBO="availability_group",e}(R_||{}),L_=function(e){return e.PRICE="price",e.NIGHTLY_PRICE="nightly_price",e.TOTAL_PRICE="total_price",e}(L_||{}),P_=function(e){var t=ve(e.split("-"),3),n=t[0],a=t[1],r=t[2];return{year:parseInt(n,10),month:parseInt(a,10),day:parseInt(r,10)}},M_=function(e){var t=ve(e.split("/"),3),n=t[0],a=t[1],r=t[2];return"".concat(r,"-").concat(n,"-").concat(a)},N_=function(e){var t=e.queryParams,n=e.paramsToExclude,a=e.isPartnerPointsToggleEnabled;return function(e,t){return e.some((function(e){return e.id===t.id}))?e:Ee(e).concat([t])}(Object.values(R_).reduce((function(e,r){!a&&t.has("useRewards")&&t.delete("useRewards");var l=t.getAll(r);if(l.length&&""!==l[0]){var i=l.map((function(e){return(n.includes(r)?[e]:e.split(",")).map((function(e){return a&&"useRewards"===r?{id:r,value:"true"===e?"SHOP_WITH_POINTS":"SHOP_WITHOUT_POINTS"}:{id:r,value:e}}))}));return Ee(e).concat(Ee(i))}return Ee(e)}),[]).flat(),{id:"sort",value:"RECOMMENDED"})},x_=function(e){var t=function(e){var t=e.getAll("flexibility");return 0===t.length?null:t.reduce((function(e,t){var n=t.split("_");if(n.length>1){var a=parseInt(n[0],10),r=Ln[n[1].toUpperCase()],l=3===n.length?{bound:Rn[n[2].toUpperCase()]}:{};a&&r&&e.push(ye({length:a,unit:r},l))}return e}),[])}(e),n=function(e){return e.getAll("searchRange").reduce((function(e,t){var n=t.split("_");return 2===n.length&&e.push({start:P_(n[0]),end:P_(n[1])}),e}),[])}(e),a=function(e){return e.getAll("flexibleSearchRequirement").filter((function(e){return e}))}(e),r=ye({},(null==t?void 0:t.length)&&{flexibility:t},(null==n?void 0:n.length)&&{searchRange:n},(null==a?void 0:a.length)&&{flexibleSearchRequirement:a});return Object.getOwnPropertyNames(r).length?r:null},B_=[{URL_PARAM_ID:"packageRates",QUERY_BOOLEAN_ID:"showPackageRates"},{URL_PARAM_ID:"vacationRentalsOnly",QUERY_BOOLEAN_ID:"showVacationRentalsOnly"},{URL_PARAM_ID:"dateSelectedByUser",QUERY_BOOLEAN_ID:"isUserSelectedDates"}],w_=function(e,t){var n,a,r,l,i,o,c,s,d=function(e){var t=e.destination,n=e.regionId,a=e.latLong,r=e.selected,l=e.mapBounds,i=ve((null==a?void 0:a.split(",").map((function(e){return parseFloat(e)})))||[null,null],2),o=i[0],c=i[1];return ye({regionName:t?decodeURIComponent(t):null,regionId:n,coordinates:o&&c?{latitude:o,longitude:c}:null,mapBounds:l},r&&{pinnedPropertyId:r})}({destination:e.get("destination"),regionId:"null"===e.get("regionId")?null:e.get("regionId"),latLong:e.get("latLong"),selected:e.get("selected"),mapBounds:(a=e.getAll("mapBounds"),r=a.map((function(e){return e.split(",")})).filter((function(e){var t=ve(e,2),n=t[0],a=t[1];return""!==n&&""!==a})).map((function(e){var t=ve(e,2),n=t[0],a=t[1];return{latitude:Number(n),longitude:Number(a)}})),2===r.length?r:[])}),u=function(e){var t=e.startDate,n=e.endDate;if(!t||!n)return null;var a=/^\d{4}-\d{2}-\d{2}$/,r=/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4}$/,l=a.test(t)||r.test(t),i=a.test(n)||r.test(n);if(!l||!i)return null;var o=a.test(t)?t:M_(t),c=a.test(n)?n:M_(n);return{checkInDate:P_(o),checkOutDate:P_(c)}}({startDate:e.get("startDate"),endDate:e.get("endDate")}),m=(l={adults:e.get("adults"),children:e.get("children")},i=l.adults,o=l.children,c=(null==i?void 0:i.split(",").map((function(e){return parseInt(e,10)})))||[],s=(null==o?void 0:o.split(","))||[],c.map((function(e,t){var n=t+1;return{adults:e,children:s.filter((function(e){return e.startsWith(n.toString())})).map((function(e){return{age:parseInt(e.split("_")[1],10)}}))}})).filter((function(e){return!Number.isNaN(e.adults)}))),p=function(e){var t=e.queryParams,n=[];return Object.values(L_).forEach((function(e){var a,r,l=t.getAll(e),i=(1===l.length?l[0].split(","):l).filter((function(e){return 0!==e.length})).map(Number).filter((function(e){return!Number.isNaN(e)}));i.length>1&&n.push({id:e,min:(a=Math).min.apply(a,Ee(i)),max:(r=Math).max.apply(r,Ee(i))})})),n}({queryParams:e}),y=N_({queryParams:e,paramsToExclude:["hotelName","poi"],isPartnerPointsToggleEnabled:t}),_=x_(e),v=_?{flexSearchCriteria:_}:{},S=function(e){return B_.flatMap((function(t){return"true"===e.get(t.URL_PARAM_ID)?[{id:t.QUERY_BOOLEAN_ID,value:!0}]:[]}))}(e);return{propertySearchCriteriaInput:{primary:ye({destination:d,rooms:m,dateRange:(null==_?void 0:_.searchRange)&&0!==(null==_||null===(n=_.searchRange)||void 0===n?void 0:n.length)?null:u},v),secondary:{ranges:p,selections:y,booleans:S}}}},W_=(0,u.J1)(An()),U_=(0,u.J1)(Fn(),W_),H_=[Vc,dl,Ci,aa,Py],V_=(0,u.J1)(On(),vl.fragment,Vc.fragment,dl.fragment,Ci.fragment,aa.fragment,qc.fragment,Py.fragment,U_,Sc,ei.fragment,Gy.fragment,k_.fragment),z_=["AIRPORT","UNKNOWN","POINT_OF_INTEREST"],Y_=function(e){var t,n,r,o,c,s=e.data,u=e.onOpenLocationField,m=e.onFieldChange,p=e.onSubmit,y=e.onTogglePlayback,_=e.autoOpenCalendar,v=e.autoOpenPlayback,E=e.sticky,g=e.stickyPlayback,h=e.skipQuery,T=e.autoSubmitOnFieldChange,C=e.redirectToSearchResultOnSubmit,I=e.additionalQueryParams,A=e.dateFieldInitialFocus,F=e.layout,O=e.includeFlexibleCalendarContent,k=void 0!==O&&O,G=e.includeFlexibleDatesContent,R=void 0!==G&&G,L=e.autoSubmitOnFieldChangeConfig,P=e.lastSearchLatLong,B=e.updateLatLongOnSelection,w=e.regionId,W=e.handleOnFlexibleTabSelection,U=e.onOpenDatesField,H=(0,N.useLocalization)(),V=ve(a.useState({EGDSSearchFormLocationField:null,EGDSSearchFormLocationFieldOrigin:null,EGDSSearchFormDatePickerField:null}),2),z=V[0],Y=V[1],q={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},j=a.useRef(null),$=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL,K=ve(a.useState(ye({},q)),2),J=K[0],Q=K[1],X=s.egdsElementId,Z=s.elements,ee=s.search,te=s.actionURL,ne=s.errorSummary,ae=s.playback,re=s.softPackages,le=s.adaptExSuccessEvent,ie=s.searchLocation,oe=s.hidePlayback,ce=s.priceInsightsDailyConfig,se=s.groupStaysLink,de=s.valuePropMessage,ue=s.searchFormAnalytics,me=ve(a.useState(ae),2),Se=me[0],ge=me[1],fe=ve(a.useState(re),2),he=fe[0],De=fe[1],Te=Z.find((function(e){return"EGDSSearchFormLocationField"===e.__typename})),be="EGDSSearchFormLocationField"===(null==Te?void 0:Te.__typename)?Te.regionId:"",Ce=w&&""!==w?w:be,Ie=z_.includes(null!==(o=null==Te?void 0:Te.regionType)&&void 0!==o?o:"UNKNOWN")?null:Ce,Ae=ve(a.useState(Ie),2),Fe=Ae[0],Oe=Ae[1],ke=ve(a.useState(!(oe||v)),2),Ge=ke[0],Re=ke[1],Le={dailyPriceDebounce:null!==(c=null==ce?void 0:ce.debounceRate)&&void 0!==c?c:200,dailyPriceNumberOfMonthsToQuery:null==ce?void 0:ce.monthsToQuery},Pe=function(){null==U||U()},Me=null!=X?X:"search-lodging-form",Ne=Ee(Z).concat([he,ee]).filter((function(e){return null!=e})),xe=(0,S.KY)(),Be=(0,S._q)().track,we=(0,M.Yj)().publish;a.useEffect((function(){ae&&!h&&ge(ae)}),[ae,h]);(0,M._H)("SEARCH_FORM_NEXT_PAGE",x.xy,{onSuccess:function(){var e;(null==le?void 0:le.datePrefill)&&Be(S.p3.EVENT,{data:(e=[le.datePrefill],e.map((function(e){return{messageContent:JSON.parse(e.messageContent),schemaName:e.schemaName}})))})}}),a.useEffect((function(){var e,t;A&&(null===(t=z.EGDSSearchFormDatePickerField)||void 0===t||null===(e=t.current)||void 0===e||e.focus())}),[z.EGDSSearchFormDatePickerField]);var We,Ue=a.useCallback((function(e,t){var n,a=Kc(e,null===(n=t.current)||void 0===n?void 0:n.id);Y((function(e){return _e(ye({},e),pe({},a,t))}))}),[]),He=Z.find((function(e){return"EGDSSearchFormDatePickerField"===e.__typename})),Ve="EGDSSearchFormDatePickerField"===(null==He?void 0:He.__typename)&&"EGDSOpenDatePickerAction"===(null===(t=He.action)||void 0===t?void 0:t.__typename)&&"EGDSDateRangePicker"===He.action.datePicker.__typename&&null!==(We=He.action.datePicker.maxNumberOfDaysSelected)&&void 0!==We?We:0,ze=function(){u&&u()},Ye="EGDSBasicCheckBox"===(null==he||null===(n=he.addFlight)||void 0===n?void 0:n.__typename)&&"CHECKED"===he.addFlight.state,qe="EGDSBasicCheckBox"===(null==he||null===(r=he.addCar)||void 0===r?void 0:r.__typename)&&"CHECKED"===he.addCar.state,je=a.useCallback((function(e){var t={location:_e(ye({},Ye?{origin:e.find(ns("origin_select"))}:null),{destination:e.find(ns("destination_form_field"))}),dates:{startDateInput:e.find(ns("EGDSDateRangePicker-StartDate-date_form_field")),endDateInput:e.find(ns("EGDSDateRangePicker-EndDate-date_form_field")),config:{maxNumberOfDaysSelected:Ve}}},n=es(t,Ye),a=n.length;return{fieldsWithErrors:n,errorCount:a,isFormValid:0===a}}),[Ve,Ye]),$e=J.displayErrorSummary,Ke=J.errorCount,Je=J.errorLinkReference,Qe=ne&&$e,Xe=function(e){var t=e.currentTarget,n=t.name,a=t.checked;De((function(e){var t,r;return"EGDSBasicCheckBox"===(null==e||null===(t=e.addCar)||void 0===t?void 0:t.__typename)&&null!==e.addCar.name&&n.includes(e.addCar.name)?_e(ye({},e),{addCar:_e(ye({},e.addCar),{state:a?"CHECKED":"UNCHECKED"})}):"EGDSBasicCheckBox"===(null==e||null===(r=e.addFlight)||void 0===r?void 0:r.__typename)&&null!==e.addFlight.name&&n.includes(e.addFlight.name)?_e(ye({},e),{addFlight:_e(ye({},e.addFlight),{state:a?"CHECKED":"UNCHECKED"})}):e}))},Ze=function(e,t,n){var a={__typename:"EGDSPlainText",accessibility:null,text:""},r=Z.find((function(e){return"EGDSSearchFormTravelersField"===e.__typename})),l=n?function(e,t){var n;if("EGDSOpenTravelerSelectorAction"===(null==e||null===(n=e.action)||void 0===n?void 0:n.__typename)){var a,r,l,o,c,s,d=(0,i.ur)(t),u=d.totalTravelerCount,m=d.roomCount;if("EGDSRoomsTravelerSelector"===(null==e||null===(r=e.action)||void 0===r||null===(a=r.travelerSelector)||void 0===a?void 0:a.__typename)&&"EGDSCompositeLocalizedText"===(null==e||null===(l=e.labelTemplate)||void 0===l?void 0:l.__typename))return si(null==e?void 0:e.labelTemplate,m,u);if("EGDSBasicTravelerSelector"===(null==e||null===(c=e.action)||void 0===c||null===(o=c.travelerSelector)||void 0===o?void 0:o.__typename)&&"EGDSCardinalLocalizedText"===(null==e||null===(s=e.labelTemplate)||void 0===s?void 0:s.__typename))return ci(null==e?void 0:e.labelTemplate,u)}return null}(r,n):"",o="EGDSPlainText"===e[0].__typename?e[0].text:"";return[_e(ye({},a),{text:(null==t?void 0:t.start)&&(null==t?void 0:t.end)?Pa("".concat(new Date(t.start.year,t.start.month-1,t.start.day).toISOString().split("T")[0]," - ").concat(new Date(t.end.year,t.end.month-1,t.end.day).toISOString().split("T")[0]),H):o}),_e(ye({},a),{text:null!=l?l:""})]},et=ve(a.useState(null!=P?P:""),2),tt=et[0],nt=et[1],at=function(){Oe("")},rt=function(e){var t,n,a,r;B&&nt((null===(n=e.data)||void 0===n||null===(t=n.coordinates)||void 0===t?void 0:t.latitude)&&(null===(r=e.data)||void 0===r||null===(a=r.coordinates)||void 0===a?void 0:a.longitude)?"".concat(e.data.coordinates.latitude,",").concat(e.data.coordinates.longitude):"");!function(e){var t,n,a,r,l="AIRPORT"===(null===(t=e.data)||void 0===t?void 0:t.geoType)||"HOTEL"===(null===(n=e.data)||void 0===n?void 0:n.geoType)||"UNKNOWN"===(null===(a=e.data)||void 0===a?void 0:a.geoType);Oe((null===(r=e.data)||void 0===r?void 0:r.regionId)&&!l?e.data.regionId:"")}(e),ge((function(t){var n;if(!t)return null;var a=t.primary,r=t.secondaries,l=_e(ye({},a),{text:(null===(n=e.data)||void 0===n?void 0:n.primaryText)||e.term}),i=e.data,o=i.travelers,c=i.dateRange;if(o||c){var s=function(e){var t;if(e)return"rooms"in e?{rooms:e.rooms.map((function(e){var t;return{adults:e.adults,childrenAges:null!==(t=e.childrenAges)&&void 0!==t?t:[],pets:!!e.pets}}))}:{adults:e.adults,childrenAges:null!==(t=e.childrenAges)&&void 0!==t?t:[],pets:!!e.pets}}(o);return _e(ye({},t),{primary:l,secondaries:Ze(r,c,s)})}return _e(ye({},t),{primary:l,secondaries:r})}))},lt=qe||Ye,it=lt&&he.actionURL?he.actionURL:te,ot=he&&a.createElement(D.i,{space:"three",direction:"IN_LINE"===F?"row":"column"},he&&a.createElement(D.j,{grow:1},a.createElement("div",null,a.createElement(Py,{data:he,searchLocationContent:null==ie?void 0:ie.content,onProductSelect:Xe,setFieldRefByTypename:Ue,fieldError:J.fieldsWithErrors.find((function(e){return"EGDSSearchFormLocationFieldOrigin"===e.__typename})),searchFormMessaging:de})))),ct="SoftPackagesArea",st=function(t){var n=function(e){return e===d.OB.SMALL||"STACKED"===F?["1fr"]:[(0,f.R)(3,"1fr"),"max-content"]}(t),r=t===d.OB.SMALL||"STACKED"===F?function(){var e=[(0,f.R)(3,"max-content")];return he&&e.splice(3,0,(0,f.F)("1x")),e}():function(){var e=["1fr"];return he?Ee(e).concat([(0,f.F)("1x")]):e}(),l=t===d.OB.SMALL||"STACKED"===F?function(){var e=["EGDSSearchFormLocationField","EGDSSearchFormDatePickerField","EGDSSearchFormTravelersField","EGDSSearchFormButton"];return he&&e.splice(3,0,ct),e}():function(){var e=["EGDSSearchFormLocationField EGDSSearchFormDatePickerField EGDSSearchFormTravelersField EGDSSearchFormButton"];return he?Ee(e).concat(["".concat(ct," ").concat(ct," ").concat(ct," ").concat(ct)]):e}(),i=new URLSearchParams(window.location.search).get("destination");return a.createElement(f.E,{columns:n,rows:r,space:"three",areas:l},Ne.map((function(t,n){var r=t.__typename,l=H_.find((function(e){return e.displayName===r}));if(!l)return null;var o,c,s,d=J.fieldsWithErrors.find((function(e){var t="SoftPackages"===r&&"EGDSSearchFormLocationFieldOrigin"===e.__typename;return e.__typename===r||t})),u=(s=Ee(Ne).find((function(e){return"EGDSSearchFormLocationField"===e.__typename})),"EGDSSearchFormLocationField"===(null==s?void 0:s.__typename)&&"OpenTypeaheadAction"===(null==s||null===(o=s.action)||void 0===o?void 0:o.__typename)&&null!==(c=null==s?void 0:s.action.info.showCurrentLocation)&&void 0!==c&&c&&i?i:""),m=_e(ye(_e(ye({},e),{lastSearchLatLong:tt,setFieldRefByTypename:Ue,fieldError:d,autoOpen:_,onClearLocation:at,onProductSelect:Xe,valueFromQueryParam:u,onSelection:rt,flexibleContentConfig:{includeFlexibleCalendarContent:k,includeFlexibleDatesContent:R},popoverWidth:650,onOpenDatesField:Pe,groupStaysLink:se}),lt?he:{}),{showCurrentLocation:$,onOpenLocationField:ze,searchLocationAnalytics:null==ie?void 0:ie.analytics,searchLocationContent:null==ie?void 0:ie.content,gaiaId:Fe,dailyPriceInsightsConfig:Le,onFlexibleTabSelection:W}),p="SoftPackages"===r,y="EGDSSearchFormDatePickerField"===l.displayName&&(null==ue?void 0:ue.datePrefillImpression)?a.createElement(k_,{data:ue.datePrefillImpression},a.createElement(l,_e(ye({},m),{data:t}))):a.createElement(l,_e(ye({},m),{data:t})),v=p?ot:y,S=p?ct:r;return a.createElement(f.a,{area:S,key:"field_".concat(S,"_").concat(n)},a.createElement(f.E,{autoRows:["max-content"]},v))})))};return a.createElement(b.E,{ref:j,id:Me,name:Me,method:"GET",action:it,onFieldChange:function(e,t){if(m){var n,a=j.current?Array.from(null===(n=j.current)||void 0===n?void 0:n.elements):[],r=au("LODGING",a);m(e,t,r)}var l,i;T&&(null===(l=j.current)||void 0===l||l.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));"EGDSDateRangePicker"===e.name&&(null==L?void 0:L.onDateFieldChange)&&!T&&(null===(i=j.current)||void 0===i||i.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));ge((function(t){var n=G_.DESTINATION,a=G_.TRAVELER_ROOM_SELECTOR,r=G_.TRAVELER_BASIC_SELECTOR,l=G_.TRAVEL_DATES,i=G_.TRAVEL_DATES_FLEXIBLE,o=e.name,c=e.value,s=o===l,d=o===i,u=o===a||o===r;if(!t)return null;if(!(s||u||o===n||d))return ye({},t);var m=function(e,t,n,a,r){var l={__typename:"EGDSPlainText",accessibility:null,text:""};if(a.length>1){if(e){var i=Pa(r,H);return[_e(ye({},l),{text:i}),a[1]]}if(n)return[a[0],_e(ye({},l),{text:r})];if(t)return[_e(ye({},l),{text:r}),a[1]]}if(e){var o=Pa(r,H);return[_e(ye({},l),{text:o}),a[0]]}return t?[_e(ye({},l),{text:r}),a[0]]:n?[_e(ye({},l),{text:r})]:Ee(a)}(s,d,u,t.secondaries,c);return _e(ye({},t),{secondaries:m})})),Re(!0)},onSubmit:function(e){var t,n;Q(ye({},q));var a,r=Array.from(e.currentTarget.elements),l=je(r),i=l.fieldsWithErrors,o=l.errorCount,c=l.isFormValid;if(z[null===(t=i[0])||void 0===t?void 0:t.__typename]&&(null==s||null===(n=s.errorSummary)||void 0===n?void 0:n.analytics)){var d="".concat(s.errorSummary.analytics.referrerId,".For.NoDestinationSubmit");xe(d,s.errorSummary.analytics.linkName)}if(!c)return Q({fieldsWithErrors:i,errorCount:o,displayErrorSummary:!0,errorLinkReference:z[null===(a=i[0])||void 0===a?void 0:a.__typename]}),void e.preventDefault();if(p||C){var u=au("LODGING",r),m=w_(new URLSearchParams(u))||void 0;p&&p(e,m),C&&(e.preventDefault(),we(new x.xy("SEARCH_FORM_NEXT_PAGE",{})),window.location.href="".concat(e.currentTarget.action).concat(u).concat(I?"&".concat(I):""))}},hasRequiredFieldIndicator:!0},Qe&&a.createElement(vl,{data:ne,errorCount:Ke,inputErrorRef:Je}),a.createElement(l.b,{margin:{blockstart:Qe?"two":void 0}},a.createElement("div",null,a.createElement(d.LM,null,a.createElement(d.NP,null,Se?a.createElement(qc,{data:Se,stickyPlayback:g,display:Ge,onDisplayToggle:function(e){Re(e),null==y||y(!e)}},st(d.OB.SMALL)):st(d.OB.SMALL)),a.createElement(d.rw,null,E?a.createElement(Gn,null,st(d.OB.MEDIUM)):st(d.OB.MEDIUM)),a.createElement(d.zQ,null,E?a.createElement(Gn,null,st(d.OB.LARGE)):st(d.OB.LARGE))))))};Y_.fragment=V_,Y_.displayName="LodgingSearchForm";var q_={SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE:new p.SystemEvent(p.SystemEventLevel.ERROR,"SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE")},j_={linkName:"Lodging Search Form Fallback Presented",referrerId:"Web.Lodging.Search.Form.Fallback.Presented"},$_={linkName:"Lodging Search Form Presented",referrerId:"Web.Hotels.Search.Form.Presented"},K_=(0,u.J1)(kn(),Y_.fragment),J_=function(e){var t,n,r,l,o,c,s,u,y,_,v,g,f,h=e.inputs,D=e.skipSsr,T=e.skipQuery,b=void 0!==T&&T,C=e.fetchPolicy,I=e.batchKey,A=e.features,F=e.includePlayback,O=e.layout,k=void 0===O?"IN_LINE":O,G=e.enableReflection,R=e.pageLocation,L=(0,m.R)().context,P=(0,p.useLoggerEvents)(q_),M=ve(a.useState(b),2),N=M[0],x=M[1],B=A?Ee(A):[],w=Ee(B),W=w.length>0?w:void 0,U=_e(ye({},h),{context:L,includePlayback:!!F,features:W,pageLocation:R}),H=(0,E.I)(K_,ye({context:{batchKey:I},variables:U,ssr:!D,skip:N},C?{fetchPolicy:C}:{})),V=H.data,z=H.error,Y=H.loading,q=H.previousData,j=null!=V?V:q;if(a.useEffect((function(){x(b&&!Y)}),[Y,b]),Y&&!j)return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Zn,{rows:[{type:"primary"},{type:"primary"},{type:"primary"}]})),a.createElement(d.rw,null,a.createElement(Zn,{rows:[{type:"primary"}]})));var $,K,J=null===(t=h.propertySearchCriteriaInput)||void 0===t?void 0:t.secondary,Q=null!==($=null===(l=h.propertySearchCriteriaInput)||void 0===l||null===(r=l.primary)||void 0===r||null===(n=r.destination)||void 0===n?void 0:n.pinnedPropertyId)&&void 0!==$?$:void 0,X=J?{amenitiesFacilitiesGroup:null==J||null===(c=J.selections)||void 0===c||null===(o=c.find((function(e){return"amenities_facilities_group"===e.id})))||void 0===o?void 0:o.value,locationGroup:null==J||null===(u=J.selections)||void 0===u||null===(s=u.find((function(e){return"location_group"===e.id})))||void 0===s?void 0:s.value,propertiesGoodForGroup:null==J||null===(_=J.selections)||void 0===_||null===(y=_.find((function(e){return"properties_good_for_group"===e.id})))||void 0===y?void 0:y.value,propertyTypeGroup:null==J||null===(g=J.selections)||void 0===g||null===(v=g.find((function(e){return"property_type_group"===e.id})))||void 0===v?void 0:v.value}:void 0,Z=_e(ye({},e),{regionId:null!==(K=null===(f=h.propertySearchCriteriaInput)||void 0===f?void 0:f.primary.destination.regionId)&&void 0!==K?K:"",propertyRefinements:X,pinnedPropertyId:Q,skipQuery:N,layout:k,pageLocation:R});if(z||!j||"LodgingSearchForm"!==j.searchForm.lodging.__typename){var ee={__typename:"LodgingSearchForm",egdsElementId:"lodging_search_form",actionURL:"/Hotel-Search",errorSummary:f_,elements:[h_,A_,F_],search:O_,searchLocation:Xi,playback:null,softPackages:null,adaptExSuccessEvent:null,hidePlayback:null,priceInsightsDailyConfig:null,groupStaysLink:null,valuePropMessage:null,searchFormAnalytics:null};return P.SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE.log({name:null==z?void 0:z.name,error:new Error(null==z?void 0:z.message)}),a.createElement(Wn,null,a.createElement(S.ee,ye({},j_),G?a.createElement(i.tb,null,a.createElement(Y_,_e(ye({},Z),{data:ee}))):a.createElement(Y_,_e(ye({},Z),{data:ee}))))}return a.createElement(S.ee,ye({},$_),G?a.createElement(i.tb,null,a.createElement(Y_,_e(ye({},Z),{data:j.searchForm.lodging,skipQuery:N}))):a.createElement(Y_,_e(ye({},Z),{data:j.searchForm.lodging,skipQuery:N})))};J_.displayName="sharedui-LodgingSearchForm"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/lotus-home-ui/3222.b278078b37f0f710934d.js.map